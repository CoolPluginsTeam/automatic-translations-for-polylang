{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE,UAAU;AACZ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,aAAa;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,eAAe;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,eAAe;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,eAAe;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,EAAE,iBAAiB,EAAE,MAAM;AACzD;AACA,8BAA8B,aAAa;AAC3C,wDAAwD;AACxD,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,gBAAgB,sBAAsB;AACtC,gBAAgB,sBAAsB;AACtC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,kDAAkD;AAClD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E,0EAA0E;AAC1E,sFAAsF;AACtF;AACA;AACA,gFAAgF;AAChF,wEAAwE,gDAAgD;AACxH,wEAAwE,gDAAgD;AACxH;AACA,qDAAqD;AACrD,qDAAqD;AACrD,oEAAoE;AACpE,uEAAuE;AACvE,0DAA0D;AAC1D,+CAA+C;AAC/C,kDAAkD;AAClD,0CAA0C;AAC1C,4DAA4D;AAC5D,4DAA4D;AAC5D,0CAA0C;AAC1C,+CAA+C;AAC/C,8DAA8D;AAC9D,+CAA+C;AAC/C,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,oFAAoF,6DAA6D,8HAA8H;AAC/Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qTAAqT;AACrT;AACA;AACA;AACA,MAAM,wCAAwC,oFAAoF,oKAAoK,iHAAiH;AACvZ;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE6B;AAC7B;;;;;;;;;;;ACn2Ca;;AAEb,QAAQ,mBAAO,CAAC,4BAAW;AAC3B,IAAI,KAAqC,EAAE;AAAA,EAG1C,CAAC;AACF;AACA,EAAE,kBAAkB;AACpB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,EAAE,mBAAmB;AACrB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;;;;ACxBA,MAAMA,iBAAiB,GAAC;EACpB,oBAAoB,EAAE;IAACC,IAAI,EAAE;EAAQ,CAAC;EACtC,sBAAsB,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACxC,uBAAuB,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACzC,sBAAsB,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACxC,8BAA8B,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EAChD,oCAAoC,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACtD,4BAA4B,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EAC9C,kCAAkC,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACpD,iBAAiB,EAAE;IAACA,IAAI,EAAE;EAAQ,CAAC;EACnC,uBAAuB,EAAE;IAACA,IAAI,EAA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","sources":["webpack://autopoly-ai-translation-for-polylang/./node_modules/dompurify/dist/purify.es.mjs","webpack://autopoly-ai-translation-for-polylang/./node_modules/react-dom/client.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/allowed-meta-fields.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/copy-clipboard/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/error-modal-box/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/filter-nested-attr/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/filter-target-content/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/format-number-count/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/notice/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/pro-version-notice/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/progress-bar/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/progress-bar/show-string-count.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/store-time-taken/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/store-translated-string/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/string-modal-scroll/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-provider/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-provider/local-ai-translator/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-provider/local-ai-translator/local-ai-translator.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-provider/yandex/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-provider/yandex/yandex-language.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-seo-fields/rank-math-seo.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-seo-fields/seo-press.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/component/translate-seo-fields/yoast-seo-fields.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/create-translated-post/elementor/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/create-translated-post/gutenberg/create-block.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/create-translated-post/gutenberg/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/fetch-post/elementor/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/fetch-post/gutenberg/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/global-store/actions.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/global-store/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/global-store/reducer.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/global-store/selectors.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/global-store/types.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/helper/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-setting-modal/body.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-setting-modal/footer.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-setting-modal/header.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-setting-modal/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-setting-modal/providers.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-string-modal/body.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-string-modal/footer.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-string-modal/header.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-string-modal/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/popup-string-modal/notice.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/store-source-string/elementor/index.js","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/store-source-string/gutenberg/index.js","webpack://autopoly-ai-translation-for-polylang/external window [\"wp\",\"blocks\"]","webpack://autopoly-ai-translation-for-polylang/external window [\"wp\",\"data\"]","webpack://autopoly-ai-translation-for-polylang/external window [\"wp\",\"element\"]","webpack://autopoly-ai-translation-for-polylang/external window [\"wp\",\"i18n\"]","webpack://autopoly-ai-translation-for-polylang/external window \"React\"","webpack://autopoly-ai-translation-for-polylang/external window \"ReactDOM\"","webpack://autopoly-ai-translation-for-polylang/webpack/bootstrap","webpack://autopoly-ai-translation-for-polylang/webpack/runtime/compat get default export","webpack://autopoly-ai-translation-for-polylang/webpack/runtime/define property getters","webpack://autopoly-ai-translation-for-polylang/webpack/runtime/hasOwnProperty shorthand","webpack://autopoly-ai-translation-for-polylang/webpack/runtime/make namespace object","webpack://autopoly-ai-translation-for-polylang/./src/automatic-translate/index.js"],"sourcesContent":["/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'mask-type', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.3.0';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    }\n  }));\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!(EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function && EXTRA_ELEMENT_HANDLING.tagCheck(tagName)) && (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function && EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const AllowedMetaFields={\r\n    '_yoast_wpseo_title': {type: 'string'},\r\n    '_yoast_wpseo_focuskw': {type: 'string'},\r\n    '_yoast_wpseo_metadesc': {type: 'string'},\r\n    '_yoast_wpseo_bctitle': {type: 'string'},\r\n    '_yoast_wpseo_opengraph-title': {type: 'string'},\r\n    '_yoast_wpseo_opengraph-description': {type: 'string'},\r\n    '_yoast_wpseo_twitter-title': {type: 'string'},\r\n    '_yoast_wpseo_twitter-description': {type: 'string'},\r\n    'rank_math_title': {type: 'string'},\r\n    'rank_math_description': {type: 'string'},\r\n    'rank_math_focus_keyword': {type: 'string'},\r\n    'rank_math_facebook_title': {type: 'string'},\r\n    'rank_math_facebook_description': {type: 'string'},\r\n    'rank_math_twitter_title': {type: 'string'},\r\n    'rank_math_twitter_description': {type: 'string'},\r\n    'rank_math_breadcrumb_title': {type: 'string'},\r\n    '_seopress_titles_title': {type: 'string'},\r\n    '_seopress_titles_desc': {type: 'string'},\r\n    '_seopress_social_fb_title': {type: 'string'},\r\n    '_seopress_social_fb_desc': {type: 'string'},\r\n    '_seopress_social_twitter_title': {type: 'string'},\r\n    '_seopress_social_twitter_desc': {type: 'string'},\r\n    '_seopress_analysis_target_kw': {type: 'string'}\r\n};\r\n\r\nexport default AllowedMetaFields;","const CopyClipboard = async ({ text = false, startCopyStatus = () => {}, endCopyStatus = () => {} }) => {\r\n    if (!text || text === \"\") return;\r\n\r\n    try {\r\n      if (navigator?.clipboard?.writeText) {\r\n        await navigator.clipboard.writeText(text);\r\n      } else {\r\n        // Fallback method if Clipboard API is not supported\r\n        const textArea = document.createElement('textarea');\r\n        textArea.value = text;\r\n        document.body.appendChild(textArea);\r\n        textArea.select();\r\n        if (document.execCommand) {\r\n          document.execCommand('copy');\r\n        }\r\n        document.body.removeChild(textArea);\r\n      }\r\n\r\n      startCopyStatus();\r\n      setTimeout(() => endCopyStatus(), 800); // Reset to \"Copy\" after 2 seconds\r\n    } catch (err) {\r\n      console.error('Error copying text to clipboard:', err);\r\n    }\r\n};\r\n\r\nexport default CopyClipboard;\r\n","import CopyClipboard from \"../copy-clipboard\";\r\nimport { useEffect } from \"@wordpress/element\";\r\nimport DOMPurify from 'dompurify';\r\n\r\nconst ErrorModalBox = ({ message, onClose, Title }) => {\r\n\r\n    let dummyElement = jQuery('<div>').append(message);\r\n    const stringifiedMessage = dummyElement.html();\r\n    dummyElement.remove();\r\n    dummyElement = null;\r\n\r\n    useEffect(() => {\r\n        const clipboardElements = document.querySelectorAll('.chrome-ai-translator-flags');\r\n\r\n        if (clipboardElements.length > 0) {\r\n            clipboardElements.forEach(element => {\r\n\r\n                element.classList.add('atfp-tooltip-element');\r\n\r\n                element.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    const toolTipExists = element.querySelector('.atfp-tooltip');\r\n                    \r\n                    if(toolTipExists){\r\n                        return;\r\n                    }\r\n\r\n                    let toolTipElement = document.createElement('span');\r\n                    toolTipElement.textContent = \"Text to be copied.\";\r\n                    toolTipElement.className = 'atfp-tooltip';\r\n                    element.appendChild(toolTipElement);\r\n\r\n                    CopyClipboard({ text: element.getAttribute('data-clipboard-text'), startCopyStatus: () => {\r\n                        toolTipElement.classList.add('atfp-tooltip-active');\r\n                    }, endCopyStatus: () => {\r\n                        setTimeout(() => {\r\n                            toolTipElement.remove();\r\n                        }, 800);\r\n                    } });\r\n                });\r\n            });\r\n\r\n            return () => {\r\n                clipboardElements.forEach(element => {\r\n                    element.removeEventListener('click', () => { });\r\n                });\r\n            };\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"atfp-error-modal-box-container\">\r\n            <div className=\"atfp-error-modal-box\">\r\n                <div className=\"atfp-error-modal-box-header\">\r\n                    <span className=\"atfp-error-modal-box-close\" onClick={onClose}></span>\r\n                    {Title && <h3>{Title}</h3>}\r\n                </div>\r\n                <div className=\"atfp-error-modal-box-body\">\r\n                    <p dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(stringifiedMessage) }} />\r\n                </div>\r\n                <div className=\"atfp-error-modal-box-footer\">\r\n                    <button className=\"atfp-error-modal-box-close button button-primary\" onClick={onClose}>Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ErrorModalBox;\r\n","const FilterBlockNestedAttr = (idsArr, attrObj, blockAttr, callBack) => {\r\n    /**\r\n     * Iterates over the keys of the filter object and calls saveTranslatedAttr for each key.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterObj - The filter object to iterate over.\r\n     */\r\n    const childAttr = (idArr, filterObj) => {\r\n        Object.keys(filterObj).map(key => {\r\n            let filterObjType = filterObj;\r\n            filterObjType = filterObjType[key];\r\n            const newIdArr = new Array(...idArr, key);\r\n\r\n            callBack(newIdArr, filterObjType);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the attributes that are arrays and objects by recursively calling saveTranslatedAttr.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Array} attrFilter - The filter attribute array.\r\n     */\r\n    const childAttrArray = (idArr, attrFilter) => {\r\n\r\n        const newIdArr = new Array(...idArr);\r\n        let dynamicBlockAttr = blockAttr;\r\n\r\n        newIdArr.forEach(key => {\r\n            dynamicBlockAttr = dynamicBlockAttr[key];\r\n        });\r\n\r\n        if([null, undefined].includes(dynamicBlockAttr)) {\r\n            return;\r\n        }\r\n\r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Object.prototype) {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n        \r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Array.prototype) {\r\n            dynamicBlockAttr.forEach((_, index) => {\r\n                const nestedId = new Array();\r\n                newIdArr.forEach(key => {\r\n                    nestedId.push(key);\r\n                });\r\n                \r\n                nestedId.push(index);\r\n                callBack(nestedId, attrFilter[0]);\r\n            });\r\n        }\r\n\r\n        if (typeof dynamicBlockAttr === 'object') {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n    }\r\n\r\n\r\n    const typeCheck = () => {\r\n        if (Object.getPrototypeOf(attrObj) === Array.prototype) {\r\n            childAttrArray(idsArr, attrObj);\r\n        } else if (Object.getPrototypeOf(attrObj) === Object.prototype) {\r\n            childAttr(idsArr, attrObj);\r\n        }\r\n    }\r\n\r\n    typeCheck();\r\n}\r\n\r\nexport default FilterBlockNestedAttr;","const FilterTargetContent = (props) => {\r\n    const skipTags = props.skipTags || [];\r\n    const OpenSpanPlaceholder = '#atfp_open_translate_span#';\r\n    const CloseSpanPlaceholder = '#atfp_close_translate_span#';\r\n    const OpenTempTagPlaceholder = '#atfp_temp_tag_open#';\r\n    const CloseTempTagPlaceholder = '#atfp_temp_tag_close#';\r\n    const LessThanSymbol = '#atfp_less_then_symbol#';\r\n    const GreaterThanSymbol = '#atfp_greater_then_symbol#';\r\n    const entityOpenPlaceholder = '#atfp_entity_open_translate_span#';\r\n    const entityClosePlaceholder = '#atfp_entity_close_translate_span#';\r\n\r\n    const removeInnerSpanPlaceholder = (content) => {\r\n        return content.replace(new RegExp(OpenSpanPlaceholder, 'g'), '').replace(new RegExp(CloseSpanPlaceholder, 'g'), '');\r\n    }\r\n\r\n    const setEntityPlaceholder = (content) => {\r\n        const entityRegex = /&([a-zA-Z0-9#x]+);/g;\r\n\r\n        return content.replace(entityRegex, (match) => `${entityOpenPlaceholder}${match.replace(/&/g, '').replace(/;/g, '')}${entityClosePlaceholder}`);\r\n    }\r\n\r\n    const removeEntityPlaceholder = (content) => {\r\n        return content.replace(new RegExp(entityOpenPlaceholder, 'g'), '&').replace(new RegExp(entityClosePlaceholder, 'g'), ';');\r\n    }\r\n\r\n    const fixHtmlTags = (content) => {\r\n        if (typeof content !== 'string' || !content.trim()) return content;\r\n\r\n        const tagRegex = /<\\/?([a-zA-Z0-9]+)(\\s[^>]*)?>/g;\r\n        const stack = [];\r\n        let result = '';\r\n        let lastIndex = 0;\r\n        let match;\r\n\r\n        while ((match = tagRegex.exec(content)) !== null) {\r\n            const [fullMatch, tagName] = match;\r\n            const isClosingTag = fullMatch.startsWith('</');\r\n            const currentIndex = match.index;\r\n\r\n            // Append content before this tag\r\n            if (currentIndex > lastIndex) {\r\n                result += content.slice(lastIndex, currentIndex);\r\n            }\r\n\r\n            if (!isClosingTag) {\r\n                // Opening tag: push to stack\r\n                stack.push({ tag: tagName });\r\n                result += fullMatch;\r\n            } else {\r\n                // Closing tag\r\n                const openIndex = stack.findIndex(t => t.tag === tagName);\r\n                if (openIndex !== -1) {\r\n                    // Match found: remove opening from stack\r\n                    stack.splice(openIndex, 1);\r\n                    result += fullMatch;\r\n                } else {\r\n                    // No opening tag: insert missing opening tag before closing\r\n                    result += `${OpenTempTagPlaceholder}<${tagName}>${CloseTempTagPlaceholder}` + fullMatch;\r\n                }\r\n            }\r\n\r\n            lastIndex = tagRegex.lastIndex;\r\n        }\r\n\r\n        // Append any remaining content after last tag\r\n        if (lastIndex < content.length) {\r\n            result += content.slice(lastIndex);\r\n        }\r\n\r\n        // Add missing closing tags at the end\r\n        for (let i = stack.length - 1; i >= 0; i--) {\r\n            const { tag } = stack[i];\r\n            result += `${OpenTempTagPlaceholder}</${tag}>${CloseTempTagPlaceholder}`;\r\n        }\r\n\r\n        // Clear references to free memory (optional in GC-based engines, but helpful)\r\n        match = null;\r\n        stack.length = 0;\r\n        content = null;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Wraps the first element and its matching closing tag with translation spans.\r\n     * If no elements are found, returns the original HTML.\r\n     * @param {string} html - The HTML string to process.\r\n     * @returns {string} The modified HTML string with wrapped translation spans.\r\n     */\r\n    const wrapFirstAndMatchingClosingTag = (html) => {\r\n        // Create a temporary element to parse the HTML string\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = html;\r\n\r\n        // Get the first element\r\n        const firstElement = tempElement.firstElementChild;\r\n\r\n        if (!firstElement) {\r\n            return html; // If no elements, return the original HTML\r\n        }\r\n\r\n\r\n        let childNodes = firstElement.childNodes;\r\n        let childNodesLength = childNodes.length;\r\n        if (childNodesLength > 0) {\r\n            // Sort so that nodeType 3 (Text nodes) come first\r\n            childNodes = Array.from(childNodes).sort((a, b) => (a.nodeType === 3 ? -1 : b.nodeType === 3 ? 1 : 0));\r\n            for (let i = 0; i < childNodesLength; i++) {\r\n                let element = childNodes[i];\r\n\r\n                if (element.nodeType === 3) {\r\n                    let textContent = element.textContent.replace(/^\\s+|^\\.\\s+|^\\s.|\\s+$|\\.\\s+$|\\s.\\+$/g, (match) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`);\r\n\r\n                    element.textContent = textContent;\r\n                }\r\n                else if (element.nodeType === 8) {\r\n                    // let textContent = `<!--${element.textContent}-->`;\r\n                    element.textContent = element.textContent;\r\n                }\r\n                else {\r\n                    let filterContent = wrapFirstAndMatchingClosingTag(element.outerHTML);\r\n                    element.outerHTML = filterContent;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get the opening tag of the first element\r\n        // const firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n        let firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n        \r\n        const pattern = new RegExp(\r\n            `${OpenSpanPlaceholder}|${CloseSpanPlaceholder}`,\r\n            'g'\r\n        );\r\n\r\n        firstElementOpeningTag = firstElementOpeningTag.replace(pattern, '');\r\n\r\n        // Check if the first element has a corresponding closing tag\r\n        const openTagName = firstElement.tagName.toLowerCase();\r\n        const closingTagName = new RegExp(`<\\/${openTagName}>`, 'i');\r\n\r\n        // Check if the inner HTML contains the corresponding closing tag\r\n        const closingTagMatch = firstElement.outerHTML.match(closingTagName);\r\n\r\n        // Wrap the style element\r\n        if (firstElementOpeningTag === '<style>') {\r\n            let wrappedFirstTag = `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(firstElement.outerHTML)}${CloseSpanPlaceholder}`;\r\n            return wrappedFirstTag;\r\n        }\r\n\r\n        let firstElementHtml = firstElement.innerHTML;\r\n\r\n        firstElementHtml = firstElementHtml.replace(/^\\s+|^\\.\\s+|^\\s.|\\s+$|\\.\\s+$|\\s.\\+$/g, (match) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`);\r\n\r\n        firstElement.innerHTML = '';\r\n        let closeTag = '';\r\n        let openTag = '';\r\n        let filterContent = '';\r\n\r\n        openTag = `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(firstElementOpeningTag)}${CloseSpanPlaceholder}`;\r\n        if (closingTagMatch) {\r\n            closeTag = `${OpenSpanPlaceholder}</${openTagName}>${CloseSpanPlaceholder}`;\r\n        }\r\n\r\n        if (skipTags.includes(openTagName)) {\r\n            // Remove the custom span markers from the HTML if the tag is in skipTags\r\n            const pattern = new RegExp(\r\n                `${OpenSpanPlaceholder}|${CloseSpanPlaceholder}`,\r\n                'g'\r\n            );\r\n\r\n            firstElementHtml = firstElementHtml.replace(pattern, '');\r\n            firstElementHtml = `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(firstElementHtml)}${CloseSpanPlaceholder}`;\r\n        }\r\n\r\n        if ('' !== firstElementHtml) {\r\n            if ('' !== openTag) {\r\n                filterContent = openTag + firstElementHtml;\r\n            }\r\n            if ('' !== closeTag) {\r\n                filterContent += closeTag;\r\n            }\r\n        } else {\r\n            filterContent = openTag + closeTag;\r\n        }\r\n\r\n        firstElement.outerHTML = filterContent;\r\n\r\n        // Return the modified HTML\r\n        return tempElement.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Splits the content string based on a specific pattern.\r\n     * @param {string} string - The content string to split.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const splitContent = (string) => {\r\n        const pattern = new RegExp(\r\n            `(${OpenSpanPlaceholder}[\\\\s\\\\S]*?${CloseSpanPlaceholder})|'`,\r\n        );\r\n\r\n        const matches = string.split(pattern).filter(Boolean);\r\n\r\n        // Remove empty strings from the result\r\n        const output = matches.filter(match => match.trim() !== '');\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * Filters the SEO content.\r\n     * @param {string} content - The SEO content to filter.\r\n     * @returns {string} The filtered SEO content.\r\n     */\r\n    const filterSeoContent = (content) => {\r\n        const regex = /(%{1,2}[a-zA-Z0-9_]+%{0,2})/g;\r\n\r\n        // Replace placeholders with wrapped spans\r\n        const output = content.replace(regex, (match) => {\r\n            return `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`;\r\n        });\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * Checks if the HTML is empty or has an unclosed tag.\r\n     * @param {string} html - The HTML string to check.\r\n     * @returns {boolean} True if the HTML is empty or has an unclosed tag, false otherwise.\r\n     */\r\n    const isEmptyOrUnclosedTag = (html) => {\r\n        // Clean up whitespace\r\n        html = html.trim();\r\n\r\n        // Regex that matches:\r\n        // 1 Single open tag only (<div>, <table>, <span class=\"x\">, etc.)\r\n        // 2 Empty tag (<div></div>, <table></table>, etc.)\r\n        // 3 Ignores self-closing tags like <img />, <br />, etc.\r\n        const regex = /^<([a-z][a-z0-9]*)\\b[^>]*>(\\s*(?:<!--.*?-->\\s*)*<\\/\\1>)?$/i;\r\n\r\n        // Test and return true/false\r\n        return regex.test(html);\r\n    }\r\n\r\n    /**\r\n     * Synchronizes the TR and TD tags from the first string to the second string.\r\n     * @param {string} str1 - The first string to synchronize.\r\n     * @param {string} str2 - The second string to synchronize.\r\n     * @returns {string} The synchronized string.\r\n     */\r\n    const syncTRTDFromFirstToSecond = (str1, str2) => {\r\n        str1 = str1.trim();\r\n\r\n        // 1 Check if first string has any tr or td\r\n        if (!/<\\/?(tr|td)\\b[^>]*>/i.test(str1)) {\r\n            return str2; // no tr/td  skip\r\n        }\r\n\r\n        // 2 Skip if second string already contains tr or td\r\n        if (/<\\/?(tr|td)\\b[^>]*>/i.test(str2)) {\r\n            return str2;\r\n        }\r\n\r\n        str2 = str2.trim();\r\n\r\n        // 3 Extract tags (if present)\r\n        const startTagMatch = str1.match(/^<(tr|td)\\b[^>]*>/i);     // opening tag at start\r\n        const endTagMatch = str1.match(/<\\/(tr|td)>\\s*$/i);        // closing tag at end\r\n\r\n        // 4 Build new string using only what exists\r\n        let newString = str2;\r\n\r\n        if (startTagMatch) {\r\n            newString = `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(startTagMatch[0])}${CloseSpanPlaceholder}` + newString;\r\n        }\r\n\r\n        if (endTagMatch) {\r\n            newString = newString + `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(endTagMatch[0])}${CloseSpanPlaceholder}`;\r\n        }\r\n\r\n        return newString;\r\n    }\r\n\r\n    /**\r\n     * Replaces the inner text of HTML elements with span elements for translation.\r\n     * @param {string} string - The HTML content string to process.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const filterSourceData = (string) => {\r\n\r\n        const isSeoContent = /^(_yoast_wpseo_|rank_math_|_seopress_)/.test(props.contentKey.trim());\r\n        if (isSeoContent) {\r\n            string = filterSeoContent(string);\r\n        }\r\n\r\n        // Filter shortcode content\r\n        const shortcodePattern = /\\[(.*?)\\]/g;\r\n        const shortcodeMatches = typeof string === 'string' ? string.match(shortcodePattern) : false;\r\n\r\n        if (shortcodeMatches) {\r\n            string = string.replace(shortcodePattern, (match) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`);\r\n        }\r\n\r\n        function replaceInnerTextWithSpan(doc) {\r\n            let childElements = doc.childNodes;\r\n\r\n            const childElementsReplace = (index) => {\r\n                if (childElements.length > index) {\r\n                    let element = childElements[index];\r\n                    let textNode = null;\r\n\r\n                    if (element.nodeType === 3) {\r\n                        const textContent = element.textContent.replace(/^\\s+|^\\.\\s+|^\\s.|\\s+$|\\.\\s+$|\\s.\\+$/g, (match) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`);\r\n\r\n                        textNode = document.createTextNode(textContent);\r\n                    } else if (element.nodeType === 8) {\r\n                        textNode = document.createTextNode(`${OpenSpanPlaceholder}${LessThanSymbol}!--${removeInnerSpanPlaceholder(element.textContent)}--${GreaterThanSymbol}${CloseSpanPlaceholder}`);\r\n                    } else if (element.nodeType === 1) {\r\n                        const childNodes = element.childNodes;\r\n\r\n                        const trimmed = element.outerHTML.trim();\r\n\r\n                        // Match the outer opening tag dynamically\r\n                        const match = trimmed.match(/^<([a-zA-Z0-9]+)(\\s[^>]*)?>/i);\r\n                        if (!match) return trimmed; // no valid HTML tag found\r\n\r\n                        const tagName = match[1];\r\n                        const attrs = match[2] || \"\";\r\n\r\n                        const hasClosingTag = new RegExp(`<\\\\/${tagName}>\\\\s*$`, \"i\").test(trimmed);\r\n\r\n                        if (childNodes.length > 0) {\r\n                            replaceInnerTextWithSpan(element);\r\n                        }\r\n\r\n                        let filterHtml = `${OpenSpanPlaceholder}${LessThanSymbol}${tagName}${removeInnerSpanPlaceholder(attrs)}${GreaterThanSymbol}${CloseSpanPlaceholder}${setEntityPlaceholder(element.innerHTML)}`;\r\n\r\n                        if (hasClosingTag) {\r\n                            filterHtml += `${OpenSpanPlaceholder}${LessThanSymbol}/${tagName}${GreaterThanSymbol}${CloseSpanPlaceholder}`;\r\n                        }\r\n\r\n                        textNode = document.createTextNode(filterHtml);\r\n\r\n                    } else {\r\n                        let filterHtml = element.outerHTML;\r\n\r\n                        filterHtml = filterHtml.replace(\r\n                            /<!--([\\s\\S]*?)-->/g,\r\n                            (match, inner) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`\r\n                        );\r\n\r\n                        let filterContent = wrapFirstAndMatchingClosingTag(filterHtml);\r\n\r\n                        textNode = document.createTextNode(filterContent);\r\n                    }\r\n\r\n                    element.replaceWith(textNode);\r\n\r\n                    index++;\r\n                    childElementsReplace(index);\r\n                }\r\n            }\r\n\r\n            childElementsReplace(0);\r\n            return doc;\r\n        }\r\n\r\n        let content = string;\r\n\r\n        \r\n        if (isEmptyOrUnclosedTag(string)) {\r\n            content = string.replace(/<([a-z][a-z0-9]*)\\b[^>]*>(\\s*(?:<!--.*?-->\\s*)*<\\/\\1>)?/gi, (match) => `${OpenSpanPlaceholder}${removeInnerSpanPlaceholder(match)}${CloseSpanPlaceholder}`);\r\n        } else {\r\n            const tempElement = document.createElement('div');\r\n            tempElement.innerHTML = fixHtmlTags(string);\r\n            replaceInnerTextWithSpan(tempElement);\r\n            \r\n            content = tempElement.innerText;\r\n\r\n            content = content.replace(new RegExp(LessThanSymbol, 'g'), '<').replace(new RegExp(GreaterThanSymbol, 'g'), '>');\r\n\r\n            content = syncTRTDFromFirstToSecond(string, content);\r\n        }\r\n        \r\n        // remoove all the ${OpenTempTagPlaceholder} and ${CloseTempTagPlaceholder}\r\n        const tempTagPattern = new RegExp(\r\n            `${OpenTempTagPlaceholder}([\\\\s\\\\S]*?)(${CloseTempTagPlaceholder})`,\r\n            'g'\r\n        );\r\n        content = content.replace(tempTagPattern, '');\r\n\r\n        content = removeEntityPlaceholder(content);\r\n\r\n        return splitContent(content);\r\n    }\r\n\r\n    /**\r\n     * The content to be filtered based on the service type.\r\n     * If the service is 'yandex', 'localAiTranslator', the content is filtered using filterSourceData function, otherwise, the content remains unchanged.\r\n     */\r\n    const content = ['yandex', 'localAiTranslator'].includes(props.service) ? filterSourceData(props.content) : props.content;\r\n\r\n    /**\r\n     * Regular expression pattern to match the span elements that should not be translated.\r\n     */\r\n    const notTranslatePattern = new RegExp(\r\n        `${OpenSpanPlaceholder}[\\\\s\\\\S]*?${CloseSpanPlaceholder}`\r\n    );\r\n\r\n    /**\r\n     * Regular expression pattern to replace the placeholder span elements.\r\n     */\r\n    const replacePlaceholderPattern = new RegExp(\r\n        `${OpenSpanPlaceholder}|${CloseSpanPlaceholder}`,\r\n        'g'\r\n    );\r\n\r\n\r\n    const filterContent = content => {\r\n        const updatedContent = content.replace(replacePlaceholderPattern, '');\r\n        return updatedContent;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {['yandex', 'localAiTranslator', 'google'].includes(props.service) ?\r\n                content.map((data, index) => {\r\n                    const notTranslate = notTranslatePattern.test(data);\r\n                    if (notTranslate) {\r\n                        return <span key={index} className=\"notranslate atfp-notraslate-tag\" translate=\"no\">{filterContent(data)}</span>;\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                })\r\n                : content}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FilterTargetContent;","const FormatNumberCount = ({number}) => {\r\n    if (number >= 1000000) {\r\n        return (number / 1000000).toFixed(1) + 'M';\r\n    } else if (number >= 1000) {\r\n        return (number / 1000).toFixed(1) + 'K';\r\n    }\r\n    return number;\r\n};\r\n\r\nexport default FormatNumberCount;","import { useEffect } from 'react';\r\n\r\nconst Notice = (props) => {\r\n\r\n    const updateNoticeWrapperHeight = () => {\r\n        const parentNoticeWrapper = document.querySelector('.atfp-body-notice-wrapper');\r\n        if(parentNoticeWrapper){\r\n            const height= parentNoticeWrapper.offsetHeight + parentNoticeWrapper.offsetTop;\r\n\r\n            parentNoticeWrapper.closest('.modal-body').style.setProperty('--atfp-notice-wrapper-height', `${height}px`);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if(props.lastNotice){\r\n            updateNoticeWrapperHeight();\r\n            window.addEventListener('resize', updateNoticeWrapperHeight);\r\n        }\r\n        \r\n        return () => {\r\n            window.removeEventListener('resize', updateNoticeWrapperHeight);\r\n        }\r\n\r\n    }, [props.lastNotice]);\r\n\r\n    return (\r\n        <div className={props.className}>{props.children}</div>\r\n    );\r\n};\r\n\r\nexport default Notice;\r\n","import { useState, useEffect } from 'react';\r\nimport FormatNumberCount from '../format-number-count';\r\n\r\nconst ProVersionNotice = ({ characterCount = 0, url = '' }) => {\r\n    const [showNotice, setShowNotice] = useState(false);\r\n    const [activeClass, setActiveClass] = useState(false);\r\n\r\n    if(url !== ''){\r\n        url = url+'?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup';\r\n    }\r\n\r\n    useEffect(() => {\r\n        const translateButton = document.querySelector('button.atfp-translate-button[name=\"atfp_meta_box_translate\"],input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n\r\n        if (!translateButton) {\r\n            return;\r\n        }\r\n\r\n        translateButton.addEventListener('click', () => {\r\n            setShowNotice(true);\r\n            setActiveClass(true);\r\n        });\r\n\r\n        return () => {\r\n            translateButton.removeEventListener('click', () => { });\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        showNotice ? (\r\n            <div id=\"atfp-pro-notice-wrapper\" className={`${activeClass ? 'atfp-active' : ''}`}>\r\n                <div className=\"atfp-pro-notice\">\r\n                    <div className=\"atfp-notice-header\">\r\n                        <h2>AutoPoly - AI Translation For Polylang</h2>\r\n                        <span className=\"atfp-close-button\" onClick={() => setShowNotice(false)} aria-label=\"Close Notice\"></span>\r\n                    </div>\r\n                    <div className=\"atfp-notice-content\">\r\n                        <p>You have reached the character limit of <strong><FormatNumberCount number={characterCount} /></strong> for your translations. To continue translating beyond this limit, please consider upgrading to <strong>AutoPoly - AI Translation For Polylang Pro</strong>.</p>\r\n                    </div>\r\n                    <div className=\"atfp-notice-footer\">\r\n                        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"atfp-upgrade-button\">Upgrade to Pro</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) : null\r\n    );\r\n};\r\n\r\nexport default ProVersionNotice;","/**\r\n * Adds a progress bar to the container.\r\n * \r\n * @param {HTMLElement} container - The container element for translation.\r\n */\r\nconst AddProgressBar = (provider) => {\r\n\r\n    const progressBarSelector = \"#atfp_strings_model .atfp_translate_progress\";\r\n\r\n    if (!document.querySelector(`#atfp-${provider}-progress-bar`)) {\r\n        const progressBar = jQuery(`\r\n            <div id=\"atfp-${provider}-progress-bar\" class=\"atfp-translate-progress-bar\">\r\n                <div class=\"${provider}-translator_progress_bar\" style=\"background-color: #f3f3f3;border-radius: 10px;overflow: hidden;margin: 1.5rem auto; width: 50%;\">\r\n                <div class=\"${provider}-translator_progress\" style=\"overflow: hidden;transition: width .2s ease-in-out; border-radius: 10px;text-align: center;width: 0%;height: 20px;box-sizing: border-box;background-color: #4caf50; color: #fff; font-weight: 600;\"></div>\r\n                </div>\r\n                <div style=\"display:none; color: white;\" class=\"${provider}-translator-strings-count hidden\">\r\n                    Wahooo! You have saved your valuable time via auto translating \r\n                    <strong class=\"totalChars\"></strong> characters using \r\n                    <strong>\r\n                        ${provider} Translator\r\n                    </strong>\r\n                </div>\r\n            </div>\r\n        `);\r\n        jQuery(progressBarSelector).append(progressBar); // Append the progress bar to the specified selector\r\n    }else{\r\n        jQuery(`.${provider}-translator_progress`).css('width', '0%');\r\n        jQuery(`.${provider}-translator-strings-count`).hide();\r\n    }\r\n}\r\n\r\nexport default AddProgressBar;","import { select } from '@wordpress/data';\r\nimport FormatNumberCount from \"../format-number-count\";\r\n\r\nconst ShowStringCount = (provider, status='none', characterCount=false) => {\r\n\r\n    if(false ===characterCount){\r\n        characterCount = select('block-atfp/translate').getTranslationInfo().sourceCharacterCount;\r\n    }\r\n\r\n    const stringCount = document.querySelector(`.${provider}-translator-strings-count`);\r\n    if(stringCount){\r\n        stringCount.style.display = status;\r\n        stringCount.querySelector('.totalChars').textContent = FormatNumberCount({number: characterCount});\r\n    }\r\n}\r\n\r\nexport default ShowStringCount;\r\n","import { select, dispatch } from \"@wordpress/data\";\r\n\r\nconst StoreTimeTaken = ({ prefix = false, start = false, end = false, translateStatus = false }) => {\r\n\r\n    const timeTaken = (end - start) / 1000; // Convert milliseconds to seconds\r\n    const data = {};\r\n\r\n    if (prefix) {\r\n        data.provider = prefix;\r\n        if (start && end) {\r\n            const oldTimeTaken = select('block-atfp/translate').getTranslationInfo().translateData[prefix]?.timeTaken || 0;\r\n            data.timeTaken = timeTaken + oldTimeTaken;\r\n        }\r\n\r\n        if (translateStatus) {\r\n            data.translateStatus = true;\r\n        }\r\n\r\n        dispatch('block-atfp/translate').translationInfo(data);\r\n    }\r\n}\r\n\r\nexport default StoreTimeTaken;","import { dispatch, select } from '@wordpress/data';\r\n\r\n/**\r\n * Saves the translation data by updating the translation content based on the provided translate object and data.\r\n * @param {Object} translateData - The data containing translation information.\r\n */\r\nconst SaveTranslation = ({type, key, translateContent, source, provider, AllowedMetaFields}) => {\r\n\r\n    if (['title', 'excerpt'].includes(type)) {\r\n        const action = `${type}SaveTranslate`;\r\n        dispatch('block-atfp/translate')[action](translateContent, provider);\r\n    } else if (['metaFields'].includes(type)) {\r\n\r\n        if(Object.keys(AllowedMetaFields).includes(key)){\r\n            dispatch('block-atfp/translate').metaFieldsSaveTranslate(key, translateContent, source, provider);\r\n        }\r\n    } else {\r\n        dispatch('block-atfp/translate').contentSaveTranslate(key, translateContent, source, provider);\r\n    }\r\n}\r\n\r\nexport default SaveTranslation;","import SaveTranslation from \"../store-translated-string\";\r\nimport { select, dispatch } from \"@wordpress/data\";\r\nimport StoreTimeTaken from \"../store-time-taken\";\r\nimport AddProgressBar from \"../progress-bar\";\r\nimport ShowStringCount from \"../progress-bar/show-string-count\";\r\n\r\n/**\r\n * Handles the scrolling animation of a specified element.\r\n * \r\n * @param {Object} props - The properties for the scroll animation.\r\n * @param {HTMLElement} props.element - The element to be scrolled.\r\n * @param {number} props.scrollSpeed - The duration of the scroll animation in milliseconds.\r\n */\r\nconst ScrollAnimation = (props) => {\r\n    const { element, scrollSpeed, provider } = props;\r\n\r\n    if(element.scrollHeight - element.offsetHeight <= 0){\r\n        return;\r\n    }\r\n\r\n    const progressBar = jQuery(`.${provider}-translator_progress_bar`);\r\n    \r\n    let startTime = null;\r\n    let startScrollTop = element.scrollTop;\r\n    const animateScroll = () => {\r\n        const scrollHeight = element.scrollHeight - element.offsetHeight + 100;\r\n        const currentTime = performance.now();\r\n        const duration = scrollSpeed;\r\n        const scrollTarget = scrollHeight + 2000;\r\n\r\n        if (!startTime) {\r\n            startTime = currentTime;\r\n        }\r\n\r\n        const progress = (currentTime - startTime) / duration;\r\n        const scrollPosition = startScrollTop + (scrollTarget - startScrollTop) * progress;\r\n\r\n        var scrollTop = element.scrollTop;\r\n        var currentScrollHeight = element.scrollHeight;\r\n        var clientHeight = element.clientHeight;\r\n        var scrollPercentage = (scrollTop / (currentScrollHeight - clientHeight)) * 100;\r\n        progressBar.find(`.${provider}-translator_progress`).css('width', scrollPercentage + '%');\r\n\r\n        let percentage=(Math.round(scrollPercentage * 10) / 10).toFixed(1);\r\n        percentage = Math.min(percentage, 100).toString();\r\n\r\n        progressBar.find(`.${provider}-translator_progress`).text(percentage + '%');\r\n\r\n        if (scrollPosition > scrollHeight) {\r\n            ShowStringCount(provider, 'block');\r\n            return; // Stop animate scroll\r\n        }\r\n\r\n        element.scrollTop = scrollPosition;\r\n\r\n        if (scrollPosition < scrollHeight) {\r\n            setTimeout(animateScroll, 16);\r\n        }\r\n    }\r\n    animateScroll();\r\n};\r\n\r\n/**\r\n * Updates the translated content in the string container based on the provided translation object.\r\n */\r\nconst updateTranslatedContent = ({provider, startTime, endTime}) => {\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n    const translatedData = stringContainer.querySelectorAll('td.translate[data-string-type]:not([data-translate-status=\"translated\"]):not(.notranslate):not([translate=\"no\"])');\r\n    const totalTranslatedData = translatedData.length;\r\n    const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n    translatedData.forEach((ele, index) => {\r\n        const translatedText = ele.innerText;\r\n        const key = ele.dataset.key;\r\n        const type = ele.dataset.stringType;\r\n        const sourceText = ele.closest('tr').querySelector('td[data-source=\"source_text\"]').innerText;\r\n\r\n        SaveTranslation({ type: type, key: key, translateContent: translatedText, source: sourceText, provider: provider, AllowedMetaFields });\r\n\r\n        const translationEntry = select('block-atfp/translate').getTranslationInfo().translateData[provider];\r\n        const previousTargetStringCount = translationEntry && translationEntry.targetStringCount ? translationEntry.targetStringCount : 0;\r\n        const previousTargetWordCount = translationEntry && translationEntry.targetWordCount ? translationEntry.targetWordCount : 0;\r\n        const previousTargetCharacterCount = translationEntry && translationEntry.targetCharacterCount ? translationEntry.targetCharacterCount : 0;\r\n\r\n        if (translatedText.trim() !== '' && translatedText.trim().length > 0) {\r\n            dispatch('block-atfp/translate').translationInfo({ targetStringCount: previousTargetStringCount + sourceText.trim().split(/(?<=[.!?]+)\\s+/).length, targetWordCount: previousTargetWordCount + sourceText.trim().split(/\\s+/).filter(word => /[^\\p{L}\\p{N}]/.test(word)).length, targetCharacterCount: previousTargetCharacterCount + sourceText.trim().length, provider: provider });\r\n        }\r\n\r\n        if(index === totalTranslatedData - 1){\r\n            jQuery(`.${provider}-translator_progress`).css('width', '100%');\r\n            ShowStringCount(provider, 'block');\r\n\r\n            StoreTimeTaken({ prefix: provider, start: startTime, end: endTime, translateStatus: true });\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Handles the completion of the translation process by enabling the save button,\r\n * updating the UI, and stopping the translation progress.\r\n * \r\n * @param {HTMLElement} container - The container element for translation.\r\n * @param {number} startTime - The start time of the translation.\r\n * @param {number} endTime - The end time of the translation.\r\n * @param {Function} translateStatus - The function to call when the translation is complete.\r\n */\r\nconst onCompleteTranslation = ({container,provider, startTime, endTime, translateStatus, modalRenderId}) => {\r\n    const conainer=document.querySelector(`#atfp-${provider}-strings-modal.modal-container[data-render-id=\"${modalRenderId}\"]`);\r\n\r\n\r\n    if(!conainer){\r\n        return;\r\n    }\r\n\r\n    container.querySelector(\".atfp_translate_progress\").style.display = \"none\";\r\n    container.querySelector(\".atfp_string_container\").style.animation = \"none\";\r\n    document.body.style.top = '0';\r\n\r\n    const saveButton = container.querySelector('button.save_it');\r\n    saveButton.removeAttribute('disabled');\r\n    saveButton.classList.add('translated');\r\n    saveButton.classList.remove('notranslate');\r\n\r\n    updateTranslatedContent({provider, startTime, endTime});\r\n\r\n    translateStatus(false);\r\n}\r\n\r\n/**\r\n * Automatically scrolls the string container and triggers the completion callback\r\n * when the bottom is reached or certain conditions are met.\r\n * \r\n * @param {Function} translateStatus - Callback function to execute when translation is deemed complete.\r\n * @param {string} provider - The provider of the translation.\r\n */\r\nconst ModalStringScroll = (translateStatus,provider,modalRenderId) => {\r\n    const startTime = new Date().getTime();\r\n\r\n    let translateComplete = false;\r\n    AddProgressBar(provider);\r\n\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n\r\n    stringContainer.scrollTop = 0;\r\n    const scrollHeight = stringContainer.scrollHeight;\r\n\r\n    if (scrollHeight !== undefined && scrollHeight > 100) {\r\n        document.querySelector(\".atfp_translate_progress\").style.display = \"block\";\r\n\r\n        setTimeout(() => {\r\n            const scrollSpeed = Math.ceil((scrollHeight / stringContainer?.offsetHeight)) * 2000;\r\n            ScrollAnimation({ element: stringContainer, scrollSpeed: scrollSpeed, provider: provider });\r\n        }, 2000);\r\n\r\n        stringContainer.addEventListener('scroll', () => {\r\n            var isScrolledToBottom = (stringContainer.scrollTop + stringContainer.clientHeight + 50 >= stringContainer.scrollHeight);\r\n\r\n            if (isScrolledToBottom && !translateComplete) {\r\n                const endTime = new Date().getTime();\r\n                setTimeout(() => {\r\n                    onCompleteTranslation({container,provider, startTime, endTime, translateStatus, modalRenderId});\r\n                }, 4000);\r\n                translateComplete = true;\r\n            }\r\n        });\r\n\r\n        if (stringContainer.clientHeight + 10 >= scrollHeight) {\r\n            jQuery(`.${provider}-translator_progress`).css('width', '100%');\r\n            jQuery(`.${provider}-translator_progress`).text('100%');\r\n            ShowStringCount(provider, 'block');\r\n            const endTime = new Date().getTime();\r\n            \r\n            setTimeout(() => {\r\n                onCompleteTranslation({container,provider, startTime, endTime, translateStatus, modalRenderId});\r\n            }, 4000);\r\n        }\r\n    } else {\r\n        jQuery(`.${provider}-translator_progress`).css('width', '100%');\r\n        jQuery(`.${provider}-translator_progress`).text('100%');\r\n        ShowStringCount(provider, 'block');\r\n        const endTime = new Date().getTime();\r\n   \r\n        setTimeout(() => {\r\n            onCompleteTranslation({container,provider, startTime, endTime, translateStatus, modalRenderId});\r\n        }, 4000);\r\n    }\r\n}\r\n\r\nexport default ModalStringScroll;","import YandexTranslater from \"./yandex\";\r\nimport localAiTranslator from \"./local-ai-translator\";\r\nimport { sprintf, __ } from \"@wordpress/i18n\";\r\n\r\n/**\r\n * Provides translation services using Yandex Translate.\r\n */\r\nexport default (props) => {\r\n    props=props || {};\r\n    const { Service = false, openErrorModalHandler=()=>{} } = props;\r\n    const adminUrl = window.atfp_global_object.admin_url;\r\n    const assetsUrl = window.atfp_global_object.atfp_url+'assets/images/';\r\n    const errorIcon = assetsUrl + 'error-icon.svg';\r\n\r\n    const Services = {\r\n        yandex: {\r\n            Provider: YandexTranslater,\r\n            title: \"Yandex Translate\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"Yandex Translate\",\r\n            Docs: \"https://docs.coolplugins.net/doc/yandex-translate-for-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_yandex\",\r\n            heading: __(\"Choose Language\", 'autopoly-ai-translation-for-polylang'),\r\n            BetaEnabled: false,\r\n            ButtonDisabled: props.yandexButtonDisabled,\r\n            ErrorMessage: props.yandexButtonDisabled ? <div className=\"atfp-provider-error button button-primary\" onClick={() => openErrorModalHandler(\"yandex\")}><img src={errorIcon} alt=\"error\" /> {__('View Error', 'autopoly-ai-translation-for-polylang')}</div> : <></>,\r\n            Logo: 'yandex.png'\r\n        },\r\n        localAiTranslator: {\r\n            Provider: localAiTranslator,\r\n            title: \"Chrome Built-in AI\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"Chrome AI Translator\",\r\n            heading: sprintf(__(\"Translate Using %s\", 'autopoly-ai-translation-for-polylang'), \"Chrome built-in API\"),\r\n            Docs: \"https://docs.coolplugins.net/doc/chrome-ai-translation-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_chrome\",\r\n            BetaEnabled: true,\r\n            ButtonDisabled: props.localAiTranslatorButtonDisabled,\r\n            ErrorMessage: props.localAiTranslatorButtonDisabled ? <div className=\"atfp-provider-error button button-primary\" onClick={() => openErrorModalHandler(\"localAiTranslator\")}><img src={errorIcon} alt=\"error\" /> {__('View Error', 'autopoly-ai-translation-for-polylang')}</div> : <></>,\r\n            Logo: 'chrome.png'\r\n        },\r\n        google: {\r\n            title: \"Google Translate\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"Google Translate\",\r\n            Docs: \"https://docs.coolplugins.net/doc/google-translate-for-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_google\",\r\n            heading: __(\"Choose Language\", 'autopoly-ai-translation-for-polylang'),\r\n            BetaEnabled: false,\r\n            ButtonDisabled: true,\r\n            ErrorMessage: <a className=\"atfp-provider-error button button-primary\" href={(window.atfp_global_object.pro_version_url || '') + '?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_google'} target=\"_blank\">{__('Buy Pro', 'autopoly-ai-translation-for-polylang')}</a>,\r\n            Logo: 'google.png'\r\n        },\r\n        openai_ai: {\r\n            title: \"OpenAI Model\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"OpenAI\",\r\n            heading: sprintf(__(\"Translate Using %s Model\", 'autopoly-ai-translation-for-polylang'), \"OpenAI\"),\r\n            Docs: \"https://docs.coolplugins.net/doc/translate-via-open-ai-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_openai\",\r\n            BetaEnabled: true,\r\n            ButtonDisabled: true,\r\n            ErrorMessage: <a className={`atfp-provider-error button button-primary`} href={(window.atfp_global_object.pro_version_url || '') + '?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_openai'} target=\"_blank\">{__('Buy Pro', 'autopoly-ai-translation-for-polylang')}</a>,\r\n            Logo: 'openai.png',\r\n        },\r\n        google_ai: {\r\n            title: \"Gemini Model\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"Gemini\",\r\n            heading: sprintf(__(\"Translate Using %s Model\", 'autopoly-ai-translation-for-polylang'), \"Gemini\"),\r\n            Docs: \"https://docs.coolplugins.net/doc/translate-via-gemini-ai-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_gemini\",\r\n            BetaEnabled: true,\r\n            ButtonDisabled: true,\r\n            ErrorMessage: <a className={`atfp-provider-error button button-primary`} href={(window.atfp_global_object.pro_version_url || '') + '?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_gemini'} target=\"_blank\">{__('Buy Pro', 'autopoly-ai-translation-for-polylang')}</a>,\r\n            Logo: 'gemini.png',\r\n        },\r\n        deepl_ai: {\r\n            title: \"DeepL Model\",\r\n            SettingBtnText: \"Translate\",\r\n            serviceLabel: \"DeepL\",\r\n            heading: sprintf(__(\"Translate Using %s Model\", 'autopoly-ai-translation-for-polylang'), \"DeepL\"),\r\n            Docs: \"https://docs.coolplugins.net/doc/translate-via-deepl-ai-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_deepl\",\r\n            BetaEnabled: true,\r\n            ButtonDisabled: true,\r\n            ErrorMessage: <a className={`atfp-provider-error button button-primary`} href={(window.atfp_global_object.pro_version_url || '') + '?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_deepl'} target=\"_blank\">{__('Buy Pro', 'autopoly-ai-translation-for-polylang')}</a>,\r\n            Logo: 'deepl.png',\r\n        }\r\n    };\r\n\r\n    if (!Service) {\r\n        return Services;\r\n    }\r\n    return Services[Service];\r\n};\r\n","import ChromeAiTranslator from \"./local-ai-translator\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { select, dispatch } from \"@wordpress/data\";\r\nimport SaveTranslation from \"../../store-translated-string\";\r\nimport StoreTimeTaken from \"../../../component/store-time-taken\";\r\n\r\nconst localAiTranslator = async (props) => {\r\n    const targetLangName = atfp_global_object.languageObject[props.targetLang]['name'];\r\n    const sourceLangName = atfp_global_object.languageObject[props.sourceLang]['name'];\r\n    const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n    const { translateStatusHandler, translateStatus } = props;\r\n\r\n    let startTime = 0;\r\n\r\n    const startTranslation = () => {\r\n        startTime = new Date().getTime();\r\n\r\n        const stringContainer = jQuery(\"#atfp_strings_model .modal-content .atfp_string_container\");\r\n        if (stringContainer[0].scrollHeight > 100) {\r\n            jQuery(\"#atfp_strings_model .atfp_translate_progress\").fadeIn(\"slow\");\r\n        }\r\n    }\r\n\r\n    const completeTranslation = () => {\r\n        StoreTimeTaken({ prefix: 'localAiTranslator', start: startTime, end: new Date().getTime(), translateStatus: true });\r\n        setTimeout(() => {\r\n            translateStatusHandler(false);\r\n            jQuery(\"#atfp_strings_model .atfp_translate_progress\").fadeOut(\"slow\");\r\n        }, 4000);\r\n    }\r\n\r\n    const beforeTranslate = (ele) => {\r\n        const stringContainer = jQuery(\"#atfp_strings_model .modal-content .atfp_string_container\");\r\n        if (stringContainer.length < 1) {\r\n            TranslateProvider.stopTranslation();\r\n            StoreTimeTaken({ prefix: 'localAiTranslator', start: startTime, end: new Date().getTime() });\r\n            startTime = 0;\r\n            return;\r\n        }\r\n\r\n        const scrollStringContainer = (position) => {\r\n            stringContainer.scrollTop(position);\r\n        };\r\n\r\n        const stringContainerPosition = stringContainer[0].getBoundingClientRect();\r\n\r\n        const eleTopPosition = ele.closest(\"tr\").offsetTop;\r\n        const containerHeight = stringContainer.height();\r\n\r\n        if (eleTopPosition > (containerHeight + stringContainerPosition.y)) {\r\n            scrollStringContainer(eleTopPosition - containerHeight + ele.offsetHeight);\r\n        }\r\n    }\r\n\r\n    const afterTranslate = (ele) => {\r\n        const translatedText = ele.innerText;\r\n        const type = ele.dataset.stringType;\r\n        const key = ele.dataset.key;\r\n        const sourceText = ele.closest('tr').querySelector('td[data-source=\"source_text\"]').innerText;\r\n\r\n        SaveTranslation({ type: type, key: key, translateContent: translatedText, source: sourceText, provider: 'localAiTranslator', AllowedMetaFields });\r\n\r\n        const translationEntry = select('block-atfp/translate').getTranslationInfo().translateData?.localAiTranslator;\r\n        const previousTargetStringCount = translationEntry && translationEntry.targetStringCount ? translationEntry.targetStringCount : 0;\r\n        const previousTargetWordCount = translationEntry && translationEntry.targetWordCount ? translationEntry.targetWordCount : 0;\r\n        const previousTargetCharacterCount = translationEntry && translationEntry.targetCharacterCount ? translationEntry.targetCharacterCount : 0;\r\n\r\n        if (translatedText.trim() !== '' && translatedText.trim().length > 0) {\r\n            dispatch('block-atfp/translate').translationInfo({ targetStringCount: previousTargetStringCount + sourceText.trim().split(/(?<=[.!?]+)\\s+/).length, targetWordCount: previousTargetWordCount + sourceText.trim().split(/\\s+/).filter(word => /[^\\p{L}\\p{N}]/.test(word)).length, targetCharacterCount: previousTargetCharacterCount + sourceText.trim().length, provider: 'localAiTranslator' });\r\n        }\r\n    }\r\n\r\n    const TranslateProvider = await ChromeAiTranslator.Object({\r\n        mainWrapperSelector: \"#atfp_strings_model\",\r\n        btnSelector: `#${props.ID}`,\r\n        btnClass: \"local_ai_translator_btn\",\r\n        btnText: __(\"Translate To\", 'autopoly-ai-translation-for-polylang') + ' ' + targetLangName + ' (Beta)',\r\n        stringSelector: \".atfp_string_container tbody tr td.translate:not([data-translate-status='translated'])\",\r\n        progressBarSelector: \"#atfp_strings_model .atfp_translate_progress\",\r\n        sourceLanguage: props.sourceLang,\r\n        targetLanguage: props.targetLang,\r\n        targetLanguageLabel: targetLangName,\r\n        sourceLanguageLabel: sourceLangName,\r\n        onStartTranslationProcess: startTranslation,\r\n        onComplete: completeTranslation,\r\n        onBeforeTranslate: beforeTranslate,\r\n        onAfterTranslate: afterTranslate\r\n    });\r\n\r\n    if (TranslateProvider.hasOwnProperty('init')) {\r\n        TranslateProvider.init();\r\n        const button = document.querySelector('#atfp_localAiTranslator_translate_element .local_ai_translator_btn');\r\n\r\n        if (button && translateStatus) {\r\n            button.disabled = translateStatus;\r\n        }\r\n    }\r\n};\r\n\r\nexport default localAiTranslator;","class ChromeAiTranslator {\r\n    // Static method to create an instance of ChromeAiTranslator and return extra data\r\n    static Object = (options) => {\r\n        const selfObject = new this(options);\r\n        return selfObject.extraData();\r\n    };\r\n\r\n    // Constructor to initialize the translator with options\r\n    constructor(options) {\r\n        this.btnSelector = options.btnSelector || false; // Selector for the button that triggers translation\r\n        this.btnClass = options.btnClass || false; // Class for the button\r\n        this.btnText = options.btnText || `Translate To ${options.targetLanguageLabel} (Beta)`; // Text for the button\r\n        this.stringSelector = options.stringSelector || false; // Selector for the elements containing strings to translate\r\n        this.progressBarSelector = options.progressBarSelector || false; // Selector for the progress bar element\r\n        this.onStartTranslationProcess = options.onStartTranslationProcess || (() => { }); // Callback for when translation starts\r\n        this.onComplete = options.onComplete || (() => { }); // Callback for when translation completes\r\n        this.onLanguageError = options.onLanguageError || (() => { }); // Callback for language errors\r\n        this.onBeforeTranslate = options.onBeforeTranslate || (() => { }); // Callback for before translation\r\n        this.onAfterTranslate = options.onAfterTranslate || (() => { }); // Callback for after translation\r\n        this.sourceLanguage = options.sourceLanguage || \"en\"; // Default source language\r\n        this.targetLanguage = options.targetLanguage || \"hi\"; // Default target language\r\n        this.targetLanguageLabel = options.targetLanguageLabel || \"Hindi\"; // Label for the target language\r\n        this.sourceLanguageLabel = options.sourceLanguageLabel || \"English\"; // Label for the source language\r\n    }\r\n\r\n    // Method to check language support and return relevant data\r\n    extraData = async () => {\r\n        // Check if the language is supported\r\n        const langSupportedStatus = await ChromeAiTranslator.languageSupportedStatus(this.sourceLanguage, this.targetLanguage, this.targetLanguageLabel, this.sourceLanguageLabel);\r\n\r\n        if (langSupportedStatus !== true) {\r\n            this.onLanguageError(langSupportedStatus); // Handle language error\r\n            return {}; // Return empty object if language is not supported\r\n        }\r\n\r\n        this.defaultLang = this.targetLanguage; // Set default language\r\n\r\n        // Return methods for translation control\r\n        return {\r\n            continueTranslation: this.continueTranslation,\r\n            stopTranslation: this.stopTranslation,\r\n            startTranslation: this.startTranslation,\r\n            reInit: this.reInit,\r\n            init: this.init\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Checks if the specified source and target languages are supported by the Local Translator AI modal.\r\n     * \r\n     * @param {string} sourceLanguage - The language code for the source language (e.g., \"en\" for English).\r\n     * @param {string} targetLanguage - The language code for the target language (e.g., \"hi\" for Hindi).\r\n     * @param {string} targetLanguageLabel - The label for the target language (e.g., \"Hindi\").\r\n     * @returns {Promise<boolean|jQuery>} - Returns true if the languages are supported, or a jQuery message if not.\r\n     */\r\n    static languageSupportedStatus = async (sourceLanguage, targetLanguage, targetLanguageLabel, sourceLanguageLabel) => {\r\n        const supportedLanguages = ['en', 'es', 'ja', 'ar', 'de', 'bn', 'fr', 'hi', 'it', 'ko', 'nl', 'pl', 'pt', 'ru', 'th', 'tr', 'vi', 'zh', 'zh-hant', 'bg', 'cs', 'da', 'el', 'fi', 'hr', 'hu', 'id', 'iw', 'lt', 'no', 'ro', 'sk', 'sl', 'sv', 'uk', 'kn', 'ta', 'te', 'mr'].map(lang => lang.toLowerCase());\r\n\r\n        const safeBrowser = window.location.protocol === 'https:';\r\n        const browserContentSecure = window?.isSecureContext;\r\n\r\n        // Browser check\r\n        if (!window.hasOwnProperty('chrome') || !navigator.userAgent.includes('Chrome') || navigator.userAgent.includes('Edg')) {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <strong>Important Notice:</strong>\r\n                <ol>\r\n                    <li>The Translator API, which leverages Chrome local AI models, is designed specifically for use with the Chrome browser.</li>\r\n                    <li>For comprehensive information about the Translator API, <a href=\"https://developer.chrome.com/docs/ai/translator-api\" target=\"_blank\">click here</a>.</li>\r\n                </ol>\r\n                <p>Please ensure you are using the Chrome browser for optimal performance and compatibility.</p>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        if (!('translation' in self && 'createTranslator' in self.translation) && !('ai' in self && 'translator' in self.ai) && !(\"Translator\" in self && \"create\" in self.Translator) && !safeBrowser && !browserContentSecure) {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <strong>Important Notice:</strong>\r\n                <ol>\r\n                    <li>\r\n                        The Translator API is not functioning due to an insecure connection.\r\n                    </li>\r\n                    <li>\r\n                        Please switch to a secure connection (HTTPS) or add this URL to the list of insecure origins treated as secure by visiting \r\n                        <span data-clipboard-text=\"chrome://flags/#unsafely-treat-insecure-origin-as-secure\" target=\"_blank\" class=\"chrome-ai-translator-flags\">\r\n                            chrome://flags/#unsafely-treat-insecure-origin-as-secure ${ChromeAiTranslator.svgIcons('copy')}\r\n                        </span>.\r\n                        Click on the URL to copy it, then open a new window and paste this URL to access the settings.\r\n                    </li>\r\n                </ol>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Check if the translation API is available\r\n        if (!('translation' in self && 'createTranslator' in self.translation) && !('ai' in self && 'translator' in self.ai) && !(\"Translator\" in self && \"create\" in self.Translator)) {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <h4>Steps to Enable the Translator AI Modal:</h4>\r\n                <ol>\r\n                    <li>Open this URL in a new Chrome tab: <strong><span data-clipboard-text=\"chrome://flags/#translation-api\" target=\"_blank\" class=\"chrome-ai-translator-flags\">chrome://flags/#translation-api ${ChromeAiTranslator.svgIcons('copy')}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\r\n                    <li>Ensure that the <strong>Experimental translation API</strong> option is set to <strong>Enabled</strong>.</li>\r\n                    <li>Click on the <strong>Save</strong> button to apply the changes.</li>\r\n                    <li>The Translator AI modal should now be enabled and ready for use.</li>\r\n                </ol>\r\n                <p>For more information, please refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api\" target=\"_blank\">documentation</a>.</p>   \r\n                <p>If the issue persists, please ensure that your browser is up to date and restart your browser.</p>\r\n                <p>If you continue to experience issues after following the above steps, please <a href=\"https://my.coolplugins.net/account/support-tickets/\" target=\"_blank\" rel=\"noopener\">open a support ticket</a> with our team. We are here to help you resolve any problems and ensure a smooth translation experience.</p>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Check if the target language is supported\r\n        if (!supportedLanguages.includes(targetLanguage.toLowerCase())) {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <strong>Language Support Information:</strong>\r\n                <ol>\r\n                    <li>The current version of Chrome AI Translator does not support the Target Language <strong>${targetLanguageLabel} (${targetLanguage})</strong></li>\r\n                    <li>To view the list of supported languages, please <span data-clipboard-text=\"chrome://on-device-translation-internals\" target=\"_blank\" class=\"chrome-ai-translator-flags\">chrome://on-device-translation-internals ${ChromeAiTranslator.svgIcons('copy')}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\r\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\r\n                </ol>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Check if the source language is supported\r\n        if (!supportedLanguages.includes(sourceLanguage.toLowerCase())) {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <strong>Language Support Information:</strong>\r\n                <ol>\r\n                    <li>The current version of Chrome AI Translator does not support the Source Language <strong>${sourceLanguageLabel} (${sourceLanguage})</strong></li>\r\n                    <li>To view the list of supported languages, please <span data-clipboard-text=\"chrome://on-device-translation-internals\" target=\"_blank\" class=\"chrome-ai-translator-flags\">chrome://on-device-translation-internals ${ChromeAiTranslator.svgIcons('copy')}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\r\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\r\n                </ol>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Check if translation can be performed\r\n        const status = await ChromeAiTranslator.languagePairAvality(sourceLanguage, targetLanguage);\r\n\r\n        // Handle case for language pack after download\r\n        if (status === \"after-download\" || status === \"downloadable\" || status === \"unavailable\") {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <h4>Installation Instructions for Language Packs:</h4>\r\n                <ol>\r\n                    <li>\r\n                        To proceed, please install the language pack for <strong>${targetLanguageLabel} (${targetLanguage})</strong> or <strong>${sourceLanguageLabel} (${sourceLanguage})</strong>.\r\n                    </li>\r\n                    <li>\r\n                        After installing the language pack, add this language to your browser's system languages in Chrome settings.<br>\r\n                        Go to <strong>Settings &gt; Languages &gt; Add languages</strong> and add <strong>${targetLanguageLabel}</strong> or <strong>${sourceLanguageLabel}</strong> to your preferred languages list & reload the page.\r\n                    </li>\r\n                    <li>\r\n                        You can install it by visiting the following link: \r\n                        <strong>\r\n                            <span data-clipboard-text=\"chrome://on-device-translation-internals\" target=\"_blank\" class=\"chrome-ai-translator-flags\">\r\n                                chrome://on-device-translation-internals ${ChromeAiTranslator.svgIcons('copy')}\r\n                            </span>\r\n                        </strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.\r\n                    </li>\r\n                    <li>\r\n                        Please check if both your source <strong>(<span style=\"color:#2271b1\">${sourceLanguage}</span>)</strong> and target <strong>(<span style=\"color:#2271b1\">${targetLanguage}</span>)</strong> languages are available in the language packs list.\r\n                    </li>\r\n                    <li>\r\n                        You need to install both language packs for translation to work. You can search for each language by its language code: <strong>${sourceLanguage}</strong> and <strong>${targetLanguage}</strong>.\r\n                    </li>\r\n                    <li>For more help, refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api#supported-languages\" target=\"_blank\">documentation to check supported languages</a>.</li>\r\n                </ol>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Handle case for language pack downloadable\r\n        if (status === \"downloading\") {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <h4>Language Pack Download In Progress:</h4>\r\n                <ol>\r\n                    <li>\r\n                        The language pack for <strong>${targetLanguageLabel} (${targetLanguage})</strong> or <strong>${sourceLanguageLabel} (${sourceLanguage})</strong> is already being downloaded.\r\n                    </li>\r\n                    <li>\r\n                        <strong>You do not need to start the download again.</strong> Please wait for the download to complete. Once finished, the translation feature will become available automatically.\r\n                    </li>\r\n                    <li>\r\n                        You can check the download progress by opening:\r\n                        <strong>\r\n                            <span data-clipboard-text=\"chrome://on-device-translation-internals\" target=\"_blank\" class=\"chrome-ai-translator-flags\">\r\n                                chrome://on-device-translation-internals ${ChromeAiTranslator.svgIcons('copy')}\r\n                            </span>\r\n                        </strong>\r\n                        . Click on the URL to copy it, then open a new window and paste this URL in Chrome to view the status.\r\n                    </li>\r\n                    <li>\r\n                        <strong>What to do next:</strong>\r\n                        <ul style=\"margin-top: .5em;\">\r\n                            <li>Wait for the download to finish. The status will change to <strong>Ready</strong> or <strong>Installed</strong> in the <strong>Language Packs</strong> section.</li>\r\n                            <li>After the language pack is installed, you may need to <strong>reload</strong> or <strong>restart</strong> your browser for the changes to take effect.</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li>\r\n                        For more help, refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api#supported-languages\" target=\"_blank\">documentation to check supported languages</a>.\r\n                    </li>\r\n                </ol>\r\n                <div style=\"text-align: right;\">\r\n                    <button onclick=\"location.reload()\" class=\"atfpp-error-reload-btn\">Reload Page</button>\r\n                </div>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        // Handle case for language pack not readily available\r\n        if (status !== 'readily' && status !== 'available') {\r\n            const message = jQuery(`<span style=\"color: #ff4646; display: inline-block;\">\r\n                <h4>Language Pack Installation Required</h4>\r\n                <ol>\r\n                    <li>Please ensure that the language pack for <strong>${targetLanguageLabel} (${targetLanguage})</strong> or <strong>${sourceLanguageLabel} (${sourceLanguage})</strong> is installed and set as a preferred language in your browser.</li>\r\n                    <li>To install the language pack, visit <strong><span data-clipboard-text=\"chrome://on-device-translation-internals\" target=\"_blank\" class=\"chrome-ai-translator-flags\">chrome://on-device-translation-internals ${ChromeAiTranslator.svgIcons('copy')}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\r\n                    <li>If you encounter any issues, please refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api#supported-languages\" target=\"_blank\">documentation to check supported languages</a> for further assistance.</li>\r\n                </ol>\r\n            </span>`);\r\n            return message;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    static languagePairAvality = async (source, target) => {\r\n        try {\r\n            const translator = await self.Translator.create({\r\n                sourceLanguage: source,\r\n                targetLanguage: target,\r\n                monitor(m) {\r\n                    m.addEventListener('downloadprogress', (e) => {\r\n                        console.log(`Downloaded ${e.loaded * 100}%`);\r\n                    });\r\n                },\r\n            });\r\n\r\n        } catch (err) { console.log('err', err) }\r\n\r\n        if (('translation' in self && 'createTranslator' in self.translation)) {\r\n            const status = await self.translation.canTranslate({\r\n                sourceLanguage: source,\r\n                targetLanguage: target,\r\n            });\r\n\r\n            return status;\r\n        } else if (('ai' in self && 'translator' in self.ai)) {\r\n            const translatorCapabilities = await self.ai.translator.capabilities();\r\n            const status = await translatorCapabilities.languagePairAvailable(source, target);\r\n\r\n            return status;\r\n        } else if (\"Translator\" in self && \"create\" in self.Translator) {\r\n            const status = await self.Translator.availability({\r\n                sourceLanguage: source,\r\n                targetLanguage: target,\r\n            });\r\n\r\n            return status;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    AITranslator = async (targetLanguage) => {\r\n        if (('translation' in self && 'createTranslator' in self.translation)) {\r\n            const translator = await self.translation.createTranslator({\r\n                sourceLanguage: this.sourceLanguage,\r\n                targetLanguage,\r\n            });\r\n\r\n            return translator;\r\n        } else if (('ai' in self && 'translator' in self.ai)) {\r\n            const translator = await self.ai.translator.create({\r\n                sourceLanguage: this.sourceLanguage,\r\n                targetLanguage,\r\n            });\r\n\r\n            return translator;\r\n        } else if (\"Translator\" in self && \"create\" in self.Translator) {\r\n            const translator = await self.Translator.create({\r\n                sourceLanguage: this.sourceLanguage,\r\n                targetLanguage,\r\n            });\r\n\r\n            return translator;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // Method to initialize the translation process\r\n    init = async () => {\r\n        this.appendBtn();\r\n        this.translationStart = false; // Flag to indicate if translation has started\r\n        this.completedTranslateIndex = 0; // Index of the last completed translation\r\n        this.completedCharacterCount = 0; // Count of characters translated\r\n        this.translateBtnEvents(); // Set up button events\r\n        if (this.progressBarSelector) {\r\n            this.addProgressBar(); // Add progress bar to the UI\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Appends a translation button to the specified button selector.\r\n     * The button is styled with primary button classes and includes\r\n     * any additional classes specified in `this.btnClass`.\r\n     */\r\n    appendBtn = () => {\r\n        this.translateBtn = jQuery(`<button class=\"button button-primary${this.btnClass ? ' ' + this.btnClass : ''}\">${this.btnText}</button>`);\r\n        jQuery(this.btnSelector).append(this.translateBtn);\r\n    }\r\n\r\n    /**\r\n     * Formats a number by converting it to a string and removing any non-numeric characters.\r\n     * \r\n     * @param {number} number - The number to format.\r\n     * @returns returns formatted number\r\n     */\r\n    formatCharacterCount = (number) => {\r\n        if (number >= 1000000) {\r\n            return (number / 1000000).toFixed(1) + 'M';\r\n        } else if (number >= 1000) {\r\n            return (number / 1000).toFixed(1) + 'K';\r\n        }\r\n        return number;\r\n    }\r\n\r\n    // Method to set up button events for translation\r\n    translateBtnEvents = (e) => {\r\n        if (!this.btnSelector || jQuery(this.btnSelector).length === 0) return this.onLanguageError(\"The button selector is missing. Please provide a valid selector for the button.\");\r\n        if (!this.stringSelector || jQuery(this.stringSelector).length === 0) return this.onLanguageError(\"The string selector is missing. Please provide a valid selector for the strings to be translated.\");\r\n\r\n        this.translateStatus = true; // Set translation status to true\r\n        this.translateBtn.off(\"click\"); // Clear previous click handlers\r\n        this.translateBtn.prop(\"disabled\", false); // Enable the button\r\n\r\n        // Set up click event for starting translation\r\n        if (!this.translationStart) {\r\n            this.translateBtn.on(\"click\", this.startTranslationProcess);\r\n        } else if (this.translateStringEle.length > (this.completedTranslateIndex + 1)) {\r\n            this.translateBtn.on(\"click\", () => {\r\n                this.onStartTranslationProcess(); // Call the start translation callback\r\n                this.stringTranslation(this.completedTranslateIndex + 1); // Start translating the next string\r\n            });\r\n        } else {\r\n            this.onComplete({ translatedStringsCount: this.completedCharacterCount }); // Call the complete callback\r\n            this.translateBtn.prop(\"disabled\", true); // Disable the button\r\n        }\r\n    };\r\n\r\n    // Method to start the translation process\r\n    startTranslationProcess = async () => {\r\n        this.onStartTranslationProcess(); // Call the start translation callback\r\n        const langCode = this.defaultLang; // Get the default language code\r\n\r\n        this.translationStart = true; // Set translation start flag\r\n        this.translateStringEle = jQuery(this.stringSelector); // Get the elements to translate\r\n\r\n        // Calculate total character count for progress tracking\r\n        this.totalStringCount = Array.from(this.translateStringEle).map(ele => ele.innerText.length).reduce((a, b) => a + b, 0);\r\n\r\n        // Create a translator instance\r\n        this.translator = await this.AITranslator(langCode);\r\n\r\n        // Start translating if there are strings to translate\r\n        if (this.translateStringEle.length > 0) {\r\n            await this.stringTranslation(this.completedTranslateIndex);\r\n        }\r\n    };\r\n\r\n    // Method to translate a specific string at the given index\r\n    stringTranslation = async (index) => {\r\n        if (!this.translateStatus) return; // Exit if translation is stopped\r\n        const ele = this.translateStringEle[index]; // Get the element to translate\r\n        this.onBeforeTranslate(ele); // Call the before translation callback\r\n        const orignalText = ele.innerText;\r\n        let originalString = [];\r\n\r\n        if (ele.childNodes.length > 0 && !ele.querySelector('.notranslate')) {\r\n            ele.childNodes.forEach(child => {\r\n                if (child.nodeType === 3 && child.nodeValue.trim() !== '') {\r\n                    originalString.push(child);\r\n                }\r\n            });\r\n        } else if (ele.querySelector('.notranslate')) {\r\n            ele.childNodes.forEach(child => {\r\n                if (child.nodeType === 3 && child.nodeValue.trim() !== '') {\r\n                    originalString.push(child);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (originalString.length > 0) {\r\n            await this.stringTranslationBatch(originalString, 0);\r\n        }\r\n\r\n        this.completedCharacterCount += orignalText.length; // Update character count\r\n        this.completedTranslateIndex = index; // Update completed index\r\n        if (this.progressBarSelector) {\r\n            this.updateProgressBar(); // Update the progress bar\r\n        }\r\n        this.onAfterTranslate(ele); // Call the after translation callback\r\n\r\n        // Continue translating the next string if available\r\n        if (this.translateStringEle.length > index + 1) {\r\n            await this.stringTranslation(this.completedTranslateIndex + 1);\r\n        }\r\n\r\n        // If all strings are translated, complete the process\r\n        if (index === this.translateStringEle.length - 1) {\r\n            this.translateBtn.prop(\"disabled\", true); // Disable the button\r\n            this.onComplete({ characterCount: this.completedCharacterCount }); // Call the complete callback\r\n            jQuery(this.progressBarSelector).find(\".chrome-ai-translator-strings-count\").show().find(\".totalChars\").text(this.formatCharacterCount(this.completedCharacterCount));\r\n        }\r\n    };\r\n\r\n    stringTranslationBatch = async (originalString, index) => {\r\n        const translatedString = await this.translator.translate(originalString[index].nodeValue); // Translate the string\r\n\r\n        if (translatedString && '' !== translatedString) {\r\n            originalString[index].nodeValue = translatedString; // Set the translated string\r\n        }\r\n\r\n        if (index < originalString.length - 1) {\r\n            await this.stringTranslationBatch(originalString, index + 1);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Method to add a progress bar to the UI\r\n    addProgressBar = () => {\r\n        if (!document.querySelector(\"#chrome-ai-translator-modal .chrome-ai-translator_progress_bar\")) {\r\n            const progressBar = jQuery(`\r\n                <div class=\"chrome-ai-translator_progress_bar\" style=\"background-color: #f3f3f3;border-radius: 10px;overflow: hidden;margin: 1.5rem auto; width: 50%;\">\r\n                <div class=\"chrome-ai-translator_progress\" style=\"overflow: hidden;transition: width .5s ease-in-out; border-radius: 10px;text-align: center;width: 0%;height: 20px;box-sizing: border-box;background-color: #4caf50; color: #fff; font-weight: 600;\"></div>\r\n                </div>\r\n                <div style=\"display:none; color: white;\" class=\"chrome-ai-translator-strings-count hidden\">\r\n                    Wahooo! You have saved your valuable time via auto translating \r\n                    <strong class=\"totalChars\">0</strong> characters using \r\n                    <strong>\r\n                        Chrome AI Translator\r\n                    </strong>\r\n                </div>\r\n            `);\r\n            jQuery(this.progressBarSelector).append(progressBar); // Append the progress bar to the specified selector\r\n        }\r\n    };\r\n\r\n    // Method to update the progress bar based on translation progress\r\n    updateProgressBar = () => {\r\n        const progress = ((this.completedCharacterCount / this.totalStringCount) * 1000) / 10; // Calculate progress percentage\r\n        let decimalValue = progress.toString().split('.')[1] || ''; // Get decimal part of the progress\r\n        decimalValue = decimalValue.length > 0 && decimalValue[0] !== '0' ? decimalValue[0] : ''; // Format decimal value\r\n        const formattedProgress = parseInt(progress) + `${decimalValue !== '' ? '.' + decimalValue : ''}`; // Format progress for display\r\n        jQuery(\".chrome-ai-translator_progress\").css({ \"width\": `${formattedProgress}%` }).text(`${formattedProgress}%`); // Update progress bar width and text\r\n    };\r\n\r\n    // Method to stop the translation process\r\n    stopTranslation = () => {\r\n        this.translateStatus = false; // Set translation status to false\r\n    }\r\n\r\n    // Method to reinitialize button events\r\n    reInit = () => {\r\n        this.translateBtnEvents(); // Re-setup button events\r\n    }\r\n\r\n    // Method to start translation from the current index\r\n    startTranslation = () => {\r\n        this.translateStatus = true; // Set translation status to true\r\n        this.startTranslationProcess(this.completedTranslateIndex + 1); // Start translation process\r\n    }\r\n\r\n\r\n    static svgIcons = (iconName) => {\r\n        const Icons = {\r\n            'copy': `<svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 448 512\" height=\"16px\" width=\"16px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#2271b1\"><path d=\"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z\"></path></svg>`\r\n        }\r\n\r\n        return Icons[iconName] || '';\r\n    }\r\n}\r\n\r\n/*\r\n * Example Usage of the ChromeAiTranslator.init method.\r\n * This method initializes the Chrome AI Translator with a comprehensive set of configuration options to facilitate the translation process.\r\n * \r\n * Configuration Options:\r\n * \r\n * - mainWrapperSelector: A CSS selector for the main wrapper element that encapsulates all translation-related elements.\r\n * - btnSelector: A CSS selector for the button that initiates the translation process.\r\n * - btnClass: A custom class for styling the translation button.\r\n * - btnText: The text displayed on the translation button.\r\n * - stringSelector: A CSS selector for the elements that contain the strings intended for translation.\r\n * - progressBarSelector: A CSS selector for the progress bar element that visually represents the translation progress.\r\n * - sourceLanguage: The language code representing the source language (e.g., \"es\" for Spanish).\r\n * - targetLanguage: The language code representing the target language (e.g., \"fr\" for French).\r\n * - onStartTranslationProcess: A callback function that is executed when the translation process begins.\r\n * - onBeforeTranslate: A callback function that is executed prior to each individual translation.\r\n * - onAfterTranslate: A callback function that is executed following each translation.\r\n * - onComplete: A callback function that is executed upon the completion of the translation process.\r\n * - onLanguageError: A callback function that is executed when a language-related error occurs.\r\n */\r\n\r\n// Example for checking language support status\r\n// ChromeAiTranslator.languageSupportedStatus(\"en\", \"fr\", \"French\");\r\n\r\n// const chromeAiTranslatorObject = ChromeAiTranslator.Object(\r\n//     {\r\n//         mainWrapperSelector: \".main-wrapper\", // CSS selector for the main wrapper element\r\n//         btnSelector: \".translator-container .translator-button\", // CSS selector for the translation button\r\n//         btnClass: \"Btn_custom_class\", // Custom class for button styling\r\n//         btnText: \"Translate To French\", // Text displayed on the translation button\r\n//         stringSelector: \".translator-body .translation-item\", // CSS selector for translation string elements\r\n//         progressBarSelector: \".translator-progress-bar\", // CSS selector for the progress bar\r\n//         sourceLanguage: \"es\", // Language code for the source language\r\n//         targetLanguage: \"fr\", // Language code for the target language\r\n//         onStartTranslationProcess: () => { console.log(\"Translation process started.\"); }, // Callback for translation start\r\n//         onBeforeTranslate: () => { console.log(\"Before translation.\"); }, // Callback before each translation\r\n//         onAfterTranslate: () => { console.log(\"After translation.\"); }, // Callback after each translation\r\n//         onComplete: () => { console.log(\"Translation completed.\"); }, // Callback for completion\r\n//         onLanguageError: () => { console.error(\"Language error occurred.\"); } // Callback for language errors\r\n//     }\r\n// );\r\n// chromeAiTranslatorObject.init();\r\n\r\nexport default ChromeAiTranslator;","import ModalStringScroll from \"../../string-modal-scroll\";\r\n\r\nconst yandexWidget = (win, doc, nav, params, namespace, targetLang, translateStatusHandler, modalRenderId) => {\r\n    'use strict';\r\n\r\n    var util = {\r\n        keycode: {\r\n            ESCAPE: 27\r\n        },\r\n        getRequest: function () {\r\n            if (win.XDomainRequest) {\r\n                return new win.XDomainRequest();\r\n            }\r\n            if (win.XMLHttpRequest) {\r\n                return new win.XMLHttpRequest();\r\n            }\r\n            return null;\r\n        },\r\n        loadScript: function (src, parent, callback) {\r\n            var script = doc.createElement('script');\r\n            script.src = src;\r\n\r\n            script.addEventListener('load', function onLoad() {\r\n                this.removeEventListener('load', onLoad, false);\r\n                callback();\r\n            }, false);\r\n\r\n            parent.appendChild(script);\r\n        },\r\n        loadResource: function (url, callback) {\r\n            var request = this.getRequest();\r\n\r\n            if (!request) {\r\n                return null;\r\n            }\r\n\r\n            request.onload = function () {\r\n                callback(this.responseText);\r\n            };\r\n            request.open('GET', url, true);\r\n\r\n            win.setTimeout(function () {\r\n                request.send();\r\n            }, 0);\r\n\r\n            return request;\r\n        },\r\n        getStyleList: function (element) {\r\n            var value = element.getAttribute('class');\r\n            if (!value) {\r\n                return [];\r\n            }\r\n            return value.replace(/\\s+/g, ' ').trim().split(' ');\r\n        },\r\n        hasStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            return !!list.length && list.indexOf(name) >= 0;\r\n        },\r\n        addStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            list.push(name);\r\n            element.setAttribute('class', list.join(' '));\r\n        },\r\n        removeStyleName: function (element, name) {\r\n            var list = this.getStyleList(element),\r\n                index = list.indexOf(name);\r\n            if (index >= 0) {\r\n                list.splice(index, 1);\r\n                element.setAttribute('class', list.join(' '));\r\n            }\r\n        },\r\n        isSupportedBrowser: function () {\r\n            return 'localStorage' in win &&\r\n                'querySelector' in doc &&\r\n                'addEventListener' in win &&\r\n                'getComputedStyle' in win && doc.compatMode === 'CSS1Compat';\r\n        }\r\n    };\r\n\r\n    // Button\r\n    var Button = function Button(element, contentElement) {\r\n        var self = this;\r\n\r\n        element.addEventListener('click', function (event) {\r\n            self.onClick(event);\r\n        }, false);\r\n\r\n        this._element = element;\r\n        this._contentElement = contentElement || this._element;\r\n    };\r\n\r\n    Button.prototype.onClick = function () { };\r\n\r\n    Button.prototype.setText = function (text) {\r\n        this._contentElement.textContent = text;\r\n        return this;\r\n    };\r\n\r\n    // Select\r\n    var Select = function Select(form, itemName) {\r\n        var self = this;\r\n\r\n        form.reset();\r\n\r\n        form.addEventListener('click', function (event) {\r\n            var target = event.target;\r\n            if ('value' in target) {\r\n                self.onSelect(target.value);\r\n            }\r\n        }, false);\r\n\r\n        form.addEventListener('change', function (event) {\r\n            alert(\"form change state\");\r\n            var target = event.target;\r\n            if (target.checked) {\r\n                self.onChange(target.value);\r\n            }\r\n        }, false);\r\n\r\n        this._form = form;\r\n        this._itemName = itemName;\r\n    };\r\n\r\n    Select.prototype.onSelect = function () { };\r\n\r\n    Select.prototype.onChange = function () { };\r\n\r\n    Select.prototype.isHidden = function () {\r\n        return this._form.hasAttribute('hidden');\r\n    };\r\n\r\n    Select.prototype.getItems = function () {\r\n        return this._form[this._itemName] || [];\r\n    };\r\n\r\n    Select.prototype.getValue = function () {\r\n        var i, n, items = this.getItems();\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].checked) {\r\n                return items[i].value;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    Select.prototype.setValue = function (value) {\r\n        var i, n, items = this.getItems();\r\n        if (value === this.getValue()) {\r\n            return this;\r\n        }\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].value === value) {\r\n                items[i].checked = true;\r\n                this.onChange(value);\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.setHidden = function (hidden) {\r\n        hidden = !!hidden;\r\n        if (hidden !== this.isHidden()) {\r\n            this._form[(hidden ? 'set' : 'remove') + 'Attribute']('hidden', '');\r\n            this.onHiddenChange(hidden);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.onHiddenChange = function () { };\r\n\r\n    // Widget\r\n    var Widget = function Widget(options) {\r\n        var self = this,\r\n            active,\r\n            select = options.select,\r\n            element = options.element,\r\n            storage = options.storage,\r\n            autoMode = options.autoMode,\r\n            pageLang = options.pageLang,\r\n            userLang = options.userLang,\r\n            translator = options.translator,\r\n            leftButton = options.leftButton,\r\n            rightButton = options.rightButton,\r\n            closeButton = options.closeButton,\r\n            defaultLang;\r\n\r\n        this._element = element;\r\n        this._pageLang = pageLang;\r\n        this._translator = translator;\r\n\r\n        this.onStateChange = function (name, enable) {\r\n            if (name === 'active') {\r\n                storage.setValue('active', enable);\r\n            }\r\n        };\r\n\r\n        select.onSelect = function (lang) {\r\n            this.setHidden(true);\r\n            self.translate(lang);\r\n            ModalStringScroll(translateStatusHandler,'yandex', modalRenderId);\r\n        };\r\n\r\n        select.onChange = function (lang) {\r\n            storage.setValue('lang', lang);\r\n            rightButton.setText(lang);\r\n            self.setState('invalid', lang === pageLang);\r\n        };\r\n\r\n        select.onHiddenChange = function (hidden) {\r\n            var docElem = doc.documentElement,\r\n                formRect;\r\n            self.setState('expanded', !hidden);\r\n            if (!hidden) {\r\n                self.setState('right', false)\r\n                    .setState('bottom', false);\r\n                element.focus();\r\n                formRect = this._form.getBoundingClientRect();\r\n\r\n                if (formRect.right + (win.pageXOffset || docElem.scrollLeft) + 1 >= Math.max(docElem.clientWidth, docElem.scrollWidth)) {\r\n                    self.setState('right', true);\r\n                }\r\n\r\n                if (formRect.bottom + (win.pageYOffset || docElem.scrollTop) + 1 >= Math.max(docElem.clientHeight, docElem.scrollHeight)) {\r\n                    self.setState('bottom', true);\r\n                }\r\n            }\r\n        };\r\n\r\n        element.addEventListener('blur', function () {\r\n            select.setHidden(true);\r\n        }, false);\r\n\r\n        element.addEventListener('keydown', function (event) {\r\n            switch (event.keyCode) {\r\n                case util.keycode.ESCAPE:\r\n                    select.setHidden(true);\r\n                    break;\r\n            }\r\n        }, false);\r\n\r\n        translator.on('error', function () {\r\n            this.abort();\r\n            self.setState('busy', false)\r\n                .setState('error', true);\r\n        });\r\n\r\n        translator.on('progress', function (progress) {\r\n            switch (progress) {\r\n                case 0:\r\n                    self.setState('busy', true)\r\n                        .setState('active', true);\r\n                    break;\r\n\r\n                case 100:\r\n                    self.setState('done', true)\r\n                        .setState('busy', false);\r\n                    break;\r\n            }\r\n        });\r\n\r\n\r\n        leftButton.onClick = function () {\r\n            select.setHidden(true);\r\n            self.translate(select.getValue());\r\n            ModalStringScroll(translateStatusHandler,'yandex', modalRenderId);\r\n        };\r\n\r\n        rightButton.onClick = function () {\r\n            if (self.hasState('active')) {\r\n                translator.undo();\r\n                self.setState('busy', false)\r\n                    .setState('done', false)\r\n                    .setState('error', false)\r\n                    .setState('active', false);\r\n            } else {\r\n                select.setHidden(!select.isHidden());\r\n            }\r\n        };\r\n\r\n        closeButton.onClick = function () {\r\n            select.setHidden(true);\r\n        };\r\n\r\n        if (targetLang != undefined) {\r\n            var defaultcode = targetLang;\r\n        }\r\n        switch (defaultcode) {\r\n            case 'nb':\r\n                defaultLang = 'no';\r\n                break;\r\n\r\n            case 'nn':\r\n                defaultLang = 'no';\r\n                break;\r\n            default:\r\n                defaultLang = defaultcode;\r\n                break;\r\n        }\r\n        if (defaultLang) {\r\n            select.setValue(defaultLang);\r\n            active = storage.getValue('active');\r\n        }\r\n    };\r\n    Widget.prototype.hasState = function (name) {\r\n        return util.hasStyleName(this._element, 'yt-state_' + name);\r\n    };\r\n\r\n    Widget.prototype.setState = function (name, enable) {\r\n        var hasState = this.hasState(name);\r\n        enable = !!enable;\r\n        if (enable === hasState) {\r\n            return this;\r\n        }\r\n        util[(enable ? 'add' : 'remove') + 'StyleName'](\r\n            this._element, 'yt-state_' + name\r\n        );\r\n        this.onStateChange(name, enable);\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.translate = function (targetLang) {\r\n        if (targetLang && !this.hasState('active')) {\r\n            this._translator.translate(this._pageLang, targetLang);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.onStateChange = function () { };\r\n\r\n    // Storage\r\n    var Storage = function Storage(name) {\r\n        this._name = name;\r\n        try {\r\n            this._data = win.JSON.parse(win.localStorage[name]);\r\n        } catch (error) {\r\n            this._data = {};\r\n        }\r\n    };\r\n\r\n    Storage.prototype.getValue = function (prop) {\r\n        return this._data[prop];\r\n    };\r\n\r\n    Storage.prototype.setValue = function (prop, value) {\r\n        this._data[prop] = value;\r\n        try {\r\n            win.localStorage[this._name] = win.JSON.stringify(this._data);\r\n        } catch (error) { }\r\n    };\r\n\r\n    var wrapper = doc.getElementById(params.widgetId);\r\n\r\n    if (!wrapper || !util.isSupportedBrowser()) {\r\n        return;\r\n    }\r\n    var initWidget = function () {\r\n        util.loadScript('https://yastatic.net/s3/translate/v21.4.7/js/tr_page.js', wrapper, function () {\r\n            util.loadResource('https://translate.yandex.net/website-widget/v1/widget.html',\r\n                function (responseText) {\r\n                    var element;\r\n                    if (!responseText) {\r\n                        return;\r\n                    }\r\n                    wrapper.innerHTML = responseText;\r\n                    element = wrapper.querySelector('.yt-widget');\r\n                    if (params.widgetTheme) {\r\n                        element.setAttribute('data-theme', params.widgetTheme);\r\n                    }\r\n                    new Widget({\r\n                        select: new Select(element.querySelector('.yt-listbox'), 'yt-lang'),\r\n                        element: element,\r\n                        storage: new Storage('yt-widget'),\r\n                        autoMode: params.autoMode === 'true',\r\n                        pageLang: params.pageLang,\r\n                        userLang: (nav.language || nav.userLanguage || '').split('-')[0],\r\n                        translator: new namespace.PageTranslator({\r\n                            srv: 'tr-url-widget',\r\n                            url: 'https://translate.yandex.net/api/v1/tr.json/translate',\r\n                            autoSync: true,\r\n                            maxPortionLength: 600\r\n                        }),\r\n                        leftButton: new Button(element.querySelector('.yt-button_type_left')),\r\n                        rightButton: new Button(\r\n                            element.querySelector('.yt-button_type_right'),\r\n                            element.querySelector('.yt-button_type_right > .yt-button__text')\r\n                        ),\r\n                        closeButton: new Button(element.querySelector('.yt-button_type_close'))\r\n                    });\r\n                }\r\n            );\r\n        });\r\n    };\r\n    if (doc.readyState === 'complete' || doc.readyState === 'interactive') {\r\n        initWidget();\r\n    } else {\r\n        doc.addEventListener('DOMContentLoaded', initWidget, false);\r\n    }\r\n};\r\n\r\nconst YandexTranslater = (props) => {\r\n    const globalObj = window;\r\n    yandexWidget(globalObj, globalObj.document, globalObj.navigator, { \"pageLang\": props.sourceLang, \"autoMode\": \"false\", \"widgetId\": \"atfp_yandex_translate_element\", \"widgetTheme\": \"light\" }, globalObj.yt = globalObj.yt || {}, props.targetLang, props.translateStatusHandler, props.modalRenderId);\r\n}\r\n\r\nexport default YandexTranslater;","export default () => {\r\n    const languages = [\r\n        'af',\r\n        'am',\r\n        'ar',\r\n        'az',\r\n        'ba',\r\n        'be',\r\n        'bg',\r\n        'bn',\r\n        'bs',\r\n        'ca',\r\n        'ceb',\r\n        'cs',\r\n        'cv',\r\n        'cy',\r\n        'da',\r\n        'de',\r\n        'el',\r\n        'emj',\r\n        'en',\r\n        'eo',\r\n        'es',\r\n        'et',\r\n        'eu',\r\n        'fa',\r\n        'fi',\r\n        'fr',\r\n        'ga',\r\n        'gd',\r\n        'gl',\r\n        'gu',\r\n        'he',\r\n        'hi',\r\n        'hr',\r\n        'ht',\r\n        'hu',\r\n        'hy',\r\n        'id',\r\n        'is',\r\n        'it',\r\n        'ja',\r\n        'jv',\r\n        'ka',\r\n        'kazlat',\r\n        'kk',\r\n        'km',\r\n        'kn',\r\n        'ko',\r\n        'ky',\r\n        'la',\r\n        'lb',\r\n        'lo',\r\n        'lt',\r\n        'lv',\r\n        'mg',\r\n        'mhr',\r\n        'mi',\r\n        'mk',\r\n        'ml',\r\n        'mn',\r\n        'mr',\r\n        'mrj',\r\n        'ms',\r\n        'mt',\r\n        'my',\r\n        'ne',\r\n        'nl',\r\n        'no',\r\n        'pa',\r\n        'pap',\r\n        'pl',\r\n        'pt',\r\n        'pt-BR',\r\n        'ro',\r\n        'ru',\r\n        'sah',\r\n        'si',\r\n        'sk',\r\n        'sl',\r\n        'sq',\r\n        'sr',\r\n        'sr-Latn',\r\n        'su',\r\n        'sv',\r\n        'sw',\r\n        'ta',\r\n        'te',\r\n        'tg',\r\n        'th',\r\n        'tl',\r\n        'tr',\r\n        'tt',\r\n        'udm',\r\n        'uk',\r\n        'ur',\r\n        'uz',\r\n        'uzbcyr',\r\n        'vi',\r\n        'xh',\r\n        'yi',\r\n        'zh',\r\n        'zu'\r\n    ];\r\n\r\n    return languages;\r\n}","import { dispatch } from '@wordpress/data';\r\n\r\nconst RankMathSeo = (props) => {\r\n    if (!dispatch(\"rank-math\")) {\r\n        return;\r\n    }\r\n    const { updateKeywords,\r\n        updateTitle,\r\n        updateDescription,\r\n        updateBreadcrumbTitle,\r\n        updateFacebookTitle,\r\n        updateFacebookDescription,\r\n        updateTwitterTitle,\r\n        updateTwitterDescription\r\n    } = dispatch(\"rank-math\");\r\n\r\n    const { key, value } = props;\r\n\r\n    switch (key) {\r\n        case 'rank_math_focus_keyword':\r\n            if (updateKeywords) {\r\n                updateKeywords(value);\r\n            }\r\n            break;\r\n        case 'rank_math_title':\r\n            if (updateTitle) {\r\n                updateTitle(value);\r\n            }\r\n            break;\r\n        case 'rank_math_description':\r\n            if (updateDescription) {\r\n                updateDescription(value);\r\n            }\r\n            break;\r\n        case 'rank_math_breadcrumb_title':\r\n            if (updateBreadcrumbTitle) {\r\n                updateBreadcrumbTitle(value);\r\n            }\r\n            break;\r\n        case 'rank_math_facebook_title':\r\n            if (updateFacebookTitle) {\r\n                updateFacebookTitle(value);\r\n            }\r\n            break;\r\n        case 'rank_math_facebook_description':\r\n            if (updateFacebookDescription) {\r\n                updateFacebookDescription(value);\r\n            }\r\n            break;\r\n        case 'rank_math_twitter_title':\r\n            if (updateTwitterTitle) {\r\n                updateTwitterTitle(value);\r\n            }\r\n            break;\r\n        case 'rank_math_twitter_description':\r\n            if (updateTwitterDescription) {\r\n                updateTwitterDescription(value);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\nexport default RankMathSeo;","const SeoPressFields = async (props) => {\r\n\r\n\r\n    const { key, value } = props;\r\n    const inputId = key.replace(/^_/, '') + '_meta';\r\n\r\n    if (!document.querySelector('#' + inputId)) {\r\n        return;\r\n    }\r\n\r\n    switch (key) {\r\n        case '_seopress_titles_title':\r\n        case '_seopress_titles_desc':\r\n        case '_seopress_social_fb_title':\r\n        case '_seopress_social_fb_desc':\r\n        case '_seopress_social_twitter_title':\r\n        case '_seopress_social_twitter_desc':\r\n            jQuery(`#${inputId}`).val(value);\r\n            jQuery(`#${inputId}`).trigger('change');\r\n            break;\r\n        case '_seopress_analysis_target_kw':\r\n            if (window.target_kw && window.target_kw instanceof window.Tagify && window.target_kw.DOM.originalInput.id === inputId) {\r\n                window.target_kw.addTags(value);\r\n            } else {\r\n                jQuery('#' + inputId).val(value);\r\n                jQuery('#' + inputId).trigger('change');\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport default SeoPressFields;","import { dispatch } from \"@wordpress/data\";\r\n\r\nconst YoastSeoFields = (props) => {\r\n    if (!dispatch(\"yoast-seo/editor\")) {\r\n        return;\r\n    }\r\n    const {\r\n        updateData,\r\n        setFocusKeyword,\r\n        setBreadcrumbsTitle,\r\n        setFacebookPreviewTitle,\r\n        setFacebookPreviewDescription,\r\n        setTwitterPreviewTitle,\r\n        setTwitterPreviewDescription,\r\n    } = dispatch(\"yoast-seo/editor\");\r\n    \r\n    const { key, value } = props;\r\n\r\n    switch (key) {\r\n        case \"_yoast_wpseo_focuskw\":\r\n            if (setFocusKeyword) {\r\n                setFocusKeyword(value);\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_title\":\r\n            if (updateData) {\r\n                updateData({ title: value });\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_metadesc\":\r\n            if (updateData) {\r\n                updateData({ description: value });\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_bctitle\":\r\n            if (setBreadcrumbsTitle) {\r\n                setBreadcrumbsTitle(value);\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_opengraph-title\":\r\n            if (setFacebookPreviewTitle) {\r\n                setFacebookPreviewTitle(value);\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_opengraph-description\":\r\n            if (setFacebookPreviewDescription) {\r\n                setFacebookPreviewDescription(value);\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_twitter-title\":\r\n            if (setTwitterPreviewTitle) {\r\n                setTwitterPreviewTitle(value);\r\n            }\r\n            break;\r\n        case \"_yoast_wpseo_twitter-description\":\r\n            if (setTwitterPreviewDescription) {\r\n                setTwitterPreviewDescription(value);\r\n            }\r\n            break;\r\n    }\r\n};\r\n\r\nexport default YoastSeoFields;\r\n","import { select } from '@wordpress/data';\r\nimport YoastSeoFields from '../../component/translate-seo-fields/yoast-seo-fields';\r\nimport RankMathSeo from '../../component/translate-seo-fields/rank-math-seo';\r\n\r\n// Update widget content with translations\r\nconst atfpUpdateWidgetContent = (translations) => {\r\n\r\n    translations.forEach(translation => {\r\n        // Find the model by ID using the atfpFindModelById function\r\n        const model = atfpFindModelById(elementor.elements.models, translation.ID);\r\n        if (model) {\r\n            const settings = model.get('settings');\r\n            \r\n            // Check for normal fields (title, text, editor, etc.)\r\n            if (settings.get(translation.key)) {\r\n                settings.set(translation.key, translation.translatedContent);  // Set the translated content\r\n                model?.renderRemoteServer();\r\n            }\r\n\r\n            // Handle repeater fields (if any)\r\n            const repeaterMatch = translation.key.match(/(.+)\\[(\\d+)\\]\\.(.+)/);\r\n            if (repeaterMatch) {\r\n\r\n                const [_, repeaterKey, index, subKey] = repeaterMatch;\r\n                const repeaterArray = settings.get(repeaterKey);\r\n\r\n                if (Array.isArray(repeaterArray.models) && repeaterArray.models[index]) {\r\n                    let repeaterModel = repeaterArray.models[index]\r\n                    let repeaterAttribute = repeaterModel.attributes\r\n                    repeaterAttribute[subKey] = translation.translatedContent;\r\n\r\n                    settings.set(repeaterKey, repeaterArray); // Set the updated array back to settings\r\n                    model?.renderRemoteServer();\r\n                }\r\n\r\n            }\r\n        }\r\n    });\r\n\r\n    // After updating content, ensure that the changes are saved or published\r\n    $e.internal('document/save/set-is-modified', { status: true });\r\n}\r\n\r\nconst atfpUpdateMetaFields = (metaFields, service) => {\r\n    const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n        if(!metaFields && Object.keys(metaFields).length < 1){\r\n            return;\r\n        }\r\n\r\n        Object.keys(metaFields).forEach(key => {\r\n            // Update yoast seo meta fields\r\n            if (Object.keys(AllowedMetaFields).includes(key)) {\r\n                const translatedMetaFields = select('block-atfp/translate').getTranslatedString('metaFields', metaFields[key][0], key, service);\r\n                if (key.startsWith('_yoast_wpseo_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    YoastSeoFields({ key: key, value: translatedMetaFields });\r\n                } else if (key.startsWith('rank_math_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    RankMathSeo({ key: key, value: translatedMetaFields });\r\n                } else if (key.startsWith('_seopress_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    elementor?.settings?.page?.model?.setExternalChange(key, translatedMetaFields);\r\n                }\r\n            };\r\n        });\r\n}\r\n\r\nconst atfpUpdateTitle = (title, service) => {\r\n    if(title && '' !== title){\r\n        const translatedTitle = select('block-atfp/translate').getTranslatedString('title', title, null, service);\r\n\r\n        if(translatedTitle && '' !== translatedTitle){\r\n            elementor?.settings?.page?.model?.setExternalChange('post_title', translatedTitle);\r\n        }\r\n    }\r\n}\r\n\r\n// Find Elementor model by ID\r\nconst atfpFindModelById = (elements, id) => {\r\n    for (const model of elements) {\r\n        if (model.get('id') === id) {\r\n            return model;\r\n        }\r\n        const nestedElements = model.get('elements').models;\r\n        const foundModel = atfpFindModelById(nestedElements, id);\r\n        if (foundModel) {\r\n            return foundModel;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nconst updateElementorPage = ({ postContent, modalClose, service }) => {\r\n    const postID = elementor.config.document.id;\r\n\r\n    // Collect translated content\r\n    const translations = [];\r\n\r\n    // Define a list of properties to exclude\r\n    const cssProperties = [\r\n        'content_width', 'title_size', 'font_size', 'margin', 'padding', 'background', 'border', 'color', 'text_align',\r\n        'font_weight', 'font_family', 'line_height', 'letter_spacing', 'text_transform', 'border_radius', 'box_shadow',\r\n        'opacity', 'width', 'height', 'display', 'position', 'z_index', 'visibility', 'align', 'max_width', 'content_typography_typography', 'flex_justify_content', 'title_color', 'description_color', 'email_content'\r\n    ];\r\n\r\n    const subStringsToCheck=(strings)=>{\r\n        const dynamicSubStrings=['title', 'description', 'editor', 'text', 'content', 'label'];\r\n        const staticSubStrings=['caption','heading','sub_heading', 'testimonial_content', 'testimonial_job', 'testimonial_name', 'name'];\r\n\r\n        return dynamicSubStrings.some(substring => strings.toLowerCase().includes(substring)) || staticSubStrings.some(substring => strings === substring);\r\n    }\r\n\r\n    const storeSourceStrings = (element,index, ids=[]) => {\r\n        const widgetId = element.id;\r\n        const settings = element.settings;\r\n        ids.push(index)\r\n\r\n        // Check if settings is an object\r\n        if (typeof settings === 'object' && settings !== null) {\r\n            // Define the substrings to check for translatable content\r\n\r\n            // Iterate through the keys in settings\r\n            Object.keys(settings).forEach(key => {\r\n                // Skip keys that are CSS properties\r\n                if (cssProperties.some(substring => key.toLowerCase().includes(substring))) {\r\n                    return; // Skip this property and continue to the next one\r\n                }\r\n\r\n                // Check if the key includes any of the specified substrings\r\n                if (subStringsToCheck(key) &&\r\n                    typeof settings[key] === 'string' && settings[key].trim() !== '') {\r\n                    const uniqueKey = ids.join('_atfp_') + '_atfp_settings_atfp_' + key;\r\n\r\n                    const translatedData = select('block-atfp/translate').getTranslatedString('content', settings[key], uniqueKey, service);\r\n\r\n                    translations.push({\r\n                        ID: widgetId,\r\n                        key: key,\r\n                        translatedContent: translatedData\r\n                    })\r\n                }\r\n\r\n                // Check for arrays (possible repeater fields) within settings\r\n                if (Array.isArray(settings[key])) {\r\n                    settings[key].forEach((item, index) => {\r\n                        if (typeof item === 'object' && item !== null) {\r\n                            // Check for translatable content in repeater fields\r\n                            Object.keys(item).forEach(repeaterKey => {\r\n                                // Skip if it's a CSS-related property\r\n                                if (cssProperties.includes(repeaterKey.toLowerCase())) {\r\n                                    return; // Skip this property\r\n                                }\r\n\r\n                                if (subStringsToCheck(repeaterKey) &&\r\n                                    typeof item[repeaterKey] === 'string' && item[repeaterKey].trim() !== '') {\r\n\r\n                                    const fieldKey = `${key}[${index}].${repeaterKey}`\r\n                                    const uniqueKey = ids.join('_atfp_') + '_atfp_settings_atfp_' + key + '_atfp_' + index + '_atfp_' + repeaterKey;\r\n\r\n                                    const translatedData = select('block-atfp/translate').getTranslatedString('content', item[repeaterKey], uniqueKey, service);\r\n\r\n                                    translations.push({\r\n                                        ID: widgetId,\r\n                                        key: fieldKey,\r\n                                        translatedContent: translatedData\r\n                                    })\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        // If there are nested elements, process them recursively\r\n        if (element.elements && Array.isArray(element.elements)) {\r\n            element.elements.forEach((nestedElement,index) => {\r\n                storeSourceStrings(nestedElement,index, [...ids, 'elements']);\r\n            });\r\n        }\r\n    }\r\n\r\n    postContent.widgetsContent.map((widget,index) => storeSourceStrings(widget,index,[]));\r\n\r\n    // Update widget content with translations\r\n    atfpUpdateWidgetContent(translations);\r\n    \r\n    // Update Meta Fields\r\n    atfpUpdateMetaFields(postContent.metaFields, service);\r\n\r\n    // Update Title\r\n    atfpUpdateTitle(postContent.title, service);\r\n\r\n    const replaceSourceString=()=>{\r\n        const elementorData = atfp_global_object.elementorData;\r\n        const translateStrings=wp.data.select('block-atfp/translate').getTranslationEntry();\r\n\r\n        translateStrings.forEach(translation => {\r\n            const sourceString = translation.source;\r\n            const ids = translation.id;\r\n            const translatedContent = translation.translatedData;\r\n            const type=translation.type;\r\n\r\n            if(!sourceString || '' === sourceString || 'content' !== type){\r\n                return;\r\n            }\r\n            \r\n            const keyArray = ids.split('_atfp_');\r\n            \r\n            const translateValue = translatedContent[service];\r\n            let parentElement = null;\r\n            let parentKey = null;\r\n\r\n            let currentElement = elementorData;\r\n               \r\n            keyArray.forEach(key => {\r\n                parentElement = currentElement;\r\n                parentKey = key;\r\n                currentElement = currentElement ? currentElement[key] : null;\r\n            });\r\n\r\n            if(parentElement && parentKey && parentElement[parentKey] && parentElement[parentKey] === sourceString){\r\n                parentElement[parentKey] = translateValue;\r\n            }\r\n        });\r\n\r\n        return elementorData;\r\n    }\r\n\r\n    \r\n    const elementorData = replaceSourceString();\r\n\r\n    const requestBody={\r\n        action: atfp_global_object.update_elementor_data,\r\n        post_id: postID,\r\n        elementor_data: JSON.stringify(elementorData),\r\n        atfp_nonce: atfp_global_object.ajax_nonce,\r\n    }\r\n\r\n    fetch(atfp_global_object.ajax_url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n            'Accept': 'application/json',\r\n        },\r\n        body: new URLSearchParams(requestBody)\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data.success) {\r\n                const translateButton = document.querySelector('.atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n                if(translateButton){\r\n                    translateButton.setAttribute('title', 'Translation process completed successfully.');\r\n                }\r\n            } else {\r\n                console.error('Failed to update Elementor data:', data.data);\r\n            }\r\n\r\n            modalClose();\r\n        })\r\n        .catch(error => {\r\n            modalClose();\r\n            console.error('Error updating Elementor data:', error);\r\n        });\r\n}\r\n\r\nexport default updateElementorPage;\r\n","import FilterBlockNestedAttr from \"../../component/filter-nested-attr\";\r\n\r\n/**\r\n * Filters and translates attributes of a block based on provided rules.\r\n * \r\n * @param {Object} block - The block to filter and translate attributes for.\r\n * @param {Object} blockParseRules - The rules for parsing the block.\r\n * @returns {Object} The updated block with translated attributes.\r\n */\r\nconst filterTranslateAttr = (block, blockParseRules, service) => {\r\n    \r\n    const { select } = wp.data;\r\n\r\n    const filterAttrArr = Object.values(blockParseRules);\r\n    const blockAttr = block.attributes;\r\n    const blockId = block.clientId;\r\n\r\n    // Function to update a nested attribute in the block\r\n    const updateNestedAttribute = (obj, path, value) => {\r\n\r\n        const newObj = { ...obj };\r\n        let current = newObj;\r\n        for (let i = 0; i < path.length - 1; i++) {\r\n            if (Object.getPrototypeOf(current[path[i]]) === Array.prototype) {\r\n                current[path[i]] = [...current[path[i]]];\r\n            } else {\r\n                current[path[i]] = { ...current[path[i]] }; // Create a shallow copy\r\n            }\r\n            current = current[path[i]];\r\n        }\r\n\r\n        if (current[path[path.length - 1]] instanceof wp.richText.RichTextData) {\r\n            current[path[path.length - 1]] = value.replace(/(?<!\\\\)\"|\\\\\"/g, \"'\");\r\n        } else {\r\n            current[path[path.length - 1]] = value;\r\n        }\r\n\r\n        return newObj;\r\n    };\r\n\r\n    /**\r\n     * Updates translated attributes based on provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs to update attributes for.\r\n     * @param {Object|Array} filterAttrObj - The filter attribute object to apply.\r\n     */\r\n    const updateTranslatedAttr = (idArr, filterAttrObj) => {\r\n\r\n        if (true === filterAttrObj) {\r\n\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr ? dynamicBlockAttr[key] : dynamicBlockAttr;\r\n            });\r\n\r\n            let blockAttrContent = dynamicBlockAttr;\r\n\r\n            if (blockAttrContent instanceof wp.richText.RichTextData) {\r\n                blockAttrContent = blockAttrContent.originalHTML;\r\n            }\r\n\r\n            if (undefined !== blockAttrContent && typeof blockAttrContent === 'string' && blockAttrContent.trim() !== '') {\r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n                let translateContent = '';\r\n\r\n                if (!/[\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    translateContent = blockAttrContent;\r\n                } else {\r\n                    translateContent = select('block-atfp/translate').getTranslatedString('content', blockAttrContent, filterKey, service);\r\n                }\r\n\r\n                block.attributes = updateNestedAttribute(block.attributes, newIdArr, translateContent);\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        FilterBlockNestedAttr(idArr, filterAttrObj, blockAttr, updateTranslatedAttr);\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            updateTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n\r\n    return block;\r\n}\r\n\r\n/**\r\n * Creates a translated block based on the provided block, child block, translate handler, and block rules.\r\n * If the block name is included in the block rules, it filters and translates the attributes accordingly.\r\n * \r\n * @param {Object} block - The block to create a translated version of.\r\n * @param {Array} childBlock - The child blocks associated with the main block.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @param {String} service - The service to use for translation.\r\n * @returns {Object} The newly created translated block.\r\n */\r\nconst createTranslatedBlock = (block, childBlock, blockRules, service) => {\r\n    const { createBlock } = wp.blocks;\r\n    const { name: blockName, attributes } = block;\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    let attribute = { ...attributes };\r\n    let translatedBlock = block;\r\n    let newBlock = '';\r\n\r\n    if (blockTranslateName.includes(block.name)) {\r\n        translatedBlock = filterTranslateAttr(block, blockRules['AtfpBlockParseRules'][block.name], service);\r\n\r\n        attribute = translatedBlock.attributes;\r\n    }\r\n\r\n    newBlock = createBlock(blockName, attribute, childBlock);\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates a child block recursively by translating each inner block based on the provided block, translate handler, and block rules.\r\n * \r\n * @param {Object} block - The block to create a child block for.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @returns {Object} The newly created translated child block.\r\n */\r\nconst cretaeChildBlock = (block, blockRules, service) => {\r\n    let childBlock = block.innerBlocks.map(block => {\r\n        if (block.name) {\r\n            const childBlock = cretaeChildBlock(block, blockRules, service);\r\n            return childBlock;\r\n        }\r\n    });\r\n\r\n    const newBlock = createTranslatedBlock(block, childBlock, blockRules, service)\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates the main blocks based on the provided block, translate handler, and block rules.\r\n * If the block name exists, it creates the main block along with its child blocks and inserts it into the block editor.\r\n * \r\n * @param {Object} block - The main block to create.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n */\r\nconst createBlocks = (block, service) => {\r\n    const { select } = wp.data;\r\n    const blockRules = select('block-atfp/translate').getBlockRules();\r\n\r\n    const { dispatch } = wp.data;\r\n    const { name: blockName } = block;\r\n    // Create the main block\r\n    if (blockName) {\r\n        let childBlock = block.innerBlocks.map(block => {\r\n            if (block.name) {\r\n                return cretaeChildBlock(block, blockRules, service);\r\n            }\r\n        })\r\n        const parentBlock = createTranslatedBlock(block, childBlock, blockRules, service);\r\n\r\n        dispatch('core/block-editor').insertBlock(parentBlock);\r\n\r\n    }\r\n}\r\n\r\nexport default createBlocks;\r\n","import createBlocks from './create-block';\r\nimport { dispatch, select } from '@wordpress/data';\r\nimport YoastSeoFields from '../../component/translate-seo-fields/yoast-seo-fields';\r\nimport RankMathSeo from '../../component/translate-seo-fields/rank-math-seo';\r\nimport SeoPressFields from '../../component/translate-seo-fields/seo-press';\r\n\r\n/**\r\n * Translates the post content and updates the post title, excerpt, and content.\r\n * \r\n * @param {Object} props - The properties containing post content, translation function, and block rules.\r\n */\r\nconst translatePost = (props) => {\r\n    const { editPost } = dispatch('core/editor');\r\n    const { modalClose, postContent, service } = props;\r\n\r\n    /**\r\n     * Updates the post title and excerpt text based on translation.\r\n     */\r\n    const postDataUpdate = () => {\r\n        const data = {};\r\n        const editPostData = Object.keys(postContent).filter(key => ['title', 'excerpt'].includes(key));\r\n\r\n        editPostData.forEach(key => {\r\n            const sourceData = postContent[key];\r\n            if (sourceData.trim() !== '') {\r\n                const translateContent = select('block-atfp/translate').getTranslatedString(key, sourceData, null, service);\r\n\r\n                data[key] = translateContent;\r\n            }\r\n        });\r\n\r\n        editPost(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the post meta fields based on translation.\r\n     */\r\n    const postMetaFieldsUpdate = () => {\r\n        const metaFieldsData = postContent.metaFields;\r\n        \r\n        if(!metaFieldsData && Object.keys(metaFieldsData).length < 1){\r\n            return;\r\n        }\r\n        \r\n        const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n        Object.keys(metaFieldsData).forEach(key => {\r\n            // Update yoast seo meta fields\r\n            if (Object.keys(AllowedMetaFields).includes(key)) {\r\n                const translatedMetaFields = select('block-atfp/translate').getTranslatedString('metaFields', metaFieldsData[key][0], key, service);\r\n                if (key.startsWith('_yoast_wpseo_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    YoastSeoFields({ key: key, value: translatedMetaFields });\r\n                } else if (key.startsWith('rank_math_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    RankMathSeo({ key: key, value: translatedMetaFields });\r\n                } else if (key.startsWith('_seopress_') && AllowedMetaFields[key].inputType === 'string') {\r\n                    SeoPressFields({ key: key, value: translatedMetaFields });\r\n                } else {\r\n                    editPost({ meta: { [key]: translatedMetaFields } });\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Updates the post ACF fields based on translation.\r\n     */\r\n    const postAcfFieldsUpdate = () => {\r\n        const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n        const metaFieldsData = postContent.metaFields;\r\n        \r\n        if (window.acf) {\r\n            acf.getFields().forEach(field => {\r\n\r\n                const fieldData=JSON.parse(JSON.stringify({key: field.data.key, type: field.data.type, name: field.data.name}));\r\n                let repeaterField = false;\r\n                // Update repeater fields\r\n                if(field.$el && field.$el.closest('.acf-field.acf-field-repeater') && field.$el.closest('.acf-field.acf-field-repeater').length > 0){\r\n                    const rowId=field.$el.closest('.acf-row').data('id');\r\n                    const repeaterItemName=field.$el.closest('.acf-field.acf-field-repeater').data('name');\r\n\r\n                    if(rowId && '' !== rowId){\r\n                        const index=rowId.replace('row-', '');\r\n                    \r\n                        fieldData.name=repeaterItemName+'_'+index+'_'+fieldData.name;\r\n                        repeaterField = true;\r\n                    }\r\n\r\n                }\r\n\r\n               if(field.data && field.data.key && Object.keys(AllowedMetaFields).includes(fieldData.name)){\r\n                   const fieldName = field.data.name;\r\n                   const inputType = field.data.type;\r\n\r\n                   const sourceValue = metaFieldsData[fieldName] && metaFieldsData[fieldName][0] ? metaFieldsData[fieldName][0] : field?.val();\r\n\r\n                   const translatedMetaFields = select('block-catfp/translate').getTranslatedString('metaFields', sourceValue, fieldData.name, service);\r\n\r\n                   console.log(sourceValue);\r\n                   console.log(metaFieldsData);\r\n                   console.log(translatedMetaFields);\r\n                   if(!translatedMetaFields || '' === translatedMetaFields){\r\n                       return;\r\n                   }\r\n\r\n                   if('wysiwyg' === inputType && window.tinymce){\r\n                       const editorId = field.data.id;\r\n                       tinymce.get(editorId)?.setContent(translatedMetaFields);\r\n                   }else{\r\n                       field.val(translatedMetaFields);\r\n                   }\r\n               }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the post content based on translation.\r\n     */\r\n    const postContentUpdate = () => {\r\n        const postContentData = postContent.content;\r\n\r\n        if (postContentData.length <= 0) {\r\n            return;\r\n        }\r\n\r\n        Object.values(postContentData).forEach(block => {\r\n            createBlocks(block, service);\r\n        });\r\n    }\r\n\r\n    // Update post title and excerpt text\r\n    postDataUpdate();\r\n    // Update post meta fields\r\n    postMetaFieldsUpdate();\r\n    // Update post ACF fields\r\n    postAcfFieldsUpdate();\r\n    // Update post content\r\n    postContentUpdate();\r\n    // Close string modal box\r\n    modalClose();\r\n}\r\n\r\nexport default translatePost;","import { dispatch } from \"@wordpress/data\";\r\nimport AllowedMetaFields from \"../../allowed-meta-fields\";\r\nimport ElementorSaveSource from \"../../store-source-string/elementor\";\r\n\r\n// Update allowed meta fields\r\nconst updateAllowedMetaFields = (data) => {\r\n    dispatch('block-atfp/translate').allowedMetaFields(data);\r\n}\r\n\r\nconst fetchPostContent = async (props) => {\r\n    const elementorPostData = atfp_global_object.elementorData && typeof atfp_global_object.elementorData === 'string' ? JSON.parse(atfp_global_object.elementorData) : atfp_global_object.elementorData;\r\n\r\n    const content={\r\n        widgetsContent:elementorPostData,\r\n        metaFields:atfp_global_object?.metaFields || {}\r\n    }\r\n\r\n    if(atfp_global_object.parent_post_title && '' !== atfp_global_object.parent_post_title){\r\n        content.title=atfp_global_object.parent_post_title;\r\n    }\r\n\r\n    // Update allowed meta fields\r\n    Object.keys(AllowedMetaFields).forEach(key => {\r\n        updateAllowedMetaFields({id: key, type: AllowedMetaFields[key].type});\r\n    });\r\n    \r\n    ElementorSaveSource(content);\r\n    \r\n    props.refPostData(content);\r\n    props.updatePostDataFetch(true);\r\n}\r\n\r\nexport default fetchPostContent;","import GutenbergBlockSaveSource from \"../../store-source-string/gutenberg\";\r\nimport { dispatch, select } from \"@wordpress/data\";\r\nimport { parse } from \"@wordpress/blocks\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport AllowedMetaFields from \"../../allowed-meta-fields\";\r\n\r\nconst GutenbergPostFetch = async (props) => {\r\n    const apiUrl = atfp_global_object.ajax_url;\r\n    let blockRules = wp.data.select('block-atfp/translate').getBlockRules() || {};\r\n    const apiController = [];\r\n\r\n    const destroyHandler = () => {\r\n        apiController.forEach(controller => {\r\n            controller.abort('Modal Closed');\r\n        });\r\n    }\r\n\r\n    props.updateDestroyHandler(() => {\r\n        destroyHandler();\r\n    });\r\n    \r\n    // Update allowed meta fields\r\n    const updateAllowedMetaFields = (data) => {\r\n        dispatch('block-atfp/translate').allowedMetaFields(data);\r\n    }\r\n\r\n    // Update ACF fields allowed meta fields\r\n    const AcfFields = () =>{\r\n        const postMetaSync = atfp_global_object.postMetaSync === 'true';\r\n\r\n        if(window.acf && !postMetaSync){\r\n            const allowedTypes = ['text', 'textarea', 'wysiwyg'];\r\n            acf.getFields().forEach(field => {\r\n                if(field.data && allowedTypes.includes(field.data.type)){\r\n                    updateAllowedMetaFields({id: field.data.key, type: field.data.type});\r\n        }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Update allowed meta fields\r\n    Object.keys(AllowedMetaFields).forEach(key => {\r\n        updateAllowedMetaFields({id: key, type: AllowedMetaFields[key].type});\r\n    });\r\n\r\n    // Update ACF fields allowed meta fields\r\n    AcfFields();\r\n\r\n    const BlockParseFetch = async () => {\r\n\r\n        if (blockRules && blockRules.AtfpBlockParseRules && Object.keys(blockRules.AtfpBlockParseRules).length > 0) {\r\n            return;\r\n        }\r\n\r\n        const blockRulesApiSendData = {\r\n            atfp_nonce: atfp_global_object.ajax_nonce,\r\n            action: atfp_global_object.action_block_rules\r\n        };\r\n\r\n\r\n        const rulesController = new AbortController();\r\n        apiController.push(rulesController);\r\n        await fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: new URLSearchParams(blockRulesApiSendData),\r\n            signal: rulesController.signal,\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                blockRules = JSON.parse(data.data.blockRules);\r\n                dispatch('block-atfp/translate').setBlockRules(blockRules);\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }\r\n\r\n    await BlockParseFetch();\r\n\r\n    const ContentFetch = async () => {\r\n        \r\n        const contentFetchStatus = select('block-atfp/translate').contentFetchStatus();\r\n        if (contentFetchStatus) {\r\n            return;\r\n        }\r\n\r\n        /**\r\n        * Prepare data to send in API request.\r\n        */\r\n        const apiSendData = {\r\n            postId: parseInt(props.postId),\r\n            local: props.targetLang,\r\n            current_local: props.sourceLang,\r\n            atfp_nonce: atfp_global_object.ajax_nonce,\r\n            action: atfp_global_object.action_fetch\r\n        };\r\n\r\n        const contentController = new AbortController();\r\n        apiController.push(contentController);\r\n\r\n        /**\r\n         * useEffect hook to fetch post data from the specified API endpoint.\r\n         * Parses the response data and updates the state accordingly.\r\n         * Handles errors in fetching post content.\r\n         */\r\n        await fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: new URLSearchParams(apiSendData),\r\n            signal: contentController.signal,\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n\r\n                const contentFetchStatus = select('block-atfp/translate').contentFetchStatus();\r\n                \r\n                if (contentFetchStatus) {\r\n                    return;\r\n                }\r\n\r\n                const post_data = data.data;\r\n\r\n                if (post_data.content && post_data.content.trim() !== '') {\r\n                    post_data.content = parse(post_data.content);\r\n                }\r\n\r\n                GutenbergBlockSaveSource(post_data, blockRules);\r\n                props.refPostData(post_data);\r\n                props.updatePostDataFetch(true);\r\n                dispatch('block-atfp/translate').contentFetchStatus(true);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }\r\n\r\n    await ContentFetch();\r\n};\r\n\r\nexport default GutenbergPostFetch;","import AtfpActionTypes from \"./types\"; // Importing action types from the types module\r\n\r\n/**\r\n * Action creator for saving the source title.\r\n * @param {string} data - The source title to be saved.\r\n * @returns {Object} The action object containing the type and text.\r\n */\r\nexport const titleSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceTitle, // Action type for saving the source title\r\n        text: data, // The source title text\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the translated title.\r\n * @param {string} data - The translated title to be saved.\r\n * @param {string} provider - The provider of the translated title.\r\n * @returns {Object} The action object containing the type, text, and provider.\r\n */\r\nexport const titleSaveTranslate = (data, provider) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedTitle, // Action type for saving the translated title\r\n        text: data, // The translated title text\r\n        provider: provider // The provider of the translated title\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the source excerpt.\r\n * @param {string} data - The source excerpt to be saved.\r\n * @returns {Object} The action object containing the type and text.\r\n */\r\nexport const excerptSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceExcerpt, // Action type for saving the source excerpt\r\n        text: data, // The source excerpt text\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the translated excerpt.\r\n * @param {string} data - The translated excerpt to be saved.\r\n * @param {string} provider - The provider of the translated excerpt.\r\n * @returns {Object} The action object containing the type, text, and provider.\r\n */\r\nexport const excerptSaveTranslate = (data, provider) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedExcerpt, // Action type for saving the translated excerpt\r\n        text: data, // The translated excerpt text\r\n        provider: provider // The provider of the translated excerpt\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the source content.\r\n * @param {string} id - The identifier for the content.\r\n * @param {string} data - The source content to be saved.\r\n * @returns {Object} The action object containing the type, text, and id.\r\n */\r\nexport const contentSaveSource = (id, data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceContent, // Action type for saving the source content\r\n        text: data, // The source content text\r\n        id: id // The identifier for the content\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the translated content.\r\n * @param {string} id - The identifier for the content.\r\n * @param {string} data - The translated content to be saved.\r\n * @param {string} source - The source of the translated content.\r\n * @param {string} provider - The provider of the translated content.\r\n * @returns {Object} The action object containing the type, text, id, source, and provider.\r\n */\r\nexport const contentSaveTranslate = (id, data, source, provider) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedContent, // Action type for saving the translated content\r\n        text: data, // The translated content text\r\n        id: id, // The identifier for the content\r\n        source: source, // The source of the translated content\r\n        provider: provider // The provider of the translated content\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the source meta fields.\r\n * @param {string} id - The identifier for the meta fields.\r\n * @param {Object} data - The source meta fields to be saved.\r\n * @returns {Object} The action object containing the type, text, and id.\r\n */\r\nexport const metaFieldsSaveSource = (id, data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceMetaFields, // Action type for saving the source meta fields\r\n        text: data, // The source meta fields text\r\n        id: id, // The identifier for the meta fields\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the translated meta fields.\r\n * @param {string} id - The identifier for the meta fields.\r\n * @param {Object} data - The translated meta fields to be saved.\r\n * @param {string} source - The source of the translated meta fields.\r\n * @param {string} provider - The provider of the translated meta fields.\r\n * @returns {Object} The action object containing the type, text, id, source, and provider.\r\n */\r\nexport const metaFieldsSaveTranslate = (id, data, source, provider) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedMetaFields, // Action type for saving the translated meta fields\r\n        text: data, // The translated meta fields text\r\n        id: id, // The identifier for the meta fields\r\n        source: source, // The source of the translated meta fields\r\n        provider: provider // The provider of the translated meta fields\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the block rules.\r\n * @param {Object} data - The block rules to be saved.\r\n * @returns {Object} The action object containing the type and data.\r\n */\r\nexport const setBlockRules = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.setBlockRules, // Action type for saving the block rules\r\n        data: data // The block rules data\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the translation info.\r\n * @param {Object} data - The translation info to be saved.\r\n * @returns {Object} The action object containing the type and data.\r\n */\r\nexport const translationInfo = ({ sourceStringCount = null, sourceWordCount = null, sourceCharacterCount = null, timeTaken = null, provider = null, targetStringCount = null, targetWordCount = null, targetCharacterCount = null, translateStatus = null }) => {\r\n    return {\r\n        type: AtfpActionTypes.translationInfo, // Action type for saving the translation info\r\n        sourceStringCount: sourceStringCount,\r\n        sourceWordCount: sourceWordCount,\r\n        sourceCharacterCount: sourceCharacterCount, // The character count\r\n        timeTaken: timeTaken, // The time taken\r\n        targetStringCount: targetStringCount,\r\n        targetWordCount: targetWordCount,\r\n        targetCharacterCount: targetCharacterCount,\r\n        provider: provider, // The provider\r\n        translateStatus: translateStatus // The translate status\r\n    }\r\n};\r\n\r\n/**\r\n * Action creator for saving the allowed meta fields.\r\n * @param {Object} data - The allowed meta fields to be saved.\r\n * @returns {Object} The action object containing the type and data.\r\n */\r\nexport const allowedMetaFields = ({id, type}) => {\r\n    return {\r\n        type: AtfpActionTypes.allowedMetaFields,\r\n        id: id,\r\n        inputType: type\r\n    }\r\n}\r\n\r\n/**\r\n * Action creator for saving the content fetch status.\r\n * @param {boolean} status - The content fetch status to be saved.\r\n * @returns {Object} The action object containing the type and status.\r\n */\r\nexport const contentFetchStatus = (status) => {\r\n    return {\r\n        type: AtfpActionTypes.contentFetchStatus,\r\n        status: status\r\n    }\r\n}\r\n","/**\r\n * This module sets up a Redux store for the automatic translation block.\r\n * It imports the necessary reducer, actions, and selectors, and then\r\n * creates and registers the Redux store with the WordPress data system.\r\n */\r\n\r\n// Import the reducer function from the reducer module, which handles state changes.\r\nimport reducer from \"./reducer\";\r\n\r\n// Import all action creators from the actions module, which define how to interact with the store.\r\nimport * as actions from './actions';\r\n\r\n// Import all selector functions from the selectors module, which allow us to retrieve specific pieces of state.\r\nimport * as selectors from './selectors';\r\n\r\n// Destructure the createReduxStore and register functions from the wp.data object provided by WordPress.\r\nconst { createReduxStore, register } = wp.data;\r\n\r\n// Create a Redux store named 'block-atfp/translate' with the specified reducer, actions, and selectors.\r\nconst store = createReduxStore('block-atfp/translate', {\r\n    reducer,   // The reducer function to manage state updates.\r\n    actions,   // The action creators for dispatching actions to the store.\r\n    selectors   // The selectors for accessing specific state values.\r\n});\r\n\r\n// Register the created store with the WordPress data system, making it available for use in the application.\r\nregister(store);","import AtfpActionTypes from \"./types\"; // Importing action types from the types module\r\n\r\n/**\r\n * The default state for the translation reducer.\r\n * This state holds the initial values for title, excerpt, content, and metaFields.\r\n * \r\n * @type {Object}\r\n * @property {Object} title - Contains source and target translations for the title.\r\n * @property {Object} excerpt - Contains source and target translations for the excerpt.\r\n * @property {Array} content - An array holding content translations.\r\n * @property {Object} metaFields - Contains source and target translations for meta fields.\r\n */\r\nconst TranslateDefaultState = {\r\n    title: {}, // Initial state for title translations\r\n    excerpt: {}, // Initial state for excerpt translations\r\n    content: [], // Initial state for content translations\r\n    metaFields: {}, // Initial state for meta field translations\r\n    allowedMetaFields: {}, // Initial state for allowed meta fields\r\n    contentFetchStatus: false // Initial state for content fetch status\r\n};\r\n\r\n/**\r\n * The reducer function for handling translation actions.\r\n * This function updates the state based on the action type received.\r\n * \r\n * @param {Object} state - The current state of the reducer.\r\n * @param {Object} action - The action dispatched to the reducer.\r\n * @returns {Object} The new state after applying the action.\r\n */\r\nconst reducer = (state = TranslateDefaultState, action) => {\r\n    switch (action.type) {\r\n        case AtfpActionTypes.sourceTitle: // Action to save the source title\r\n            // Check if the action text contains any letters or numbers\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                // Update the state with the new source title\r\n                return { ...state, title: { ...state.title, source: action.text } };\r\n            }\r\n            return state; // Return the current state if no valid text\r\n\r\n        case AtfpActionTypes.traslatedTitle: // Action to save the translated title\r\n            // Update the state with the new target title\r\n            return { ...state, title: { ...state.title, translatedData: { ...(state.title.translatedData || []), [action.provider]: action.text } } };\r\n\r\n        case AtfpActionTypes.sourceExcerpt: // Action to save the source excerpt\r\n            // Check if the action text contains any letters or numbers\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                // Update the state with the new source excerpt\r\n                return { ...state, excerpt: { ...state.excerpt, source: action.text } };\r\n            }\r\n            return state; // Return the current state if no valid text\r\n\r\n        case AtfpActionTypes.traslatedExcerpt: // Action to save the translated excerpt\r\n            // Update the state with the new target excerpt\r\n            return { ...state, excerpt: { ...state.excerpt, translatedData: { ...(state.excerpt.translatedData || []), [action.provider]: action.text } } };\r\n\r\n        case AtfpActionTypes.sourceContent: // Action to save the source content\r\n            // Check if the action text contains any letters or numbers\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                // Update the state with the new source content for the specific ID\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), source: action.text } } };\r\n            }\r\n            return state; // Return the current state if no valid text\r\n\r\n        case AtfpActionTypes.traslatedContent: // Action to save the translated content\r\n            // Check if the source of the content matches the action source\r\n            if (state.content[action.id].source === action.source) {\r\n                // Update the state with the new target content for the specific ID\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), translatedData: { ...(state.content[action.id].translatedData || []), [action.provider]: action.text } } } };\r\n            }\r\n            return state; // Return the current state if no match\r\n\r\n        case AtfpActionTypes.sourceMetaFields: // Action to save the source meta fields\r\n            // Check if the action text contains any letters or numbers\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                // Update the state with the new source meta field for the specific ID\r\n                return { ...state, metaFields: { ...state.metaFields, [action.id]: { ...(state.metaFields[action.id] || []), source: action.text } } };\r\n            }\r\n            return state; // Return the current state if no valid text\r\n\r\n        case AtfpActionTypes.traslatedMetaFields: // Action to save the translated meta fields\r\n            // Update the state with the new target meta field for the specific ID\r\n            return { ...state, metaFields: { ...state.metaFields, [action.id]: { ...(state.metaFields[action.id] || []), translatedData: { ...(state.metaFields[action.id].translatedData || []), [action.provider]: action.text } } } };\r\n\r\n        case AtfpActionTypes.setBlockRules: // Action to save the block rules\r\n            // Update the state with the new block rules\r\n            return { ...state, blockRules: action.data };\r\n\r\n        case AtfpActionTypes.translationInfo: // Action to save the translation info\r\n            // Update the state with the new translation info\r\n            const data = {}\r\n\r\n            // Source String Count\r\n            action.sourceStringCount && (data.sourceStringCount = action.sourceStringCount);\r\n            // Source Word Count\r\n            action.sourceWordCount && (data.sourceWordCount = action.sourceWordCount);\r\n            // Source Character Count\r\n            action.sourceCharacterCount && (data.sourceCharacterCount = action.sourceCharacterCount);\r\n\r\n            // Save the translation info like target word count, target character count, translate status, time taken\r\n            if ((action.targetWordCount || action.targetCharacterCount || action.translateStatus || action.timeTaken) && action.provider) {\r\n                data.translateData = {\r\n                    ...(state.translationInfo?.translateData || {}),\r\n                    [action.provider]: {\r\n                        // If the provider already exists, update the existing provider data    \r\n                        ...(state.translationInfo?.translateData?.[action.provider] || {}),\r\n                        // Update the source string count\r\n                        ...(action.targetStringCount && { targetStringCount: action.targetStringCount }),\r\n                        // Update the target word count, target character count, translate status, time taken\r\n                        ...(action.targetWordCount && { targetWordCount: action.targetWordCount }),\r\n                        // Update the target character count\r\n                        ...(action.targetCharacterCount && { targetCharacterCount: action.targetCharacterCount }),\r\n                        // Update the translate status\r\n                        ...(action.translateStatus && { translateStatus: action.translateStatus }),\r\n                        // Update the time taken\r\n                        ...(action.timeTaken && { timeTaken: action.timeTaken })\r\n                    }\r\n                };\r\n            }\r\n\r\n            return { ...state, translationInfo: { ...state.translationInfo, ...data } };\r\n\r\n        case AtfpActionTypes.allowedMetaFields: // Action to save the allowed meta fields\r\n            // Update the state with the new allowed meta fields\r\n            return { ...state, allowedMetaFields: { ...state.allowedMetaFields, [action.id]: { ...(state.allowedMetaFields[action.id] || []), inputType: action.inputType} } };\r\n        case AtfpActionTypes.contentFetchStatus: // Action to save the content fetch status\r\n            // Update the state with the new content fetch status\r\n            return { ...state, contentFetchStatus: action.status };\r\n        default: // If the action type does not match any case\r\n            return state; // Return the current state unchanged\r\n    }\r\n}\r\n\r\nexport default reducer; // Exporting the reducer as the default export","/**\r\n * Retrieves the translation entries from the given state.\r\n *\r\n * This function extracts translation entries for the title, excerpt, meta fields, and content\r\n * from the provided state object and returns them as an array of translation entry objects.\r\n *\r\n * @param {Object} state - The state object containing translation data.\r\n * @param {Object} state.title - The title object containing source and target translations.\r\n * @param {Object} state.excerpt - The excerpt object containing source and target translations.\r\n * @param {Object} state.metaFields - An object containing meta field translations, where each key is a meta field ID.\r\n * @param {Object} state.content - An object containing content translations, where each key is a content ID.\r\n * @returns {Array<Object>} An array of translation entry objects, each containing the following properties:\r\n *   @property {string} id - The identifier of the translation entry.\r\n *   @property {string} source - The source text of the translation entry.\r\n *   @property {string} type - The type of the translation entry (e.g., 'title', 'excerpt', 'metaFields', 'content').\r\n *   @property {string} translatedData - The target text of the translation entry (default is an empty string if not provided).\r\n */\r\nexport const getTranslationEntry = (state) => {\r\n    // Initialize an empty array to hold translation entries\r\n    const translateEntry = new Array;\r\n\r\n    if (state.title.source) {\r\n        // Push the title translation entry into the array\r\n        translateEntry.push({\r\n            id: 'title', // Identifier for the entry\r\n            source: state.title.source, // Source text for the title\r\n            type: 'title', // Type of the entry\r\n            translatedData: (state.title.translatedData || {}), // translated text for the title, defaulting to an empty string if not provided\r\n        });\r\n    }\r\n\r\n    if (state.excerpt.source) {\r\n        // Push the excerpt translation entry into the array\r\n        translateEntry.push({\r\n            id: 'excerpt', // Identifier for the entry\r\n            source: state.excerpt.source, // Source text for the excerpt\r\n            type: 'excerpt', // Type of the entry\r\n            translatedData: (state.excerpt.translatedData || {}), // translated text for the excerpt, defaulting to an empty string if not provided\r\n        });\r\n    }\r\n\r\n    // Iterate over the metaFields object keys and push each translation entry into the array\r\n    Object.keys(state.metaFields).map(key => {\r\n        translateEntry.push({\r\n            type: 'metaFields', // Type of the entry\r\n            id: key, // Identifier for the meta field\r\n            source: state.metaFields[key].source, // Source text for the meta field\r\n            translatedData: (state.metaFields[key].translatedData || {}), // translated text for the meta field, defaulting to an empty string if not provided\r\n        });\r\n    });\r\n\r\n    // Iterate over the content object keys and push each translation entry into the array\r\n    Object.keys(state.content).map(key => {\r\n        translateEntry.push({\r\n            type: 'content', // Type of the entry\r\n            id: key, // Identifier for the content\r\n            source: state.content[key].source, // Source text for the content\r\n            translatedData: (state.content[key].translatedData || {}), // translated text for the content, defaulting to an empty string if not provided\r\n        });\r\n    });\r\n\r\n    // Return the array of translation entries\r\n    return translateEntry;\r\n};\r\n\r\n/**\r\n * Retrieves the block rules from the given state.\r\n * @param {Object} state - The state object containing translation data.\r\n * @returns {Object} The block rules data.\r\n */\r\nexport const getBlockRules = (state) => {\r\n    return state.blockRules;\r\n}\r\n\r\n/**\r\n * Retrieves the translated string from the given state.\r\n *\r\n * This function extracts the translated string for a given type (title, excerpt, metaFields, or content)\r\n * from the provided state object and returns it.\r\n *\r\n * @param {Object} state - The state object containing translation data.\r\n * @param {string} type - The type of the translation entry (e.g., 'title', 'excerpt', 'metaFields', 'content').\r\n * @param {string} source - The source text of the translation entry.\r\n * @param {string} id - The identifier of the translation entry (optional, used for metaFields and content).\r\n * @param {string} provider - The provider of the translation (optional, used for metaFields and content).\r\n * @returns {string} The translated string for the given type and source, or the original source text if no translation is found.\r\n */\r\nexport const getTranslatedString = (state, type, source, id = null, provider = null) => {\r\n\r\n    // Check if the type is 'title' or 'excerpt' and if the source matches\r\n    if (['title', 'excerpt'].includes(type) && state[type].source === source && state[type].translatedData && state[type].translatedData[provider]) {\r\n        return state[type]?.translatedData[provider] || state[type]?.source; // Return the translatedData if it matches\r\n    }\r\n    // Check if the type is 'metaFields' and if the source matches\r\n    else if (type === 'metaFields' && state.metaFields && state.metaFields[id] && state.metaFields[id].source === source && state.metaFields[id].translatedData && state.metaFields[id].translatedData[provider]) {\r\n        // Return the target text if it exists, otherwise return the source text\r\n        return undefined !== state.metaFields[id]?.translatedData[provider] ? state.metaFields[id]?.translatedData[provider] : state.metaFields[id]?.source;\r\n    }\r\n    // Check if the type is 'content' and if the source matches\r\n    else if (type === 'content' && state.content && state.content[id] && state.content[id].source === source && state.content[id].translatedData && state.content[id].translatedData[provider]) {\r\n        // Return the target text if it exists, otherwise return the source text\r\n        return undefined !== state.content[id]?.translatedData[provider] ? state.content[id]?.translatedData[provider] : state.content[id]?.source;\r\n    }\r\n    // If no matches, return the original source text\r\n    return source;\r\n}\r\n\r\n/**\r\n * Retrieves the translation info from the given state.\r\n * @param {Object} state - The state object containing translation data.\r\n * @returns {Object} The translation info.\r\n */\r\nexport const getTranslationInfo = (state) => {\r\n    return {\r\n        sourceStringCount: state?.translationInfo?.sourceStringCount || 0,\r\n        sourceWordCount: state?.translationInfo?.sourceWordCount || 0,\r\n        sourceCharacterCount: state?.translationInfo?.sourceCharacterCount || 0,\r\n        translateData: state?.translationInfo?.translateData || {}\r\n    };\r\n}\r\n\r\n/** \r\n * Retrieves the allowed meta fields from the given state.\r\n * @param {Object} state - The state object containing translation data.\r\n * @returns {Object} The allowed meta fields.\r\n */\r\nexport const getAllowedMetaFields = (state) => {\r\n    return state.allowedMetaFields || {};\r\n}\r\n\r\nexport const contentFetchStatus = (state) => {\r\n    return state.contentFetchStatus;\r\n}","/**\r\n * AtfpActionTypes is an object that defines the action types used in the \r\n * automatic translation feature of the application. Each property in this \r\n * object corresponds to a specific action that can be dispatched to the \r\n * global store, allowing the application to manage the state related to \r\n * source and translated content effectively.\r\n */\r\nconst AtfpActionTypes = {\r\n    // Action type for saving the title of the source content\r\n    sourceTitle: 'SAVE_SOURCE_TITLE',\r\n    \r\n    // Action type for saving the title of the translated content\r\n    traslatedTitle: 'SAVE_TRANSLATE_TITLE',\r\n    \r\n    // Action type for saving the excerpt of the source content\r\n    sourceExcerpt: 'SAVE_SOURCE_EXCERPT',\r\n    \r\n    // Action type for saving the excerpt of the translated content\r\n    traslatedExcerpt: 'SAVE_TRANSLATE_EXCERPT',\r\n    \r\n    // Action type for saving the main content of the source\r\n    sourceContent: 'SAVE_SOURCE_CONTENT',\r\n    \r\n    // Action type for saving the main content of the translated content\r\n    traslatedContent: 'SAVE_TRANSLATE_CONTENT',\r\n    \r\n    // Action type for saving the meta fields of the source content\r\n    sourceMetaFields: 'SAVE_SOURCE_META_FIELDS',\r\n    \r\n    // Action type for saving the meta fields of the translated content\r\n    traslatedMetaFields: 'SAVE_TRANSLATE_META_FIELDS',\r\n\r\n    // Action type for saving the block rules\r\n    setBlockRules: 'SET_BLOCK_RULES',\r\n\r\n    // Action type for saving the translatio info of the translated content\r\n    translationInfo: 'SAVE_TRANSLATE_INFO',\r\n\r\n    // Action type for saving the allowed meta fields\r\n    allowedMetaFields: 'ALLOWED_META_FIELDS',\r\n\r\n    // Action type for saving the content fetch status\r\n    contentFetchStatus: 'CONTENT_FETCH_STATUS',\r\n};\r\n\r\nexport default AtfpActionTypes;","import { select } from '@wordpress/data';\r\n\r\nexport const updateTranslateData = ({ provider, sourceLang, targetLang, postId }) => {\r\n    const translateData = select('block-atfp/translate').getTranslationInfo();\r\n    const totalStringCount = translateData.translateData?.[provider]?.targetStringCount || 0;\r\n    const totalWordCount = translateData.translateData?.[provider]?.targetWordCount || 0;\r\n    const totalCharacterCount = translateData.translateData?.[provider]?.targetCharacterCount || 0;\r\n    const timeTaken = translateData.translateData?.[provider]?.timeTaken || 0;\r\n    const sourceWordCount = translateData?.sourceWordCount || 0;\r\n    const sourceCharacterCount = translateData?.sourceCharacterCount || 0;\r\n    const sourceStringCount = translateData?.sourceStringCount || 0;\r\n    const editorType = atfp_global_object.editor_type;\r\n    const date = new Date().toISOString();\r\n\r\n    const data = { provider, totalStringCount, totalWordCount, totalCharacterCount, editorType, date, sourceStringCount, sourceWordCount, sourceCharacterCount, sourceLang, targetLang, timeTaken, action: atfp_global_object.update_translate_data, atfp_nonce: atfp_global_object.ajax_nonce, post_id: postId };\r\n\r\n    fetch(atfp_global_object.ajax_url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n            'Accept': 'application/json',\r\n        },\r\n        body: new URLSearchParams(data)\r\n    }).then().catch(error => {\r\n        console.error(error);\r\n    });\r\n}","import { sprintf, __ } from \"@wordpress/i18n\";\r\nimport Providers from \"./providers\";\r\nimport TranslateService from \"../component/translate-provider\";\r\n\r\nconst SettingModalBody = (props) => {\r\n    const ServiceProviders = TranslateService();\r\n\r\n    return (\r\n        <div className=\"atfp-setting-modal-body\">\r\n            <div className=\"atfp-setting-modal-notice-wrapper\">\r\n            </div>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Translate</th>\r\n                        <th>Docs</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.keys(ServiceProviders).map((provider) => (\r\n                        <Providers\r\n                            key={provider}\r\n                            {...props}\r\n                            Service={provider}\r\n                        />\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SettingModalBody;\r\n","import { __ } from \"@wordpress/i18n\";\r\n\r\nconst SettingModalFooter = (props) => {\r\n\r\n    const { targetLangName, postType, sourceLangName, setSettingVisibility } = props;\r\n\r\n    return (\r\n        <div className=\"modal-footer\">\r\n            <p className=\"atfp-error-message\" style={{ marginBottom: '.5rem' }}>\r\n                {sprintf(\r\n                    __(\"This will replace your current %(postType)s with a %(target)s translation of the original %(source)s content.\", 'autopoly-ai-translation-for-polylang'),\r\n                    { postType: postType, source: sourceLangName, target: targetLangName }\r\n                )}\r\n            </p>\r\n            <button className=\"atfp-setting-close button button-primary\" onClick={() => setSettingVisibility(false)}>{__(\"Close\", 'autopoly-ai-translation-for-polylang')}</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SettingModalFooter;\r\n","import { __ } from \"@wordpress/i18n\";\r\n\r\nconst SettingModalHeader = ({ setSettingVisibility }) => {\r\n    return (\r\n        <div className=\"modal-header\">\r\n            <h2>{__(\"Step 1 - Select Translation Provider\", 'autopoly-ai-translation-for-polylang')}</h2>\r\n            <span className=\"close\" onClick={() => setSettingVisibility(false)}>&times;</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SettingModalHeader;\r\n","import ReactDOM from \"react-dom/client\";\r\nimport { useEffect, useState } from \"@wordpress/element\";\r\nimport PopStringModal from \"../popup-string-modal\";\r\nimport yandexLanguage from \"../component/translate-provider/yandex/yandex-language\";\r\nimport ChromeLocalAiTranslator from \"../component/translate-provider/local-ai-translator/local-ai-translator\";\r\nimport SettingModalHeader from \"./header\";\r\nimport SettingModalBody from \"./body\";\r\nimport SettingModalFooter from \"./footer\";\r\nimport { __ , sprintf } from \"@wordpress/i18n\";\r\nimport ErrorModalBox from \"../component/error-modal-box\";\r\n\r\nconst SettingModal = (props) => {\r\n    const [targetBtn, setTargetBtn] = useState({});\r\n    const [modalRender, setModalRender] = useState(0);\r\n    const [settingVisibility, setSettingVisibility] = useState(false);\r\n    const sourceLang = atfp_global_object.source_lang;\r\n    const targetLang = props.targetLang;\r\n    const sourceLangName = atfp_global_object.languageObject[sourceLang]['name'];\r\n    const targetLangName = atfp_global_object.languageObject[targetLang]['name'];\r\n    const imgFolder = atfp_global_object.atfp_url + 'assets/images/';\r\n    const yandexSupport = yandexLanguage().includes(targetLang);\r\n    const [serviceModalErrors, setServiceModalErrors] = useState({});\r\n    const [errorModalVisibility, setErrorModalVisibility] = useState(false);\r\n    const [chromeAiBtnDisabled, setChromeAiBtnDisabled] = useState(false);\r\n\r\n    const openModalOnLoadHandler = (e) => {\r\n        e.preventDefault();\r\n        const btnElement = e.target;\r\n        const visibility = btnElement.dataset.value;\r\n\r\n        if (visibility === 'yes') {\r\n            setSettingVisibility(true);\r\n        }\r\n\r\n        btnElement.closest('#atfp-modal-open-warning-wrapper').remove();\r\n    }\r\n\r\n    const closeErrorModal = () => {\r\n        setErrorModalVisibility(false);\r\n        setSettingVisibility(true);\r\n    }\r\n\r\n    const openErrorModalHandler = (service) => {\r\n        setSettingVisibility(false);\r\n        setErrorModalVisibility(service);\r\n    }\r\n\r\n    /**\r\n     * useEffect hook to set settingVisibility.\r\n     * Triggers the setSettingVisibility only when user click on meta field Button.\r\n    */\r\n    useEffect(() => {\r\n        const firstRenderBtns = document.querySelectorAll('#atfp-modal-open-warning-wrapper .modal-content div[data-value]');\r\n        const metaFieldBtn = document.querySelector(props.translateWrpSelector);\r\n\r\n        if (metaFieldBtn) {\r\n            metaFieldBtn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                setSettingVisibility(prev => !prev);\r\n            });\r\n        }\r\n\r\n        firstRenderBtns.forEach(ele => {\r\n            if (ele) {\r\n                ele.addEventListener('click', openModalOnLoadHandler);\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    /**\r\n     * useEffect hook to check if the local AI translator is supported.\r\n     */\r\n    useEffect(() => {\r\n        const languageSupportedStatus = async () => {\r\n            const localAiTranslatorSupport = await ChromeLocalAiTranslator.languageSupportedStatus(sourceLang, targetLang, targetLangName, sourceLangName);\r\n            const translateBtn = document.querySelector('.atfp-service-btn#atfp-local-ai-translator-btn');\r\n\r\n            if (localAiTranslatorSupport !== true && typeof localAiTranslatorSupport === 'object' && translateBtn) {\r\n                setChromeAiBtnDisabled(true);\r\n    \r\n                setServiceModalErrors(prev => ({ ...prev, localAiTranslator: {message: localAiTranslatorSupport, Title: __(\"Chrome AI Translator\", 'autopoly-ai-translation-for-polylang')} }));\r\n            }\r\n        };\r\n        if(settingVisibility){\r\n            if(!yandexSupport){\r\n                setServiceModalErrors(prev => ({\r\n                    ...prev,\r\n                    yandex: {\r\n                        message: \"<p style={{ fontSize: '1rem', color: '#ff4646' }}>\"+sprintf(\r\n                            __(\"Yandex Translate does not support the target language: %s.\", 'autopoly-ai-translation-for-polylang'),\r\n                            \"<strong>\"+targetLangName + \" (\"+targetLang+\")</strong>\"\r\n                        )+\"</p>\",\r\n                        Title: __(\"Yandex Translate\", 'autopoly-ai-translation-for-polylang')\r\n                    }\r\n                }));\r\n            };\r\n\r\n            languageSupportedStatus();\r\n        }\r\n    }, [settingVisibility]);\r\n\r\n    /**\r\n     * useEffect hook to handle displaying the modal and rendering the PopStringModal component.\r\n     */\r\n    useEffect(() => {\r\n        const btn = targetBtn;\r\n        const service = btn.dataset && btn.dataset.service;\r\n        const serviceLabel = btn.dataset && btn.dataset.serviceLabel;\r\n        const postId = props.postId;\r\n\r\n        const parentWrp = document.getElementById(\"atfp_strings_model\");\r\n\r\n        if (parentWrp) {\r\n            // Store root instance in a ref to avoid recreating it\r\n            if (!parentWrp._reactRoot) {\r\n                parentWrp._reactRoot = ReactDOM.createRoot(parentWrp);\r\n            }\r\n\r\n            if (modalRender) {\r\n                parentWrp._reactRoot.render(<PopStringModal\r\n                    currentPostId={props.currentPostId}\r\n                    postId={postId}\r\n                    service={service}\r\n                    serviceLabel={serviceLabel}\r\n                    sourceLang={sourceLang}\r\n                    targetLang={targetLang}\r\n                    modalRender={modalRender}\r\n                    pageTranslate={props.pageTranslate}\r\n                    postDataFetchStatus={props.postDataFetchStatus}\r\n                    fetchPostData={props.fetchPostData}\r\n                    translatePost={props.translatePost}\r\n                    contentLoading={props.contentLoading}\r\n                    updatePostDataFetch={props.updatePostDataFetch}\r\n                    stringModalBodyNotice={props.stringModalBodyNotice}\r\n                />);\r\n            }\r\n        }\r\n    }, [props.postDataFetchStatus, modalRender]);\r\n\r\n    /**\r\n     * Function to handle fetching content based on the target button clicked.\r\n     * Sets the target button and updates the fetch status to true.\r\n     * @param {Event} e - The event object representing the button click.\r\n     */\r\n    const fetchContent = async (e) => {\r\n        let targetElement = !e.target.classList.contains('atfp-service-btn') ? e.target.closest('.atfp-service-btn') : e.target;\r\n\r\n        if (!targetElement) {\r\n            return;\r\n        }\r\n\r\n        const dataService = targetElement.dataset && targetElement.dataset.service;\r\n        setSettingVisibility(false);\r\n\r\n        if (dataService === 'localAiTranslator') {\r\n            const localAiTranslatorSupport = await ChromeLocalAiTranslator.languageSupportedStatus(sourceLang, targetLang, targetLangName);\r\n            if (localAiTranslatorSupport !== true && typeof localAiTranslatorSupport === 'object') {\r\n                return;\r\n            }\r\n        }\r\n        \r\n        setModalRender(prev => prev + 1);\r\n        setTargetBtn(targetElement);\r\n    };\r\n\r\n    const handleSettingVisibility = (visibility) => {\r\n        setSettingVisibility(visibility);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {errorModalVisibility && serviceModalErrors[errorModalVisibility] &&\r\n                <ErrorModalBox onClose={closeErrorModal} {...serviceModalErrors[errorModalVisibility]}/>\r\n            }\r\n            {settingVisibility &&\r\n                <div className=\"modal-container\" style={{ display: settingVisibility ? 'flex' : 'none' }}>\r\n                    <div className=\"atfp-settings modal-content\">\r\n                        <SettingModalHeader\r\n                            setSettingVisibility={handleSettingVisibility}\r\n                            postType={props.postType}\r\n                            sourceLangName={sourceLangName}\r\n                            targetLangName={targetLangName}\r\n                        />\r\n                        <SettingModalBody\r\n                            yandexDisabled={!yandexSupport}\r\n                            fetchContent={fetchContent}\r\n                            imgFolder={imgFolder}\r\n                            targetLangName={targetLangName}\r\n                            postType={props.postType}\r\n                            sourceLangName={sourceLangName}\r\n                            localAiTranslatorDisabled={chromeAiBtnDisabled}\r\n                            openErrorModalHandler={openErrorModalHandler}\r\n                        />\r\n                        <SettingModalFooter\r\n                            targetLangName={targetLangName}\r\n                            postType={props.postType}\r\n                            sourceLangName={sourceLangName}\r\n                            setSettingVisibility={handleSettingVisibility}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SettingModal;","import TranslateService from \"../component/translate-provider\";\r\n\r\nconst Providers = (props) => {\r\n    const service = props.Service;\r\n    const buttonDisable = props[service + \"Disabled\"];\r\n    const ActiveService = TranslateService({ Service: service, [service + \"ButtonDisabled\"]: buttonDisable, openErrorModalHandler: props.openErrorModalHandler });\r\n\r\n    const serviceId = service.replace(/([A-Z])/g, '-$1').toLowerCase().replace(/[^a-z0-9-]/g, '');\r\n    const btnId = `atfp-${serviceId}-btn`;\r\n\r\n    return (\r\n<tr>\r\n<td className=\"atfp-provider-name\">\r\n  <img src={`${props.imgFolder}${ActiveService.Logo}`} alt={ActiveService.title} />\r\n  <span>{ActiveService.title}</span>\r\n</td>\r\n<td>\r\n  {ActiveService.ButtonDisabled ? ActiveService.ErrorMessage : (\r\n    <div\r\n      id={btnId}\r\n      onClick={props.fetchContent}\r\n      className=\"atfp-service-btn button button-primary\"\r\n      data-service={service}\r\n      data-service-label={ActiveService.ServiceLabel}\r\n    >\r\n      {ActiveService.SettingBtnText}\r\n    </div>\r\n  )}\r\n</td>\r\n<td>\r\n  <a href={ActiveService.Docs} target=\"_blank\" rel=\"noopener noreferrer\" className=\"atfp-doc-icon\">\r\n    <svg width=\"9\" height=\"12\" viewBox=\"0 0 9 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M2.17607 6.20533H6.82393V5.53867H2.17607V6.20533ZM2.17607 8.05133H6.82393V7.38467H2.17607V8.05133ZM2.17607 9.898H4.89536V9.23133H2.17607V9.898ZM1.03821 12C0.7425 12 0.495643 11.8973 0.297643 11.692C0.0996427 11.4867 0.000428571 11.2304 0 10.9233V1.07667C0 0.77 0.0992142 0.514 0.297643 0.308667C0.496071 0.103333 0.743143 0.000444444 1.03886 0H6.10714L9 3V10.9233C9 11.23 8.901 11.4862 8.703 11.692C8.505 11.8978 8.25771 12.0004 7.96114 12H1.03821ZM5.78571 3.33333V0.666667H1.03886C0.939857 0.666667 0.849 0.709333 0.766286 0.794666C0.683571 0.88 0.642429 0.974 0.642857 1.07667V10.9233C0.642857 11.0256 0.684 11.1196 0.766286 11.2053C0.848571 11.2911 0.939214 11.3338 1.03821 11.3333H7.96179C8.06036 11.3333 8.151 11.2907 8.23371 11.2053C8.31643 11.12 8.35757 11.0258 8.35714 10.9227V3.33333H5.78571Z\" fill=\"#6F6F6F\" />\r\n    </svg>\r\n  </a>\r\n</td>\r\n</tr>\r\n    );\r\n}\r\n\r\nexport default Providers;\r\n\r\n","import { useEffect, useState } from \"react\";\r\nimport FilterTargetContent from \"../component/filter-target-content\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { select } from \"@wordpress/data\";\r\nimport { Fragment } from \"@wordpress/element\";\r\nimport TranslateService from \"../component/translate-provider\";\r\n\r\nconst StringPopUpBody = (props) => {\r\n\r\n    const { service: service } = props;\r\n    const translateContent = select(\"block-atfp/translate\").getTranslationEntry();\r\n    const StringModalBodyNotice = props.stringModalBodyNotice;\r\n\r\n    useEffect(() => {\r\n\r\n        if (['yandex'].includes(props.service)) {\r\n            document.documentElement.setAttribute('translate', 'no');\r\n            document.body.classList.add('notranslate');\r\n        }\r\n\r\n        /**\r\n         * Calls the translate service provider based on the service type.\r\n         * For example, it can call services like yandex Translate.\r\n        */\r\n        const service = props.service;\r\n        const id = `atfp_${service}_translate_element`;\r\n\r\n        const translateContent = wp.data.select('block-atfp/translate').getTranslationEntry();\r\n\r\n        if (translateContent.length > 0 && props.postDataFetchStatus) {\r\n            const ServiceSetting = TranslateService({ Service: service });\r\n            ServiceSetting.Provider({ sourceLang: props.sourceLang, targetLang: props.targetLang, translateStatusHandler: props.translateStatusHandler, ID: id, translateStatus: props.translateStatus, modalRenderId: props.modalRender, destroyUpdateHandler: props.updateDestroyHandler });\r\n        }\r\n    }, [props.modalRender, props.postDataFetchStatus]);\r\n\r\n    return (\r\n        <div className=\"modal-body\">\r\n            {translateContent.length > 0 && props.postDataFetchStatus ?\r\n                <>\r\n                    {StringModalBodyNotice && <div className=\"atfp-body-notice-wrapper\"><StringModalBodyNotice /></div>}\r\n                    <div className=\"atfp_translate_progress\" key={props.modalRender}>{__(\"Automatic translation is in progress....\", 'autopoly-ai-translation-for-polylang')}<br />{__(\"It will take few minutes, enjoy  coffee in this time!\", 'autopoly-ai-translation-for-polylang')}<br /><br />{__(\"Please do not leave this window or browser tab while translation is in progress...\", 'autopoly-ai-translation-for-polylang')}</div>\r\n                    <div className={`translator-widget ${service}`} style={{ display: 'flex' }}>\r\n                        <h3 className=\"choose-lang\">{TranslateService({ Service: props.service }).heading} <span className=\"dashicons-before dashicons-translation\"></span></h3>\r\n\r\n                        <div className={`atfp_translate_element_wrapper ${props.translateStatus ? 'translate-completed' : ''}`}>\r\n                            <div id={`atfp_${props.service}_translate_element`}></div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"atfp_string_container\">\r\n                        <table className=\"scrolldown\" id=\"stringTemplate\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"notranslate\">{__(\"S.No\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                    <th className=\"notranslate\">{__(\"Source Text\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                    <th className=\"notranslate\">{__(\"Translation\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {props.postDataFetchStatus &&\r\n                                    <>\r\n                                        {translateContent.map((data, index) => {\r\n                                            return (\r\n                                                <Fragment key={index + props.translatePendingStatus}>\r\n                                                    {undefined !== data.source && data.source.trim() !== '' &&\r\n                                                        <>\r\n                                                            <tr key={index + 'tr' + props.translatePendingStatus}>\r\n                                                                <td>{index + 1}</td>\r\n                                                                <td data-source=\"source_text\">{data.source}</td>\r\n                                                                {!props.translatePendingStatus ?\r\n                                                                        <td className=\"translate\" data-translate-status=\"translated\" data-key={data.id} data-string-type={data.type}>{data.translatedData[props.service]}</td> :\r\n                                                                        <td className=\"translate\" translate=\"yes\" data-key={data.id} data-string-type={data.type}>\r\n                                                                            <FilterTargetContent service={props.service} content={data.source} contentKey={data.id} />\r\n                                                                        </td>\r\n                                                                }\r\n                                                            </tr>\r\n                                                        </>\r\n                                                    }\r\n                                                </Fragment>\r\n                                            );\r\n                                        })\r\n                                        }\r\n                                    </>\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </> :\r\n                props.postDataFetchStatus ?\r\n                    <p>{__('No strings are available for translation', 'autopoly-ai-translation-for-polylang')}</p> :\r\n\r\n                    <div className=\"atfp-skeleton-loader-wrapper\">\r\n                        <div className=\"translate-widget\">\r\n                            <div className=\"atfp-skeleton-loader-mini\"></div>\r\n                            <div className=\"atfp-skeleton-loader-mini\"></div>\r\n                        </div>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"notranslate\">{__(\"S.No\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                    <th className=\"notranslate\">{__(\"Source Text\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                    <th className=\"notranslate\">{__(\"Translation\", 'autopoly-ai-translation-for-polylang')}</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {[...Array(10)].map((_, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td><div className=\"atfp-skeleton-loader-mini\"></div></td>\r\n                                            <td><div className=\"atfp-skeleton-loader-mini\"></div></td>\r\n                                            <td><div className=\"atfp-skeleton-loader-mini\"></div></td>\r\n                                        </tr>\r\n                                    );\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpBody;\r\n","import StringPopUpNotice from \"./notice\";\r\nimport { sprintf, __ } from \"@wordpress/i18n\";\r\nimport FormatNumberCount from \"../component/format-number-count\";\r\n\r\nconst StringPopUpFooter = (props) => {\r\n\r\n    return (\r\n        <div className=\"modal-footer\" key={props.modalRender}>\r\n            {!props.translatePendingStatus && <StringPopUpNotice className=\"atfp_string_count\"><p>{__('Wahooo! You have saved your valuable time via auto translating', 'autopoly-ai-translation-for-polylang')} <strong><FormatNumberCount number={props.characterCount} /></strong> {__('characters using', 'autopoly-ai-translation-for-polylang')} <strong>{props.serviceLabel}</strong>.{__('Please share your feedback ', 'autopoly-ai-translation-for-polylang')}<a href=\"https://wordpress.org/support/plugin/automatic-translations-for-polylang/reviews/#new-post\" target=\"_blank\" rel=\"noopener\" style={{color: 'yellow'}}>{__('leave a quick review', 'autopoly-ai-translation-for-polylang')}</a>!</p></StringPopUpNotice>}\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translatePendingStatus} onClick={props.updatePostData}>{props.translateButtonStatus ? <><span className=\"updating-text\">{__(\"Updating\", 'autopoly-ai-translation-for-polylang')}<span className=\"dot\" style={{\"--i\": 0}}></span><span className=\"dot\" style={{\"--i\": 1}}></span><span className =\"dot\" style={{\"--i\": 2}}></span></span></> : __(\"Update Content\", 'autopoly-ai-translation-for-polylang')}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpFooter;","import { __ } from \"@wordpress/i18n\";\r\nconst StringPopUpHeader = (props) => {\r\n\r\n    /**\r\n     * Function to close the popup modal.\r\n     */\r\n    const closeModal = () => {\r\n        props.setPopupVisibility(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-header\" key={props.modalRender}>\r\n            <span className=\"close\" onClick={closeModal}>&times;</span>\r\n            <h2 className=\"notranslate\">{__(\"Step 2 - Start Automatic Translation Process\", 'autopoly-ai-translation-for-polylang')}</h2>\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translatePendingStatus} onClick={props.updatePostData}>{props.translateButtonStatus ? <><span className=\"updating-text\">{__(\"Updating\", 'autopoly-ai-translation-for-polylang')}<span className=\"dot\" style={{\"--i\": 0}}></span><span className=\"dot\" style={{\"--i\": 1}}></span><span className =\"dot\" style={{\"--i\": 2}}></span></span></> : __(\"Update Content\", 'autopoly-ai-translation-for-polylang')}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpHeader;","import { useEffect, useState } from \"@wordpress/element\";\r\nimport { updateTranslateData } from \"../helper\";\r\nimport { select } from \"@wordpress/data\";\r\nimport StringPopUpHeader from \"./header\";\r\nimport StringPopUpBody from \"./body\";\r\nimport StringPopUpFooter from \"./footer\";\r\n\r\nconst popStringModal = (props) => {\r\n\r\n    let selectedService = props.service;\r\n\r\n    const translateData = select('block-atfp/translate').getTranslationInfo().translateData[selectedService] || false;\r\n    const translateStatus=translateData?.translateStatus || false;\r\n\r\n    const [popupVisibility, setPopupVisibility] = useState(true);\r\n    const [refPostData, setRefPostData] = useState('');\r\n    const [translatePending, setTranslatePending] = useState(true);\r\n    const [characterCount, setCharacterCount] = useState(translateData?.targetCharacterCount || 0);\r\n    const [onDestroy, setOnDestroy] = useState([]);\r\n    const [translateButtonStatus, setTranslateButtonStatus] = useState(false);\r\n\r\n    const updateDestroyHandler = (callback) => {\r\n        setOnDestroy(prev => [...prev, callback]);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!popupVisibility){\r\n            if (onDestroy.length > 0) {\r\n                onDestroy.forEach(callback => {\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }, [popupVisibility, onDestroy]);\r\n\r\n    /**\r\n     * Returns the label for the service provider.\r\n     * @returns {string} The label for the service provider.\r\n     */ \r\n    const serviceLabel = () => {\r\n        const serviceProvider = props.service;\r\n\r\n        if (serviceProvider === 'localAiTranslator') {\r\n            return 'Chrome AI Translator';\r\n        } else{\r\n            return serviceProvider.replace(/^\\w/, c => c.toUpperCase()) + ' Translate';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fetches the post data.\r\n     */\r\n    useEffect(() => {\r\n        if (!props.postDataFetchStatus) {\r\n                props.fetchPostData({ postId: props.postId, sourceLang: props.sourceLang, targetLang: props.targetLang, updatePostDataFetch: props.updatePostDataFetch, refPostData: data => setRefPostData((prev) => ({ ...prev, ...data })), updateDestroyHandler: updateDestroyHandler });\r\n        }\r\n    }, [props.postDataFetchStatus, props.modalRender])\r\n\r\n    /**\r\n     * Updates the post content data.\r\n     * @param {string} data - The data to set as the post content.\r\n     */\r\n    const updatePostContentHandler = (data) => {\r\n        setRefPostData(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the fetch state.\r\n     * @param {boolean} state - The state to update the fetch with.\r\n     */\r\n    const setPopupVisibilityHandler = (state) => {\r\n\r\n        if (props.service === 'yandex') {\r\n            document.querySelector('#atfp_yandex_translate_element #yt-widget .yt-button__icon.yt-button__icon_type_right')?.click();\r\n        }\r\n\r\n        setTranslatePending(true);\r\n        setPopupVisibility(false);\r\n    }\r\n\r\n    const translateStatusHandler = (status) => {\r\n        let service = props.service;\r\n\r\n        const characterCount = select('block-atfp/translate').getTranslationInfo().translateData[service]?.targetCharacterCount || 0;\r\n        setCharacterCount(characterCount);\r\n        setTranslatePending(status);\r\n    }\r\n\r\n    const updatePostDataHandler = () => {\r\n\r\n        if(translateButtonStatus){\r\n            return;\r\n        }\r\n\r\n        const postContent = refPostData;\r\n        const modalClose = () => {setPopupVisibility(false); setPopupVisibilityHandler(false)};\r\n        let service=props.service;\r\n\r\n        setTranslateButtonStatus(true);\r\n\r\n        props.translatePost({ postContent: postContent, modalClose: modalClose, service: service });\r\n        props.pageTranslate(true);\r\n        updateTranslateData({ provider: service, sourceLang: props.sourceLang, targetLang: props.targetLang, postId: props.currentPostId });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPopupVisibility(true);\r\n\r\n        if (translateStatus) {\r\n            setCharacterCount(translateData?.targetCharacterCount || 0);\r\n            setTranslatePending(false);\r\n        }\r\n\r\n        setTimeout(() => {\r\n            const stringModal = document.querySelector('.atfp_string_container');\r\n            if (stringModal) {\r\n                stringModal.scrollTop = 0\r\n            };\r\n        })\r\n    }, [props.modalRender])\r\n\r\n    return (\r\n        <> {popupVisibility &&\r\n            <div id={`atfp-${props.service}-strings-modal`} className=\"modal-container\" style={{ display: popupVisibility ? 'flex' : 'none' }} data-render-id={props.modalRender}>\r\n                <div className=\"modal-content\">\r\n                    <StringPopUpHeader\r\n                        modalRender={props.modalRender}\r\n                        setPopupVisibility={setPopupVisibilityHandler}\r\n                        postContent={refPostData}\r\n                        translatePendingStatus={translatePending}\r\n                        pageTranslate={props.pageTranslate}\r\n                        service={props.service}\r\n                        serviceLabel={serviceLabel()}\r\n                        updatePostData={updatePostDataHandler}\r\n                        characterCount={characterCount}\r\n                        translateButtonStatus={translateButtonStatus}\r\n                    />\r\n                    <StringPopUpBody {...props}\r\n                        updatePostContent={updatePostContentHandler}\r\n                        contentLoading={props.contentLoading}\r\n                        postDataFetchStatus={props.postDataFetchStatus}\r\n                        translatePendingStatus={translatePending}\r\n                        service={props.service}\r\n                        sourceLang={props.sourceLang}\r\n                        targetLang={props.targetLang}\r\n                        translateStatusHandler={translateStatusHandler}\r\n                        modalRender={props.modalRender}\r\n                        translateStatus={translateStatus}\r\n                        stringModalBodyNotice={props.stringModalBodyNotice}\r\n                        updateDestroyHandler={updateDestroyHandler}\r\n                    />\r\n                    <StringPopUpFooter\r\n                        modalRender={props.modalRender}\r\n                        setPopupVisibility={setPopupVisibilityHandler}\r\n                        postContent={refPostData}\r\n                        translatePendingStatus={translatePending}\r\n                        pageTranslate={props.pageTranslate}\r\n                        service={props.service}\r\n                        serviceLabel={serviceLabel()}\r\n                        updatePostData={updatePostDataHandler}\r\n                        characterCount={characterCount}\r\n                        translateButtonStatus={translateButtonStatus}\r\n                    />\r\n                </div>\r\n            </div>\r\n        }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default popStringModal;","const StringPopUpNotice = (props) => {\r\n    return (\r\n        <div className={`notice inline notice-info is-dismissible ${props.className}`}>\r\n            {Array.isArray(props.children) ? props.children.join(' ') : props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpNotice;","import { select, dispatch } from \"@wordpress/data\";\r\n\r\nconst ElementorSaveSource = (content) => {\r\n\r\n    const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n    const storeMetaFields = (metaFields) => {\r\n        Object.keys(metaFields).forEach(metaKey => {\r\n            if(Object.keys(AllowedMetaFields).includes(metaKey) && AllowedMetaFields[metaKey].inputType === 'string'){\r\n                if('' !== metaFields[metaKey][0] && undefined !== metaFields[metaKey][0]){\r\n                    dispatch('block-atfp/translate').metaFieldsSaveSource(metaKey, metaFields[metaKey][0]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const loopCallback=(callback, loop, index)=>{\r\n        callback(loop[index], index);\r\n\r\n        index++;\r\n\r\n        if(index < loop.length){\r\n            loopCallback(callback, loop, index);\r\n        }\r\n    }\r\n\r\n    const translateContent=(ids,value)=>{\r\n        if(typeof value === 'string' && value.trim() !== '' && ids.length > 0){\r\n            const uniqueKey = ids.join('_atfp_');\r\n\r\n            if(value && '' !== value){  \r\n                dispatch('block-atfp/translate').contentSaveSource(uniqueKey, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    const subStringsToCheck=(strings)=>{\r\n        const dynamicSubStrings=['title', 'description', 'editor', 'text', 'content', 'label'];\r\n        const staticSubStrings=['caption','heading','sub_heading', 'testimonial_content', 'testimonial_job', 'testimonial_name', 'name'];\r\n\r\n        return dynamicSubStrings.some(substring => strings.toLowerCase().includes(substring)) || staticSubStrings.some(substring => strings === substring);\r\n    }\r\n\r\n    // Define a list of properties to exclude\r\n    const cssProperties = [\r\n        'content_width', 'title_size', 'font_size', 'margin', 'padding', 'background', 'border', 'color', 'text_align',\r\n        'font_weight', 'font_family', 'line_height', 'letter_spacing', 'text_transform', 'border_radius', 'box_shadow',\r\n        'opacity', 'width', 'height', 'display', 'position', 'z_index', 'visibility', 'align', 'max_width', 'content_typography_typography', 'flex_justify_content', 'title_color', 'description_color', 'email_content'\r\n    ];\r\n\r\n    const storeWidgetStrings = (element, index, ids=[]) => {\r\n        const settings = element.settings;\r\n        ids.push(index);\r\n\r\n        // Check if settings is an object\r\n        if (typeof settings === 'object' && settings !== null && Object.keys(settings).length > 0) {\r\n            // Define the substrings to check for translatable content\r\n\r\n            const keysLoop= (key, index)=>{\r\n                if (cssProperties.some(substring => key.toLowerCase().includes(substring))) {\r\n                    return; // Skip this property and continue to the next one\r\n                }\r\n\r\n                if (subStringsToCheck(key) &&\r\n                    typeof settings[key] === 'string' && settings[key].trim() !== '') {\r\n                    translateContent([...ids, 'settings', key],settings[key]);\r\n                }\r\n\r\n                if(Array.isArray(settings[key]) && settings[key].length > 0){\r\n                    const settingsLoop=(item, index)=>{\r\n                        if(typeof item === 'object' && item !== null){\r\n                            const settingsItemsLoop= (repeaterKey)=>{\r\n\r\n                                if (cssProperties.includes(repeaterKey.toLowerCase())) {\r\n                                    return; // Skip this property\r\n                                }\r\n\r\n                                if(subStringsToCheck(repeaterKey) &&\r\n                                    typeof item[repeaterKey] === 'string' && item[repeaterKey].trim() !== '') {\r\n                                    translateContent([...ids, 'settings', key, index, repeaterKey],item[repeaterKey]);\r\n                                }\r\n                            }\r\n\r\n                            loopCallback(settingsItemsLoop, Object.keys(item), 0);\r\n                        }\r\n                    }\r\n\r\n                    loopCallback(settingsLoop, settings[key], 0);\r\n                }\r\n            }\r\n    \r\n            loopCallback(keysLoop, Object.keys(settings), 0);\r\n        }\r\n\r\n        // If there are nested elements, process them recursively\r\n        if (element.elements && Array.isArray(element.elements) && element.elements.length > 0) {\r\n            const runLoop=(childElement, index)=>{\r\n                storeWidgetStrings(childElement, index, [...ids, 'elements']);\r\n            }\r\n\r\n            loopCallback(runLoop, element.elements, 0);\r\n        }\r\n    }\r\n\r\n    if(content.widgetsContent && content.widgetsContent.length > 0){\r\n        const runLoop= (element, index)=>{\r\n            storeWidgetStrings(element, index, []);\r\n        }\r\n\r\n        loopCallback(runLoop, content.widgetsContent, 0);\r\n    }\r\n\r\n    if(content.title && '' !== content.title){\r\n        const currentPostId=atfp_global_object.current_post_id;\r\n\r\n        if(currentPostId){\r\n            const existingTitle=elementor?.settings?.page?.model?.get('post_title');\r\n\r\n            if(existingTitle && '' !== existingTitle && existingTitle === `Elementor #${currentPostId}`){\r\n                dispatch('block-atfp/translate').titleSaveSource(content.title);\r\n            }\r\n        }\r\n    }\r\n\r\n    storeMetaFields(content.metaFields);\r\n}\r\n\r\nexport default ElementorSaveSource;","import FilterBlockNestedAttr from \"../../component/filter-nested-attr\";\r\nimport { dispatch, select } from \"@wordpress/data\";\r\n\r\n/**\r\n * Filters and translates attributes of a block.\r\n * \r\n * @param {string} blockId - The ID of the block.\r\n * @param {Object} blockAttr - The attributes of the block.\r\n * @param {Object} filterAttr - The attributes to filter.\r\n */\r\nconst filterTranslateAttr = (blockId, blockAttr, filterAttr) => {\r\n\r\n    const filterAttrArr = Object.values(filterAttr);\r\n\r\n    /**\r\n     * Saves translated attributes based on the provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterAttrObj - The filter attribute object.\r\n     */\r\n    const saveTranslatedAttr = (idArr, filterAttrObj) => {\r\n       \r\n        if (true === filterAttrObj) {\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr ? dynamicBlockAttr[key] : dynamicBlockAttr;\r\n            });\r\n\r\n            let blockAttrContent = dynamicBlockAttr;\r\n\r\n            if(blockAttrContent instanceof wp.richText.RichTextData) {\r\n                blockAttrContent=blockAttrContent.originalHTML;\r\n            }\r\n\r\n          \r\n            if (undefined !== blockAttrContent && typeof blockAttrContent === 'string' && blockAttrContent.trim() !== '') {\r\n\r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n\r\n                if (!/[\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    return false;\r\n                }\r\n\r\n                dispatch('block-atfp/translate').contentSaveSource(filterKey, blockAttrContent);\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        FilterBlockNestedAttr(idArr,filterAttrObj,blockAttr,saveTranslatedAttr);\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            saveTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Retrieves the translation string for a block based on block rules and applies translation.\r\n * \r\n * @param {Object} block - The block to translate.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst getTranslateString = (block, blockRules) => {\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    if (!blockTranslateName.includes(block.name)) {\r\n        return;\r\n    }\r\n\r\n    filterTranslateAttr(block.clientId, block.attributes, blockRules['AtfpBlockParseRules'][block.name]);\r\n}\r\n\r\n/**\r\n * Recursively processes child block attributes for translation.\r\n * \r\n * @param {Array} blocks - The array of blocks to translate.\r\n * @param {Object} blockRules - The rules for translating the blocks.\r\n */\r\nconst childBlockAttributesContent = (blocks, blockRules) => {\r\n    blocks.forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Processes the attributes of a block for translation.\r\n * \r\n * @param {Object} parseBlock - The block to parse for translation.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst blockAttributeContent = (parseBlock, blockRules) => {\r\n    Object.values(parseBlock).forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Saves the translation for a block based on its attributes.\r\n * \r\n * @param {Object} block - The block to save translation for.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst GutenbergBlockSaveSource = (block, blockRules) => {\r\n\r\n    const AllowedMetaFields = select('block-atfp/translate').getAllowedMetaFields();\r\n\r\n    Object.keys(block).forEach(key => {\r\n        if (key === 'content') {\r\n            blockAttributeContent(block[key], blockRules);\r\n        }else if(key === 'metaFields'){\r\n            Object.keys(block[key]).forEach(metaKey => {\r\n                // Store meta fields\r\n                if(Object.keys(AllowedMetaFields).includes(metaKey) && AllowedMetaFields[metaKey].inputType === 'string'){\r\n                    if('' !== block[key][metaKey][0] && undefined !== block[key][metaKey][0]){\r\n                        dispatch('block-atfp/translate').metaFieldsSaveSource(metaKey, block[key][metaKey][0]);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Store ACF fields\r\n            if(window.acf){\r\n                acf.getFields().forEach(field => {\r\n                    if(field.data && AllowedMetaFields[field.data.key]){\r\n                        const name = field.data.name;\r\n                        const currentValue=acf.getField(field.data.key)?.val();\r\n\r\n                        if(block[key] && block[key][name]){\r\n                            if('' !== block[key][name] && undefined !== block[key][name]){\r\n                                dispatch('block-atfp/translate').metaFieldsSaveSource(field.data.key, block[key][name][0]);\r\n                            }\r\n                        }else if(currentValue && '' !== currentValue && undefined !== currentValue){\r\n                            dispatch('block-atfp/translate').metaFieldsSaveSource(field.data.key, currentValue);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }else if(['title', 'excerpt'].includes(key)){\r\n            if(block[key] && block[key].trim() !== ''){\r\n                const action = `${key}SaveSource`;\r\n                dispatch('block-atfp/translate')[action](block[key]);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport default GutenbergBlockSaveSource;","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import SettingModal from './popup-setting-modal';\r\nimport './global-store';\r\nimport { useEffect, useState } from 'react';\r\nimport GutenbergPostFetch from './fetch-post/gutenberg';\r\nimport UpdateGutenbergPage from './create-translated-post/gutenberg';\r\nimport ProVersionNotice from './component/pro-version-notice';\r\nimport Notice from './component/notice';\r\nimport { select } from '@wordpress/data';\r\nimport { sprintf, __ } from '@wordpress/i18n';\r\n\r\n// Elementor post fetch and update page\r\nimport ElementorPostFetch from './fetch-post/elementor';\r\nimport ElementorUpdatePage from './create-translated-post/elementor';\r\n\r\nimport ReactDOM from \"react-dom/client\";\r\n\r\nconst editorType = window.atfp_global_object.editor_type;\r\n\r\nconst init = () => {\r\n  let atfpModals = new Array();\r\n  const atfpSettingModalWrp = '<!-- The Modal --><div id=\"atfp-setting-modal\"></div>';\r\n  const atfpStringModalWrp = '<div id=\"atfp_strings_model\" class=\"modal atfp_custom_model\"></div>';\r\n\r\n  atfpModals.push(atfpSettingModalWrp, atfpStringModalWrp);\r\n\r\n  atfpModals.forEach(modal => {\r\n    document.body.insertAdjacentHTML('beforeend', modal);\r\n  });\r\n}\r\n\r\nconst StringModalBodyNotice = () => {\r\n\r\n  const notices = [];\r\n\r\n  if (editorType === 'gutenberg') {\r\n\r\n    const postMetaSync = atfp_global_object.postMetaSync === 'true';\r\n\r\n    if (postMetaSync) {\r\n      notices.push({\r\n        className: 'atfp-notice atfp-notice-error', message: <p>\r\n          {__('For accurate custom field translations, please disable the Custom Fields synchronization in ', 'autopoly-ai-translation-for-polylang')}\r\n          <a\r\n            href={`${atfp_global_object.admin_url}admin.php?page=mlang_settings`}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {__('Polylang settings', 'autopoly-ai-translation-for-polylang')}\r\n          </a>\r\n          {__('. This may affect linked posts or pages.', 'autopoly-ai-translation-for-polylang')}\r\n        </p>\r\n      });\r\n    }\r\n\r\n    const blockRules = select('block-atfp/translate').getBlockRules();\r\n\r\n    if (!blockRules.AtfpBlockParseRules || Object.keys(blockRules.AtfpBlockParseRules).length === 0) {\r\n      notices.push({ className: 'atfp-notice atfp-notice-error', message: <p>{__('No block rules were found. It appears that the block-rules.JSON file could not be fetched, possibly because it is blocked by your server settings. Please check your server configuration to resolve this issue.', 'autopoly-ai-translation-for-polylang')}</p> });\r\n    }\r\n  }\r\n\r\n  const noticeLength = notices.length;\r\n\r\n  if (notices.length > 0) {\r\n    return notices.map((notice, index) => <Notice className={notice.className} key={index} lastNotice={index === noticeLength - 1}>{notice.message}</Notice>);\r\n  }\r\n\r\n  return;\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [pageTranslate, setPageTranslate] = useState(false);\r\n  const targetLang = window.atfp_global_object.target_lang;\r\n  const postId = window.atfp_global_object.parent_post_id;\r\n  const currentPostId = window.atfp_global_object.current_post_id;\r\n  const postType = window.atfp_global_object.post_type;\r\n  let translatePost, fetchPost, translateWrpSelector;\r\n  const sourceLang = window.atfp_global_object.source_lang;\r\n\r\n  // Elementor post fetch and update page\r\n  if (editorType === 'elementor') {\r\n    translateWrpSelector = 'button.atfp-translate-button[name=\"atfp_meta_box_translate\"]';\r\n    translatePost = ElementorUpdatePage;\r\n    fetchPost = ElementorPostFetch;\r\n  } else if (editorType === 'gutenberg') {\r\n    translateWrpSelector = 'input#atfp-translate-button[name=\"atfp_meta_box_translate\"]';\r\n    translatePost = UpdateGutenbergPage;\r\n    fetchPost = GutenbergPostFetch;\r\n  }\r\n\r\n  const [postDataFetchStatus, setPostDataFetchStatus] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  const fetchPostData = async (data) => {\r\n    await fetchPost(data);\r\n\r\n    const allEntries = wp.data.select('block-atfp/translate').getTranslationEntry();\r\n\r\n    let totalStringCount = 0;\r\n    let totalCharacterCount = 0;\r\n    let totalWordCount = 0;\r\n\r\n    allEntries.map(entries => {\r\n      const source = entries.source ? entries.source : '';\r\n      const stringCount = source.split(/(?<=[.!?]+)\\s+/).length;\r\n      const wordCount = source.trim().split(/\\s+/).filter(word => /[^\\p{L}\\p{N}]/.test(word)).length;\r\n      const characterCount = source.length;\r\n\r\n      totalStringCount += stringCount\r\n      totalCharacterCount += characterCount;\r\n      totalWordCount += wordCount;\r\n    });\r\n\r\n    wp.data.dispatch('block-atfp/translate').translationInfo({ sourceStringCount: totalStringCount, sourceWordCount: totalWordCount, sourceCharacterCount: totalCharacterCount });\r\n  }\r\n\r\n  const updatePostDataFetch = (status) => {\r\n    setPostDataFetchStatus(status);\r\n    setLoading(false);\r\n  }\r\n\r\n  const handlePageTranslate = (status) => {\r\n    setPageTranslate(status);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pageTranslate) {\r\n      const metaFieldBtn = document.querySelector(translateWrpSelector);\r\n      if (metaFieldBtn) {\r\n        metaFieldBtn.disabled = true;\r\n        metaFieldBtn.value = __(\"Already Translated\", 'autopoly-ai-translation-for-polylang');\r\n      }\r\n    }\r\n  }, [pageTranslate]);\r\n\r\n  if (!sourceLang || '' === sourceLang) {\r\n    const metaFieldBtn = document.querySelector(translateWrpSelector);\r\n    if (metaFieldBtn) {\r\n      metaFieldBtn.title = `Parent ${window.atfp_global_object.post_type} may be deleted.`;\r\n      metaFieldBtn.disabled = true;\r\n    }\r\n    return;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!pageTranslate && sourceLang && '' !== sourceLang && <SettingModal contentLoading={loading} updatePostDataFetch={updatePostDataFetch} postDataFetchStatus={postDataFetchStatus} pageTranslate={handlePageTranslate} postId={postId} currentPostId={currentPostId} targetLang={targetLang} postType={postType} fetchPostData={fetchPostData} translatePost={translatePost} translateWrpSelector={translateWrpSelector} stringModalBodyNotice={StringModalBodyNotice} />}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n * Creates a message popup based on the post type and target language.\r\n * @returns {HTMLElement} The created message popup element.\r\n */\r\nconst createMessagePopup = () => {\r\n  const postType = window.atfp_global_object.post_type;\r\n  const targetLang = window.atfp_global_object.target_lang;\r\n  const targetLangName = atfp_global_object.languageObject[targetLang]['name'];\r\n\r\n  const messagePopup = document.createElement('div');\r\n  messagePopup.id = 'atfp-modal-open-warning-wrapper';\r\n  messagePopup.innerHTML = `\r\n    <div class=\"modal-container\" style=\"display: flex\">\r\n      <div class=\"modal-content\">\r\n        <p>${sprintf(__(\"Would you like to duplicate your original %s content and have it automatically translated into %s?\", 'autopoly-ai-translation-for-polylang'), postType, targetLangName)}</p>\r\n        <div>\r\n          <div data-value=\"yes\">${__(\"Yes\", 'autopoly-ai-translation-for-polylang')}</div>\r\n          <div data-value=\"no\">${__(\"No\", 'autopoly-ai-translation-for-polylang')}</div>\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n  return messagePopup;\r\n};\r\n\r\n/**\r\n * Inserts the message popup into the DOM.\r\n */\r\nconst insertMessagePopup = () => {\r\n  const targetElement = document.getElementById('atfp-setting-modal');\r\n  const messagePopup = createMessagePopup();\r\n  document.body.insertBefore(messagePopup, targetElement);\r\n};\r\n\r\n/**\r\n * Elementor translate button append\r\n */\r\nconst appendElementorTranslateBtn = () => {\r\n  const translateButtonGroup = jQuery('.MuiButtonGroup-root.MuiButtonGroup-contained').parent();\r\n  const buttonElement = jQuery(translateButtonGroup).find('.elementor-button.atfp-translate-button');\r\n  if (translateButtonGroup.length > 0 && buttonElement.length === 0) {\r\n    const buttonHtml = '<button class=\"elementor-button atfp-translate-button\" name=\"atfp_meta_box_translate\">Translate</button>';\r\n    const buttonElement = jQuery(buttonHtml);\r\n    let confirmBox = false;\r\n    const postId = window.atfp_global_object.current_post_id;\r\n    const targetLang = window.atfp_global_object.target_lang;\r\n    const oldData = localStorage.getItem('atfpElementorConfirmBox');\r\n    if (oldData && 'string' === typeof oldData && '' !== oldData) {\r\n      confirmBox = JSON.parse(oldData);\r\n    }\r\n\r\n    translateButtonGroup.prepend(buttonElement);\r\n    $e.internal('document/save/set-is-modified', { status: true });\r\n\r\n    if (!window.atfp_global_object.translation_data || (!window.atfp_global_object.translation_data.total_string_count && 0 !== window.atfp_global_object.translation_data.total_string_count)) {\r\n      buttonElement.attr('disabled', 'disabled');\r\n      buttonElement.attr('title', 'Translation data not found.');\r\n      return;\r\n    }\r\n\r\n    const characterCount = parseInt(window.atfp_global_object.translation_data.total_character_count);\r\n    if (characterCount > 500000) {\r\n      const elementorProNotice = document.createElement('div');\r\n      elementorProNotice.id = 'atfp-pro-notice';\r\n      document.body.appendChild(elementorProNotice);\r\n      const root = ReactDOM.createRoot(document.getElementById('atfp-pro-notice'));\r\n      root.render(<ProVersionNotice characterCount={characterCount} url={window.atfp_global_object.pro_version_url || ''} />);\r\n      return;\r\n    }\r\n\r\n    if (!window.atfp_global_object.elementorData || '' === window.atfp_global_object.elementorData || window.atfp_global_object.elementorData.length < 1 || elementor.elements.length < 1) {\r\n\r\n      if (confirmBox && confirmBox[postId + '_' + targetLang]) {\r\n        delete confirmBox[postId + '_' + targetLang];\r\n        if (Object.keys(confirmBox).length === 0) {\r\n          localStorage.removeItem('atfpElementorConfirmBox');\r\n        }\r\n        else {\r\n          localStorage.setItem('atfpElementorConfirmBox', JSON.stringify(confirmBox));\r\n        }\r\n      }\r\n\r\n      buttonElement.attr('disabled', 'disabled');\r\n      buttonElement.attr('title', 'Translation is not available because there is no Elementor data.');\r\n      return;\r\n    }\r\n    // Append app root wrapper in body\r\n    init();\r\n\r\n    const root = ReactDOM.createRoot(document.getElementById('atfp-setting-modal'));\r\n    root.render(<App />);\r\n\r\n    if (confirmBox && confirmBox[postId + '_' + targetLang]) {\r\n      setTimeout(() => {\r\n        buttonElement.click();\r\n\r\n        delete confirmBox[postId + '_' + targetLang];\r\n\r\n        if (Object.keys(confirmBox).length === 0) {\r\n          localStorage.removeItem('atfpElementorConfirmBox');\r\n        }\r\n        else {\r\n          localStorage.setItem('atfpElementorConfirmBox', JSON.stringify(confirmBox));\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nif (editorType === 'gutenberg') {\r\n  // Render App\r\n  window.addEventListener('load', () => {\r\n\r\n    // Append app root wrapper in body\r\n    init();\r\n\r\n    const buttonElement = jQuery('input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n\r\n    if (!window.atfp_global_object.translation_data || (!window.atfp_global_object.translation_data.total_string_count && 0 !== window.atfp_global_object.translation_data.total_string_count)) {\r\n      buttonElement.attr('disabled', 'disabled');\r\n      buttonElement.attr('title', 'Translation data not found.');\r\n      return;\r\n    }\r\n\r\n    const characterCount = parseInt(window.atfp_global_object.translation_data.total_character_count);\r\n    if (characterCount > 500000) {\r\n      const elementorProNotice = document.createElement('div');\r\n      elementorProNotice.id = 'atfp-pro-notice';\r\n      document.body.appendChild(elementorProNotice);\r\n      const root = ReactDOM.createRoot(document.getElementById('atfp-pro-notice'));\r\n      root.render(<ProVersionNotice characterCount={characterCount} url={window.atfp_global_object.pro_version_url || ''} />);\r\n      return;\r\n    }\r\n\r\n    const sourceLang = window.atfp_global_object.source_lang\r\n\r\n    if (sourceLang && '' !== sourceLang) {\r\n      insertMessagePopup();\r\n    }\r\n\r\n    const root = ReactDOM.createRoot(document.getElementById('atfp-setting-modal'));\r\n    root.render(<App />);\r\n  });\r\n}\r\n\r\n// Elementor translate button append\r\nif (editorType === 'elementor') {\r\n  jQuery(window).on('elementor:init', function () {\r\n    elementor.on('document:loaded', appendElementorTranslateBtn);\r\n  });\r\n}\r\n"],"names":["AllowedMetaFields","type","CopyClipboard","text","startCopyStatus","endCopyStatus","navigator","clipboard","writeText","textArea","document","createElement","value","body","appendChild","select","execCommand","removeChild","setTimeout","err","console","error","useEffect","DOMPurify","ErrorModalBox","message","onClose","Title","dummyElement","jQuery","append","stringifiedMessage","html","remove","clipboardElements","querySelectorAll","length","forEach","element","classList","add","addEventListener","e","preventDefault","toolTipExists","querySelector","toolTipElement","textContent","className","getAttribute","removeEventListener","React","onClick","dangerouslySetInnerHTML","__html","sanitize","FilterBlockNestedAttr","idsArr","attrObj","blockAttr","callBack","childAttr","idArr","filterObj","Object","keys","map","key","filterObjType","newIdArr","Array","childAttrArray","attrFilter","dynamicBlockAttr","undefined","includes","getPrototypeOf","prototype","_","index","nestedId","push","typeCheck","FilterTargetContent","props","skipTags","OpenSpanPlaceholder","CloseSpanPlaceholder","OpenTempTagPlaceholder","CloseTempTagPlaceholder","LessThanSymbol","GreaterThanSymbol","entityOpenPlaceholder","entityClosePlaceholder","removeInnerSpanPlaceholder","content","replace","RegExp","setEntityPlaceholder","entityRegex","match","removeEntityPlaceholder","fixHtmlTags","trim","tagRegex","stack","result","lastIndex","exec","fullMatch","tagName","isClosingTag","startsWith","currentIndex","slice","tag","openIndex","findIndex","t","splice","i","wrapFirstAndMatchingClosingTag","tempElement","innerHTML","firstElement","firstElementChild","childNodes","childNodesLength","from","sort","a","b","nodeType","filterContent","outerHTML","firstElementOpeningTag","pattern","openTagName","toLowerCase","closingTagName","closingTagMatch","wrappedFirstTag","firstElementHtml","closeTag","openTag","splitContent","string","matches","split","filter","Boolean","output","filterSeoContent","regex","isEmptyOrUnclosedTag","test","syncTRTDFromFirstToSecond","str1","str2","startTagMatch","endTagMatch","newString","filterSourceData","isSeoContent","contentKey","shortcodePattern","shortcodeMatches","replaceInnerTextWithSpan","doc","childElements","childElementsReplace","textNode","createTextNode","trimmed","attrs","hasClosingTag","filterHtml","inner","replaceWith","innerText","tempTagPattern","service","notTranslatePattern","replacePlaceholderPattern","updatedContent","Fragment","data","notTranslate","translate","FormatNumberCount","number","toFixed","Notice","updateNoticeWrapperHeight","parentNoticeWrapper","height","offsetHeight","offsetTop","closest","style","setProperty","lastNotice","window","children","useState","ProVersionNotice","characterCount","url","showNotice","setShowNotice","activeClass","setActiveClass","translateButton","id","href","target","rel","AddProgressBar","provider","progressBarSelector","progressBar","css","hide","ShowStringCount","status","getTranslationInfo","sourceCharacterCount","stringCount","display","dispatch","StoreTimeTaken","prefix","start","end","translateStatus","timeTaken","oldTimeTaken","translateData","translationInfo","SaveTranslation","translateContent","source","action","metaFieldsSaveTranslate","contentSaveTranslate","ScrollAnimation","scrollSpeed","scrollHeight","startTime","startScrollTop","scrollTop","animateScroll","currentTime","performance","now","duration","scrollTarget","progress","scrollPosition","currentScrollHeight","clientHeight","scrollPercentage","find","percentage","Math","round","min","toString","updateTranslatedContent","endTime","container","getElementById","stringContainer","translatedData","totalTranslatedData","getAllowedMetaFields","ele","translatedText","dataset","stringType","sourceText","translationEntry","previousTargetStringCount","targetStringCount","previousTargetWordCount","targetWordCount","previousTargetCharacterCount","targetCharacterCount","word","onCompleteTranslation","modalRenderId","conainer","animation","top","saveButton","removeAttribute","ModalStringScroll","Date","getTime","translateComplete","ceil","isScrolledToBottom","YandexTranslater","localAiTranslator","sprintf","__","Service","openErrorModalHandler","adminUrl","atfp_global_object","admin_url","assetsUrl","atfp_url","errorIcon","Services","yandex","Provider","title","SettingBtnText","serviceLabel","Docs","heading","BetaEnabled","ButtonDisabled","yandexButtonDisabled","ErrorMessage","src","alt","Logo","localAiTranslatorButtonDisabled","google","pro_version_url","openai_ai","google_ai","deepl_ai","ChromeAiTranslator","targetLangName","languageObject","targetLang","sourceLangName","sourceLang","translateStatusHandler","startTranslation","fadeIn","completeTranslation","fadeOut","beforeTranslate","TranslateProvider","stopTranslation","scrollStringContainer","position","stringContainerPosition","getBoundingClientRect","eleTopPosition","containerHeight","y","afterTranslate","mainWrapperSelector","btnSelector","ID","btnClass","btnText","stringSelector","sourceLanguage","targetLanguage","targetLanguageLabel","sourceLanguageLabel","onStartTranslationProcess","onComplete","onBeforeTranslate","onAfterTranslate","hasOwnProperty","init","button","disabled","options","selfObject","extraData","constructor","onLanguageError","langSupportedStatus","languageSupportedStatus","defaultLang","continueTranslation","reInit","supportedLanguages","lang","safeBrowser","location","protocol","browserContentSecure","isSecureContext","userAgent","self","translation","ai","Translator","svgIcons","languagePairAvality","translator","create","monitor","m","log","loaded","canTranslate","translatorCapabilities","capabilities","languagePairAvailable","availability","AITranslator","createTranslator","appendBtn","translationStart","completedTranslateIndex","completedCharacterCount","translateBtnEvents","addProgressBar","translateBtn","formatCharacterCount","off","prop","on","startTranslationProcess","translateStringEle","stringTranslation","translatedStringsCount","langCode","totalStringCount","reduce","orignalText","originalString","child","nodeValue","stringTranslationBatch","updateProgressBar","show","translatedString","decimalValue","formattedProgress","parseInt","iconName","Icons","yandexWidget","win","nav","params","namespace","util","keycode","ESCAPE","getRequest","XDomainRequest","XMLHttpRequest","loadScript","parent","callback","script","onLoad","loadResource","request","onload","responseText","open","send","getStyleList","hasStyleName","name","list","indexOf","addStyleName","setAttribute","join","removeStyleName","isSupportedBrowser","compatMode","Button","contentElement","event","_element","_contentElement","setText","Select","form","itemName","reset","onSelect","alert","checked","onChange","_form","_itemName","isHidden","hasAttribute","getItems","getValue","n","items","setValue","setHidden","hidden","onHiddenChange","Widget","active","storage","autoMode","pageLang","userLang","leftButton","rightButton","closeButton","_pageLang","_translator","onStateChange","enable","setState","docElem","documentElement","formRect","focus","right","pageXOffset","scrollLeft","max","clientWidth","scrollWidth","bottom","pageYOffset","keyCode","abort","hasState","undo","defaultcode","Storage","_name","_data","JSON","parse","localStorage","stringify","wrapper","widgetId","initWidget","widgetTheme","language","userLanguage","PageTranslator","srv","autoSync","maxPortionLength","readyState","globalObj","yt","languages","RankMathSeo","updateKeywords","updateTitle","updateDescription","updateBreadcrumbTitle","updateFacebookTitle","updateFacebookDescription","updateTwitterTitle","updateTwitterDescription","SeoPressFields","inputId","val","trigger","target_kw","Tagify","DOM","originalInput","addTags","YoastSeoFields","updateData","setFocusKeyword","setBreadcrumbsTitle","setFacebookPreviewTitle","setFacebookPreviewDescription","setTwitterPreviewTitle","setTwitterPreviewDescription","description","atfpUpdateWidgetContent","translations","model","atfpFindModelById","elementor","elements","models","settings","get","set","translatedContent","renderRemoteServer","repeaterMatch","repeaterKey","subKey","repeaterArray","isArray","repeaterModel","repeaterAttribute","attributes","$e","internal","atfpUpdateMetaFields","metaFields","translatedMetaFields","getTranslatedString","inputType","page","setExternalChange","atfpUpdateTitle","translatedTitle","nestedElements","foundModel","updateElementorPage","postContent","modalClose","postID","config","cssProperties","subStringsToCheck","strings","dynamicSubStrings","staticSubStrings","some","substring","storeSourceStrings","ids","uniqueKey","item","fieldKey","nestedElement","widgetsContent","widget","replaceSourceString","elementorData","translateStrings","wp","getTranslationEntry","sourceString","keyArray","translateValue","parentElement","parentKey","currentElement","requestBody","update_elementor_data","post_id","elementor_data","atfp_nonce","ajax_nonce","fetch","ajax_url","method","headers","URLSearchParams","then","response","json","success","catch","filterTranslateAttr","block","blockParseRules","filterAttrArr","values","blockId","clientId","updateNestedAttribute","obj","path","newObj","current","richText","RichTextData","updateTranslatedAttr","filterAttrObj","childIdArr","uniqueId","blockAttrContent","originalHTML","filterKey","createTranslatedBlock","childBlock","blockRules","createBlock","blocks","blockName","blockTranslateName","AtfpBlockParseRules","attribute","translatedBlock","newBlock","cretaeChildBlock","innerBlocks","createBlocks","getBlockRules","parentBlock","insertBlock","translatePost","editPost","postDataUpdate","editPostData","sourceData","postMetaFieldsUpdate","metaFieldsData","meta","postAcfFieldsUpdate","acf","getFields","field","fieldData","repeaterField","$el","rowId","repeaterItemName","fieldName","sourceValue","tinymce","editorId","setContent","postContentUpdate","postContentData","ElementorSaveSource","updateAllowedMetaFields","allowedMetaFields","fetchPostContent","elementorPostData","parent_post_title","refPostData","updatePostDataFetch","GutenbergBlockSaveSource","GutenbergPostFetch","apiUrl","apiController","destroyHandler","controller","updateDestroyHandler","AcfFields","postMetaSync","allowedTypes","BlockParseFetch","blockRulesApiSendData","action_block_rules","rulesController","AbortController","signal","setBlockRules","ContentFetch","contentFetchStatus","apiSendData","postId","local","current_local","action_fetch","contentController","post_data","AtfpActionTypes","titleSaveSource","sourceTitle","titleSaveTranslate","traslatedTitle","excerptSaveSource","sourceExcerpt","excerptSaveTranslate","traslatedExcerpt","contentSaveSource","sourceContent","traslatedContent","metaFieldsSaveSource","sourceMetaFields","traslatedMetaFields","sourceStringCount","sourceWordCount","reducer","actions","selectors","createReduxStore","register","store","TranslateDefaultState","excerpt","state","translateEntry","updateTranslateData","totalWordCount","totalCharacterCount","editorType","editor_type","date","toISOString","update_translate_data","Providers","TranslateService","SettingModalBody","ServiceProviders","_extends","SettingModalFooter","postType","setSettingVisibility","marginBottom","SettingModalHeader","ReactDOM","PopStringModal","yandexLanguage","ChromeLocalAiTranslator","SettingModal","targetBtn","setTargetBtn","modalRender","setModalRender","settingVisibility","source_lang","imgFolder","yandexSupport","serviceModalErrors","setServiceModalErrors","errorModalVisibility","setErrorModalVisibility","chromeAiBtnDisabled","setChromeAiBtnDisabled","openModalOnLoadHandler","btnElement","visibility","closeErrorModal","firstRenderBtns","metaFieldBtn","translateWrpSelector","prev","localAiTranslatorSupport","btn","parentWrp","_reactRoot","createRoot","render","currentPostId","pageTranslate","postDataFetchStatus","fetchPostData","contentLoading","stringModalBodyNotice","fetchContent","targetElement","contains","dataService","handleSettingVisibility","yandexDisabled","localAiTranslatorDisabled","buttonDisable","ActiveService","serviceId","btnId","ServiceLabel","width","viewBox","fill","xmlns","d","StringPopUpBody","StringModalBodyNotice","ServiceSetting","destroyUpdateHandler","translatePendingStatus","StringPopUpNotice","StringPopUpFooter","color","updatePostData","translateButtonStatus","StringPopUpHeader","closeModal","setPopupVisibility","popStringModal","selectedService","popupVisibility","setRefPostData","translatePending","setTranslatePending","setCharacterCount","onDestroy","setOnDestroy","setTranslateButtonStatus","serviceProvider","c","toUpperCase","updatePostContentHandler","setPopupVisibilityHandler","click","updatePostDataHandler","stringModal","updatePostContent","storeMetaFields","metaKey","loopCallback","loop","storeWidgetStrings","keysLoop","settingsLoop","settingsItemsLoop","runLoop","childElement","current_post_id","existingTitle","filterAttr","saveTranslatedAttr","getTranslateString","childBlockAttributesContent","blockAttributeContent","parseBlock","currentValue","getField","UpdateGutenbergPage","ElementorPostFetch","ElementorUpdatePage","atfpModals","atfpSettingModalWrp","atfpStringModalWrp","modal","insertAdjacentHTML","notices","noticeLength","notice","App","setPageTranslate","target_lang","parent_post_id","post_type","fetchPost","setPostDataFetchStatus","loading","setLoading","allEntries","entries","wordCount","handlePageTranslate","createMessagePopup","messagePopup","insertMessagePopup","insertBefore","appendElementorTranslateBtn","translateButtonGroup","buttonElement","buttonHtml","confirmBox","oldData","getItem","prepend","translation_data","total_string_count","attr","total_character_count","elementorProNotice","root","removeItem","setItem"],"sourceRoot":""}