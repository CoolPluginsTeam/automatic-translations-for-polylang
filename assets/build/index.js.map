{"version":3,"file":"index.js","mappings":"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","sources":["webpack://automatic-translations-for-polylang/./src/component/FilterNestedAttr/index.js","webpack://automatic-translations-for-polylang/./src/component/FilterTargetContent/index.js","webpack://automatic-translations-for-polylang/./src/component/TranslateProvider/index.js","webpack://automatic-translations-for-polylang/./src/component/TranslateProvider/local-ai-translator/index.js","webpack://automatic-translations-for-polylang/./src/component/TranslateProvider/local-ai-translator/local-ai-translator.js","webpack://automatic-translations-for-polylang/./src/component/TranslateProvider/yandex/index.js","webpack://automatic-translations-for-polylang/./src/component/TranslateProvider/yandex/yandex-language.js","webpack://automatic-translations-for-polylang/./src/component/createTranslatedPost/createBlock.js","webpack://automatic-translations-for-polylang/./src/component/createTranslatedPost/index.js","webpack://automatic-translations-for-polylang/./src/component/storeSourceString/index.js","webpack://automatic-translations-for-polylang/./src/component/storeTranslatedString/index.js","webpack://automatic-translations-for-polylang/./src/fetch-post.js","webpack://automatic-translations-for-polylang/./src/global-store/actions.js","webpack://automatic-translations-for-polylang/./src/global-store/index.js","webpack://automatic-translations-for-polylang/./src/global-store/reducer.js","webpack://automatic-translations-for-polylang/./src/global-store/selectors.js","webpack://automatic-translations-for-polylang/./src/global-store/types.js","webpack://automatic-translations-for-polylang/./src/popmodel.js","webpack://automatic-translations-for-polylang/./src/popupStringModal/body.js","webpack://automatic-translations-for-polylang/./src/popupStringModal/footer.js","webpack://automatic-translations-for-polylang/./src/popupStringModal/header.js","webpack://automatic-translations-for-polylang/./src/popupStringModal/index.js","webpack://automatic-translations-for-polylang/./src/popupStringModal/notice.js","webpack://automatic-translations-for-polylang/external window \"React\"","webpack://automatic-translations-for-polylang/external window \"ReactDOM\"","webpack://automatic-translations-for-polylang/external window [\"wp\",\"data\"]","webpack://automatic-translations-for-polylang/external window [\"wp\",\"element\"]","webpack://automatic-translations-for-polylang/external window [\"wp\",\"i18n\"]","webpack://automatic-translations-for-polylang/webpack/bootstrap","webpack://automatic-translations-for-polylang/webpack/runtime/compat get default export","webpack://automatic-translations-for-polylang/webpack/runtime/define property getters","webpack://automatic-translations-for-polylang/webpack/runtime/hasOwnProperty shorthand","webpack://automatic-translations-for-polylang/webpack/runtime/make namespace object","webpack://automatic-translations-for-polylang/./src/index.js"],"sourcesContent":["const FilterBlockNestedAttr = (idsArr, attrObj, blockAttr, callBack) => {\r\n    /**\r\n     * Iterates over the keys of the filter object and calls saveTranslatedAttr for each key.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterObj - The filter object to iterate over.\r\n     */\r\n    const childAttr = (idArr, filterObj) => {\r\n        Object.keys(filterObj).map(key => {\r\n            let filterObjType = filterObj;\r\n            filterObjType = filterObjType[key];\r\n            const newIdArr = new Array(...idArr, key);\r\n\r\n            callBack(newIdArr, filterObjType);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the attributes that are arrays and objects by recursively calling saveTranslatedAttr.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Array} attrFilter - The filter attribute array.\r\n     */\r\n    const childAttrArray = (idArr, attrFilter) => {\r\n\r\n        const newIdArr = new Array(...idArr);\r\n        let dynamicBlockAttr = blockAttr;\r\n\r\n        newIdArr.forEach(key => {\r\n            dynamicBlockAttr = dynamicBlockAttr[key];\r\n        });\r\n\r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Object.prototype) {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n        \r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Array.prototype) {\r\n            dynamicBlockAttr.forEach((_, index) => {\r\n                const nestedId = new Array();\r\n                newIdArr.forEach(key => {\r\n                    nestedId.push(key);\r\n                });\r\n                \r\n                nestedId.push(index);\r\n                callBack(nestedId, attrFilter[0]);\r\n            });\r\n        }\r\n\r\n        if (typeof dynamicBlockAttr === 'object') {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n    }\r\n\r\n\r\n    const typeCheck = () => {\r\n        if (Object.getPrototypeOf(attrObj) === Array.prototype) {\r\n            childAttrArray(idsArr, attrObj);\r\n        } else if (Object.getPrototypeOf(attrObj) === Object.prototype) {\r\n            childAttr(idsArr, attrObj);\r\n        }\r\n    }\r\n\r\n    typeCheck();\r\n}\r\n\r\nexport default FilterBlockNestedAttr;","const FilterTargetContent = (props) => {\r\n\r\n    /**\r\n     * Wraps the first element and its matching closing tag with translation spans.\r\n     * If no elements are found, returns the original HTML.\r\n     * @param {string} html - The HTML string to process.\r\n     * @returns {string} The modified HTML string with wrapped translation spans.\r\n     */\r\n    const wrapFirstAndMatchingClosingTag = (html) => {\r\n        // Create a temporary element to parse the HTML string\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = html;\r\n\r\n        // Get the first element\r\n        const firstElement = tempElement.firstElementChild;\r\n\r\n        if (!firstElement) {\r\n            return html; // If no elements, return the original HTML\r\n        }\r\n\r\n        let childElements = firstElement.children;\r\n        const length = childElements.length;\r\n        if (length > 0) {\r\n            for (let i = 0; i < length; i++) {\r\n                let element = childElements[i];\r\n                let filterContent = wrapFirstAndMatchingClosingTag(element.outerHTML);\r\n                element.outerHTML = filterContent;\r\n            }\r\n        }\r\n\r\n        // Get the opening tag of the first element\r\n        // const firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n        const firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n\r\n        // Check if the first element has a corresponding closing tag\r\n        const openTagName = firstElement.tagName.toLowerCase();\r\n        const closingTagName = new RegExp(`<\\/${openTagName}>`, 'i');\r\n\r\n        // Check if the inner HTML contains the corresponding closing tag\r\n        const closingTagMatch = firstElement.outerHTML.match(closingTagName);\r\n\r\n        // Wrap the style element\r\n        if (firstElementOpeningTag === '<style>') {\r\n            let wrappedFirstTag = `#atfp_open_translate_span#${firstElement.outerHTML}#atfp_close_translate_span#`;\r\n            return wrappedFirstTag;\r\n        }\r\n\r\n        const firstElementHtml = firstElement.innerHTML;\r\n        firstElement.innerHTML = '';\r\n\r\n        let openTag = `#atfp_open_translate_span#${firstElementOpeningTag}#atfp_close_translate_span#`;\r\n        let closeTag = '';\r\n        let filterContent = '';\r\n\r\n        if (closingTagMatch) {\r\n            closeTag = `#atfp_open_translate_span#</${openTagName}>#atfp_close_translate_span#`;\r\n        }\r\n\r\n        if ('' !== firstElementHtml) {\r\n            if ('' !== openTag) {\r\n                filterContent = openTag + firstElementHtml;\r\n            }\r\n            if ('' !== closeTag) {\r\n                filterContent += closeTag;\r\n            }\r\n        } else {\r\n            filterContent = openTag + closeTag;\r\n        }\r\n\r\n        firstElement.outerHTML = filterContent;\r\n\r\n        // Return the modified HTML\r\n        return tempElement.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Splits the content string based on a specific pattern.\r\n     * @param {string} string - The content string to split.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const splitContent = (string) => {\r\n        const pattern = /(#atfp_open_translate_span#.*?#atfp_close_translate_span#)|'/;\r\n        const matches = string.split(pattern).filter(Boolean);\r\n\r\n        // Remove empty strings from the result\r\n        const output = matches.filter(match => match.trim() !== '');\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * Replaces the inner text of HTML elements with span elements for translation.\r\n     * @param {string} string - The HTML content string to process.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const filterSourceData = (string) => {\r\n        function replaceInnerTextWithSpan(doc) {\r\n            let childElements = doc.children;\r\n\r\n            const childElementsReplace = () => {\r\n                if (childElements.length > 0) {\r\n                    let element = childElements[0];\r\n                    let filterContent = wrapFirstAndMatchingClosingTag(element.outerHTML);\r\n                    const textNode = document.createTextNode(filterContent);\r\n                    element.replaceWith(textNode);\r\n                    childElementsReplace();\r\n                }\r\n            }\r\n            childElementsReplace();\r\n            return doc;\r\n        }\r\n\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = string;\r\n        replaceInnerTextWithSpan(tempElement);\r\n\r\n        return splitContent(tempElement.innerText);\r\n    }\r\n\r\n    /**\r\n     * The content to be filtered based on the service type.\r\n     * If the service is 'yandex', the content is filtered using filterSourceData function, otherwise, the content remains unchanged.\r\n     */\r\n    const content = 'yandex' === props.service || 'localAiTranslator' === props.service ? filterSourceData(props.content) : props.content;\r\n\r\n    props.translateContent(content);\r\n\r\n    if (props.currentIndex === props.totalString) {\r\n        props.translateContent({ stringRenderComplete: true });\r\n    }\r\n\r\n    /**\r\n     * Regular expression pattern to match the span elements that should not be translated.\r\n     */\r\n    const notTranslatePattern = /#atfp_open_translate_span#[\\s\\S]*?#atfp_close_translate_span#/;\r\n\r\n    /**\r\n     * Regular expression pattern to replace the placeholder span elements.\r\n     */\r\n    const replacePlaceholderPattern = /#atfp_open_translate_span#|#atfp_close_translate_span#/g;\r\n\r\n    const filterContent = content => {\r\n        const updatedContent = content.replace(replacePlaceholderPattern, '');\r\n        return updatedContent;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {'yandex' === props.service || 'localAiTranslator' === props.service ?\r\n                content.map((data, index) => {\r\n                    const notTranslate = notTranslatePattern.test(data);\r\n                    if (notTranslate) {\r\n                        return <span key={index} className=\"notranslate atfp-notraslate-tag\" translate=\"no\">{filterContent(data)}</span>;\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                })\r\n                : content}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FilterTargetContent;","import YandexTranslater from \"./yandex\";\r\nimport localAiTranslator from \"./local-ai-translator\";\r\n\r\n/**\r\n * Provides translation services using Yandex Translate.\r\n */\r\nexport default { yandex: YandexTranslater, localAiTranslator: localAiTranslator };\r\n","import ChromeAiTranslator from \"./local-ai-translator\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nconst { dispatch } = wp.data;\r\n\r\nconst localAiTranslator = async (props)=>{\r\n    console.log(props);\r\n    const targetLangName = atfp_ajax_object.languageObject[props.targetLang];\r\n\r\n    const startTranslation = () => {\r\n        const stringContainer = jQuery(\"#atfp_strings_model .modal-content .atfp_string_container\");\r\n        if (stringContainer[0].scrollHeight > 100) {\r\n            jQuery(\"#atfp_strings_model .atfp_translate_progress\").fadeIn(\"slow\");\r\n        }\r\n    }\r\n\r\n    const completeTranslation = () => {\r\n        setTimeout(() => {\r\n            props.translateStatus();\r\n            jQuery(\"#atfp_strings_model .atfp_translate_progress\").fadeOut(\"slow\");\r\n        }, 4000);\r\n    }\r\n\r\n    const languageError = () => {\r\n        console.log(\"languageError\");\r\n    }\r\n\r\n    const beforeTranslate = (ele) => {\r\n        const stringContainer = jQuery(\"#atfp_strings_model .modal-content .atfp_string_container\");\r\n\r\n        const scrollStringContainer = (position) => {\r\n            stringContainer.scrollTop(position);\r\n        };\r\n\r\n        const stringContainerPosition = stringContainer[0].getBoundingClientRect();\r\n\r\n        const eleTopPosition = ele.closest(\"tr\").offsetTop;\r\n        const containerHeight = stringContainer.height();\r\n\r\n        if (eleTopPosition > (containerHeight + stringContainerPosition.y)) {\r\n            scrollStringContainer(eleTopPosition - containerHeight + ele.offsetHeight);\r\n        }\r\n    }\r\n\r\n    const afterTranslate = (ele) => {\r\n        const translatedText = ele.innerText;\r\n        const key = ele.dataset.key;\r\n        const type = ele.dataset.stringType;\r\n        const sourceText = ele.closest('tr').querySelector('td[data-source=\"source_text\"]').innerText;\r\n\r\n        if (type !== 'content') {\r\n            const action = `${type}SaveTranslate`;\r\n            dispatch('block-atfp/translate')[action](translatedText);\r\n        } else {\r\n            dispatch('block-atfp/translate').contentSaveTranslate(key, translatedText, sourceText);\r\n        }\r\n\r\n        console.group(\"afterTranslate\");\r\n        console.log(translatedText, key, type, sourceText);\r\n        console.groupEnd();\r\n    }\r\n\r\n    const TranslateProvider = await ChromeAiTranslator.Object({\r\n        mainWrapperSelector: \"#atfp_strings_model\",\r\n        btnSelector: `#${props.ID}`,\r\n        btnClass: \"local_ai_translator_btn\",\r\n        btnText: __(\"Translate To\", 'automatic-translations-for-polylang') + ' ' + targetLangName,\r\n        stringSelector: \".atfp_string_container tbody tr td.translate\",\r\n        progressBarSelector: \"#atfp_strings_model .atfp_translate_progress\",\r\n        sourceLanguage: props.sourceLang,\r\n        targetLanguage: props.targetLang,\r\n        targetLanguageLabel: targetLangName,\r\n        onStartTranslationProcess: startTranslation,\r\n        onComplete: completeTranslation,\r\n        onLanguageError: languageError,\r\n        onBeforeTranslate: beforeTranslate,\r\n        onAfterTranslate: afterTranslate\r\n    });\r\n\r\n    if(TranslateProvider.hasOwnProperty('init')){\r\n        TranslateProvider.init();\r\n    }\r\n};\r\n\r\nexport default localAiTranslator;","class ChromeAiTranslator {\r\n    // Static method to create an instance of ChromeAiTranslator and return extra data\r\n    static Object = (options) => {\r\n        const selfObject = new this(options);\r\n        return selfObject.extraData();\r\n    };\r\n\r\n    // Constructor to initialize the translator with options\r\n    constructor(options) {\r\n        this.btnSelector = options.btnSelector || false; // Selector for the button that triggers translation\r\n        this.btnClass = options.btnClass || false; // Class for the button\r\n        this.btnText = options.btnText || `Translate To ${options.targetLanguageLabel}`; // Text for the button\r\n        this.stringSelector = options.stringSelector || false; // Selector for the elements containing strings to translate\r\n        this.progressBarSelector = options.progressBarSelector || false; // Selector for the progress bar element\r\n        this.onStartTranslationProcess = options.onStartTranslationProcess || (() => { }); // Callback for when translation starts\r\n        this.onComplete = options.onComplete || (() => { }); // Callback for when translation completes\r\n        this.onLanguageError = options.onLanguageError || (() => { }); // Callback for language errors\r\n        this.onBeforeTranslate = options.onBeforeTranslate || (() => { }); // Callback for before translation\r\n        this.onAfterTranslate = options.onAfterTranslate || (() => { }); // Callback for after translation\r\n        this.sourceLanguage = options.sourceLanguage || \"en\"; // Default source language\r\n        this.targetLanguage = options.targetLanguage || \"hi\"; // Default target language\r\n        this.targetLanguageLabel = options.targetLanguageLabel || \"Hindi\"; // Label for the target language\r\n    }\r\n\r\n    // Method to check language support and return relevant data\r\n    extraData = async () => {\r\n        const languageSupported = await this.langStatus(); // Check if the language is supported\r\n\r\n        // Handle unsupported language\r\n        if (languageSupported === \"language-not-supported\") {\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            const message = jQuery(`<span style=\"color: #ff4646; margin-top: .5rem; display: inline-block;\">Unfortunately, the <strong>${this.targetLanguageLabel} (${this.targetLanguage})</strong> language is currently not supported by the Local Translator AI modal. Please check and read the docs which languages are currently supported by <a href=\"https://developer.chrome.com/docs/ai/translator-api#bypass_language_restrictions_for_local_testing\" target=\"_blank\">clicking here</a>.</span>`);\r\n            jQuery(\"#chrome-ai-translator_settings_btn\");\r\n            this.onLanguageError(message);\r\n            return {};\r\n        }\r\n\r\n        // Handle API disabled case\r\n        if (languageSupported === \"api-disabled\") {\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            const message = jQuery(`<span style=\"color: #ff4646; margin-top: .5rem; display: inline-block;\">The Translator AI modal is currently not supported or disabled in your browser. Please enable it. For detailed instructions on how to enable the Translator AI modal in your Chrome browser, <a href=\"https://developer.chrome.com/docs/ai/translator-api#bypass_language_restrictions_for_local_testing\" target=\"_blank\">click here</a>.</span>`);\r\n            jQuery(\"#chrome-ai-translator_settings_btn\");\r\n            this.onLanguageError(message);\r\n            return {};\r\n        }\r\n\r\n        // Handle case for language pack after download\r\n        if (languageSupported === \"after-download\") {\r\n            const message = jQuery(`<span style=\"color: #ff4646; margin-top: .5rem; display: inline-block;\">Please install the <strong>${this.targetLanguageLabel} (${this.targetLanguage})</strong> language pack to proceed.To install the language pack, visit <strong>chrome://on-device-translation-internals</strong>. For further assistance, refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api#bypass_language_restrictions_for_local_testing\" target=\"_blank\">documentation</a>.</span>`);\r\n            jQuery(\"#chrome-ai-translator_settings_btn\");\r\n            this.onLanguageError(message);\r\n            return {};\r\n        }\r\n\r\n        // Handle case for language pack not readily available\r\n        if (languageSupported !== 'readily') {\r\n            const message = jQuery(`<span style=\"color: #ff4646; margin-top: .5rem; display: inline-block;\">Please ensure that the <strong>${this.targetLanguageLabel} (${this.targetLanguage})</strong> language pack is installed and set as a preferred language in your browser. To install the language pack, visit <strong>chrome://on-device-translation-internals</strong>. For further assistance, refer to the <a href=\"https://developer.chrome.com/docs/ai/translator-api#bypass_language_restrictions_for_local_testing\" target=\"_blank\">documentation</a>.</span>`);\r\n            this.onLanguageError(message);\r\n            return {};\r\n        }  \r\n\r\n        // Return methods for translation control\r\n        return { \r\n            continueTranslation: this.continueTranslation, \r\n            stopTranslation: this.stopTranslation, \r\n            startTranslation: this.startTranslation, \r\n            reInit: this.reInit, \r\n            init: this.init \r\n        };\r\n    }\r\n\r\n    // Method to initialize the translation process\r\n    init = async () => {\r\n        this.appendBtn();\r\n        this.translationStart = false; // Flag to indicate if translation has started\r\n        this.completedTranslateIndex = 0; // Index of the last completed translation\r\n        this.completedCharacterCount = 0; // Count of characters translated\r\n        this.translateBtnEvents(); // Set up button events\r\n        if(this.progressBarSelector) {\r\n            this.addProgressBar(); // Add progress bar to the UI\r\n        }\r\n    };\r\n\r\n    appendBtn = () => {\r\n        this.translateBtn = jQuery(`<button class=\"button button-primary${this.btnClass ? ' ' + this.btnClass : ''}\">${this.btnText}</button>`);\r\n        jQuery(this.btnSelector).append(this.translateBtn);\r\n    }\r\n\r\n    // Method to check the status of the language support\r\n    langStatus = async () => {\r\n        const supportedLanguages = ['en','es', 'ja', 'ar', 'bn', 'de', 'fr', 'hi', 'it', 'ko', 'nl', 'pl', 'pt', 'ru', 'th', 'tr', 'vi', 'zh', 'zh-hant', 'bg', 'cs', 'da', 'el', 'fi', 'hr', 'hu', 'id', 'iw', 'lt', 'no', 'ro', 'sk', 'sl', 'sv', 'uk', 'en-zh'].map(lang => lang.toLowerCase());\r\n\r\n        // Check if the translation API is available\r\n        if (!('translation' in self && 'createTranslator' in self.translation)) {\r\n            return 'api-disabled';\r\n        }\r\n\r\n        // Check if the target language is supported\r\n        if (!supportedLanguages.includes(this.targetLanguage.toLowerCase())) {\r\n            return 'language-not-supported';\r\n        }\r\n\r\n        const defaultLangCode = this.targetLanguage || null; // Get the default language code\r\n        this.defaultLang = this.mapLanguageCode(defaultLangCode); // Map the language code\r\n\r\n        // Check if translation can be performed\r\n        return await translation.canTranslate({\r\n            sourceLanguage: this.sourceLanguage,\r\n            targetLanguage: this.defaultLang,\r\n        });\r\n    }\r\n\r\n    // Method to set up button events for translation\r\n    translateBtnEvents = (e) => {\r\n        if (!this.btnSelector || jQuery(this.btnSelector).length === 0) return this.onLanguageError(\"The button selector is missing. Please provide a valid selector for the button.\");\r\n        if (!this.stringSelector || jQuery(this.stringSelector).length === 0) return this.onLanguageError(\"The string selector is missing. Please provide a valid selector for the strings to be translated.\");\r\n\r\n        this.translateStatus = true; // Set translation status to true\r\n        this.translateBtn.off(\"click\"); // Clear previous click handlers\r\n        this.translateBtn.prop(\"disabled\", false); // Enable the button\r\n\r\n        // Set up click event for starting translation\r\n        if (!this.translationStart) {\r\n            this.translateBtn.on(\"click\", this.startTranslationProcess);\r\n        } else if (this.translateStringEle.length > (this.completedTranslateIndex + 1)) {\r\n            this.translateBtn.on(\"click\", () => {\r\n                this.onStartTranslationProcess(); // Call the start translation callback\r\n                this.stringTranslation(this.completedTranslateIndex + 1); // Start translating the next string\r\n            });\r\n        } else {\r\n            this.onComplete({translatedStringsCount: this.completedCharacterCount}); // Call the complete callback\r\n            this.translateBtn.prop(\"disabled\", true); // Disable the button\r\n        }\r\n    };\r\n\r\n    // Method to map language codes to their respective codes\r\n    mapLanguageCode = (code) => {\r\n        const languageMap = {\r\n            'bel': 'be',\r\n            'he': 'iw',\r\n            'snd': 'sd',\r\n            'jv': 'jw',\r\n            'nb': 'no',\r\n            'nn': 'no'\r\n        };\r\n        return languageMap[code] || code; // Return mapped code or original code\r\n    };\r\n\r\n    // Method to start the translation process\r\n    startTranslationProcess = async () => {\r\n        this.onStartTranslationProcess(); // Call the start translation callback\r\n        const langCode = this.defaultLang; // Get the default language code\r\n\r\n        this.translationStart = true; // Set translation start flag\r\n        this.translateStringEle = jQuery(this.stringSelector); // Get the elements to translate\r\n\r\n        // Calculate total character count for progress tracking\r\n        this.totalStringCount = Array.from(this.translateStringEle).map(ele => ele.innerText.length).reduce((a, b) => a + b, 0);\r\n\r\n        // Create a translator instance\r\n        this.translator = await self.translation.createTranslator({\r\n            sourceLanguage: 'en',\r\n            targetLanguage: langCode,\r\n        });\r\n\r\n        // Start translating if there are strings to translate\r\n        if (this.translateStringEle.length > 0) {\r\n            await this.stringTranslation(this.completedTranslateIndex);\r\n        }\r\n    };\r\n\r\n    // Method to translate a specific string at the given index\r\n    stringTranslation = async (index) => {\r\n        if (!this.translateStatus) return; // Exit if translation is stopped\r\n        const ele = this.translateStringEle[index]; // Get the element to translate\r\n        this.onBeforeTranslate(ele); // Call the before translation callback\r\n        const orignalText = ele.innerText;\r\n        let originalString = [];\r\n\r\n        if(ele.childNodes.length > 0 && !ele.querySelector('.notranslate')){\r\n            ele.childNodes.forEach(child => {\r\n                if(child.nodeType === 3 && child.nodeValue.trim() !== ''){\r\n                    originalString.push(child);\r\n                }\r\n            });\r\n        }else if(ele.querySelector('.notranslate')){\r\n           ele.childNodes.forEach(child => {\r\n            if(child.nodeType === 3 && child.nodeValue.trim() !== ''){\r\n                originalString.push(child);\r\n                }\r\n            });\r\n        }\r\n\r\n        if(originalString.length > 0){\r\n            await this.stringTranslationBatch(originalString, 0);\r\n        }\r\n\r\n        this.completedCharacterCount += orignalText.length; // Update character count\r\n        this.completedTranslateIndex = index; // Update completed index\r\n        if(this.progressBarSelector) {\r\n            this.updateProgressBar(); // Update the progress bar\r\n        }\r\n        this.onAfterTranslate(ele); // Call the after translation callback\r\n\r\n        // Continue translating the next string if available\r\n        if (this.translateStringEle.length > index + 1) {\r\n            await this.stringTranslation(this.completedTranslateIndex + 1);\r\n        }\r\n\r\n        // If all strings are translated, complete the process\r\n        if (index === this.translateStringEle.length - 1) {\r\n            this.translateBtn.prop(\"disabled\", true); // Disable the button\r\n            this.onComplete({characterCount: this.completedCharacterCount}); // Call the complete callback\r\n            jQuery(this.progressBarSelector).find(\".chrome-ai-translator-strings-count\").show().find(\".totalChars\").text(this.completedCharacterCount);\r\n        }\r\n    };\r\n\r\n    stringTranslationBatch = async (originalString, index) => {\r\n        const translatedString = await this.translator.translate(originalString[index].nodeValue); // Translate the string\r\n\r\n        if (translatedString && '' !== translatedString) {\r\n            originalString[index].nodeValue = translatedString; // Set the translated string\r\n        }\r\n\r\n        if(index < originalString.length - 1){\r\n            await this.stringTranslationBatch(originalString, index + 1);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Method to add a progress bar to the UI\r\n    addProgressBar = () => {\r\n        if (!document.querySelector(\"#chrome-ai-translator-modal .chrome-ai-translator_progress_bar\")) {\r\n            const progressBar = jQuery(`\r\n                <div class=\"chrome-ai-translator_progress_bar\" style=\"background-color: #f3f3f3;border-radius: 10px;overflow: hidden;margin: 1.5rem auto; width: 50%;\">\r\n                <div class=\"chrome-ai-translator_progress\" style=\"overflow: hidden;transition: width .5s ease-in-out; border-radius: 10px;text-align: center;width: 0%;height: 20px;box-sizing: border-box;background-color: #4caf50; color: #fff; font-weight: 600;\"></div>\r\n                </div>\r\n                <div style=\"display:none; color: #ffff9f;\" class=\"chrome-ai-translator-strings-count hidden\">\r\n                    Wahooo! You have saved your valuable time via auto translating \r\n                    <strong class=\"totalChars\">0</strong> characters using \r\n                    <strong>\r\n                        Chrome AI Translator\r\n                    </strong>\r\n                </div>\r\n            `);\r\n            jQuery(this.progressBarSelector).append(progressBar); // Append the progress bar to the specified selector\r\n        }\r\n    };\r\n\r\n    // Method to update the progress bar based on translation progress\r\n    updateProgressBar = () => {\r\n        const progress = ((this.completedCharacterCount / this.totalStringCount) * 1000) / 10; // Calculate progress percentage\r\n        let decimalValue = progress.toString().split('.')[1] || ''; // Get decimal part of the progress\r\n        decimalValue = decimalValue.length > 0 && decimalValue[0] !== '0' ? decimalValue[0] : ''; // Format decimal value\r\n        const formattedProgress = parseInt(progress) + `${decimalValue !== '' ? '.' + decimalValue : ''}`; // Format progress for display\r\n        jQuery(\".chrome-ai-translator_progress\").css({ \"width\": `${formattedProgress}%` }).text(`${formattedProgress}%`); // Update progress bar width and text\r\n    };\r\n\r\n    // Method to stop the translation process\r\n    stopTranslation = () => {\r\n        this.translateStatus = false; // Set translation status to false\r\n    }\r\n\r\n    // Method to reinitialize button events\r\n    reInit = () => {\r\n        this.translateBtnEvents(); // Re-setup button events\r\n    }\r\n\r\n    // Method to start translation from the current index\r\n    startTranslation = () => {\r\n        this.translateStatus = true; // Set translation status to true\r\n        this.startTranslationProcess(this.completedTranslateIndex + 1); // Start translation process\r\n    }\r\n}\r\n\r\n/*\r\n * Example Usage of the ChromeAiTranslator.init method.\r\n * This method initializes the translator with the following configuration options:\r\n * \r\n * mainWrapperSelector: Selector for the main wrapper element that contains the translation elements.\r\n * btnSelector: Selector for the button that triggers the translation process.\r\n * btnClass: Class for custom styling the button\r\n * btnText: Text for the button\r\n * stringSelector: Selector for the elements containing the strings to be translated.\r\n * progressBarSelector: Selector for the progress bar element to show translation progress.\r\n * sourceLanguage: The language code for the language to translate from (e.g., \"es\" for Spanish).\r\n * targetLanguage: The language code for the language to translate to (e.g., \"fr\" for French).\r\n * onStartTranslationProcess: Callback function that executes when the translation process starts.\r\n * onBeforeTranslate: Callback function that executes before each translation.\r\n * onAfterTranslate: Callback function that executes after each translation.\r\n * onComplete: Callback function that executes when the translation process is completed.\r\n * onLanguageError: Callback function that executes when there is a language error.\r\n */\r\n// const chromeAiTranslatorObject = ChromeAiTranslator.Object(\r\n//     {\r\n//         mainWrapperSelector: \".main-wrapper\", // Main Wrapper Class, Id or Selector\r\n//         btnSelector: \".translator-container .translator-button\", // Button Class, Id or Selector\r\n//         btnClass: \"Btn_custom_class\", // Button Class for custom styling\r\n//         btnText: \"Translate To French\", // Button Text\r\n//         stringSelector: \".translator-body .translation-item\", // String Translate Element Class, Id or Selector\r\n//         progressBarSelector: \".translator-progress-bar\", // Progress Bar Class, Id or Selector\r\n//         sourceLanguage: \"es\", // Source Language Code\r\n//         targetLanguage: \"fr\", // Target Language Code\r\n//         onStartTranslationProcess: () => { console.log(\"Translation process started.\"); }, // Callback function\r\n//         onBeforeTranslate: () => { console.log(\"Before translation.\"); }, // Callback function\r\n//         onAfterTranslate: () => { console.log(\"After translation.\"); }, // Callback function\r\n//         onComplete: () => { console.log(\"Translation completed.\"); }, // Callback function\r\n//         onLanguageError: () => { console.error(\"Language error occurred.\"); } // Callback function\r\n//     }\r\n// );\r\n// chromeAiTranslatorObject.init();\r\n\r\nexport default ChromeAiTranslator;","import SaveTranslationHandler from \"../../storeTranslatedString\";\r\n\r\nconst yandexWidget = (win, doc, nav, params, namespace, targetLang, translateStatus) => {\r\n    'use strict';\r\n\r\n    var util = {\r\n        keycode: {\r\n            ESCAPE: 27\r\n        },\r\n        getRequest: function () {\r\n            if (win.XDomainRequest) {\r\n                return new win.XDomainRequest();\r\n            }\r\n            if (win.XMLHttpRequest) {\r\n                return new win.XMLHttpRequest();\r\n            }\r\n            return null;\r\n        },\r\n        loadScript: function (src, parent, callback) {\r\n            var script = doc.createElement('script');\r\n            script.src = src;\r\n\r\n            script.addEventListener('load', function onLoad() {\r\n                this.removeEventListener('load', onLoad, false);\r\n                callback();\r\n            }, false);\r\n\r\n            parent.appendChild(script);\r\n        },\r\n        loadResource: function (url, callback) {\r\n            var request = this.getRequest();\r\n\r\n            if (!request) {\r\n                return null;\r\n            }\r\n\r\n            request.onload = function () {\r\n                callback(this.responseText);\r\n            };\r\n            request.open('GET', url, true);\r\n\r\n            win.setTimeout(function () {\r\n                request.send();\r\n            }, 0);\r\n\r\n            return request;\r\n        },\r\n        getStyleList: function (element) {\r\n            var value = element.getAttribute('class');\r\n            if (!value) {\r\n                return [];\r\n            }\r\n            return value.replace(/\\s+/g, ' ').trim().split(' ');\r\n        },\r\n        hasStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            return !!list.length && list.indexOf(name) >= 0;\r\n        },\r\n        addStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            list.push(name);\r\n            element.setAttribute('class', list.join(' '));\r\n        },\r\n        removeStyleName: function (element, name) {\r\n            var list = this.getStyleList(element),\r\n                index = list.indexOf(name);\r\n            if (index >= 0) {\r\n                list.splice(index, 1);\r\n                element.setAttribute('class', list.join(' '));\r\n            }\r\n        },\r\n        isSupportedBrowser: function () {\r\n            return 'localStorage' in win &&\r\n                'querySelector' in doc &&\r\n                'addEventListener' in win &&\r\n                'getComputedStyle' in win && doc.compatMode === 'CSS1Compat';\r\n        }\r\n    };\r\n\r\n    // Button\r\n    var Button = function Button(element, contentElement) {\r\n        var self = this;\r\n\r\n        element.addEventListener('click', function (event) {\r\n            self.onClick(event);\r\n        }, false);\r\n\r\n        this._element = element;\r\n        this._contentElement = contentElement || this._element;\r\n    };\r\n\r\n    Button.prototype.onClick = function () { };\r\n\r\n    Button.prototype.setText = function (text) {\r\n        this._contentElement.textContent = text;\r\n        return this;\r\n    };\r\n\r\n    // Select\r\n    var Select = function Select(form, itemName) {\r\n        var self = this;\r\n\r\n        form.reset();\r\n\r\n        form.addEventListener('click', function (event) {\r\n            var target = event.target;\r\n            if ('value' in target) {\r\n                self.onSelect(target.value);\r\n            }\r\n        }, false);\r\n\r\n        form.addEventListener('change', function (event) {\r\n            alert(\"form change state\");\r\n            var target = event.target;\r\n            if (target.checked) {\r\n                self.onChange(target.value);\r\n            }\r\n        }, false);\r\n\r\n        this._form = form;\r\n        this._itemName = itemName;\r\n    };\r\n\r\n    Select.prototype.onSelect = function () { };\r\n\r\n    Select.prototype.onChange = function () { };\r\n\r\n    Select.prototype.isHidden = function () {\r\n        return this._form.hasAttribute('hidden');\r\n    };\r\n\r\n    Select.prototype.getItems = function () {\r\n        return this._form[this._itemName] || [];\r\n    };\r\n\r\n    Select.prototype.getValue = function () {\r\n        var i, n, items = this.getItems();\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].checked) {\r\n                return items[i].value;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    Select.prototype.setValue = function (value) {\r\n        var i, n, items = this.getItems();\r\n        if (value === this.getValue()) {\r\n            return this;\r\n        }\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].value === value) {\r\n                items[i].checked = true;\r\n                this.onChange(value);\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.setHidden = function (hidden) {\r\n        hidden = !!hidden;\r\n        if (hidden !== this.isHidden()) {\r\n            this._form[(hidden ? 'set' : 'remove') + 'Attribute']('hidden', '');\r\n            this.onHiddenChange(hidden);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.onHiddenChange = function () { };\r\n\r\n    // Widget\r\n    var Widget = function Widget(options) {\r\n        var self = this,\r\n            active,\r\n            select = options.select,\r\n            element = options.element,\r\n            storage = options.storage,\r\n            autoMode = options.autoMode,\r\n            pageLang = options.pageLang,\r\n            userLang = options.userLang,\r\n            translator = options.translator,\r\n            leftButton = options.leftButton,\r\n            rightButton = options.rightButton,\r\n            closeButton = options.closeButton,\r\n            defaultLang;\r\n\r\n        this._element = element;\r\n        this._pageLang = pageLang;\r\n        this._translator = translator;\r\n\r\n        this.onStateChange = function (name, enable) {\r\n            if (name === 'active') {\r\n                storage.setValue('active', enable);\r\n            }\r\n        };\r\n\r\n        select.onSelect = function (lang) {\r\n            this.setHidden(true);\r\n            self.translate(lang);\r\n            SaveTranslationHandler(translateStatus);\r\n        };\r\n\r\n        select.onChange = function (lang) {\r\n            storage.setValue('lang', lang);\r\n            rightButton.setText(lang);\r\n            self.setState('invalid', lang === pageLang);\r\n        };\r\n\r\n        select.onHiddenChange = function (hidden) {\r\n            var docElem = doc.documentElement,\r\n                formRect;\r\n            self.setState('expanded', !hidden);\r\n            if (!hidden) {\r\n                self.setState('right', false)\r\n                    .setState('bottom', false);\r\n                element.focus();\r\n                formRect = this._form.getBoundingClientRect();\r\n\r\n                if (formRect.right + (win.pageXOffset || docElem.scrollLeft) + 1 >= Math.max(docElem.clientWidth, docElem.scrollWidth)) {\r\n                    self.setState('right', true);\r\n                }\r\n\r\n                if (formRect.bottom + (win.pageYOffset || docElem.scrollTop) + 1 >= Math.max(docElem.clientHeight, docElem.scrollHeight)) {\r\n                    self.setState('bottom', true);\r\n                }\r\n            }\r\n        };\r\n\r\n        element.addEventListener('blur', function () {\r\n            select.setHidden(true);\r\n        }, false);\r\n\r\n        element.addEventListener('keydown', function (event) {\r\n            switch (event.keyCode) {\r\n                case util.keycode.ESCAPE:\r\n                    select.setHidden(true);\r\n                    break;\r\n            }\r\n        }, false);\r\n\r\n        translator.on('error', function () {\r\n            this.abort();\r\n            self.setState('busy', false)\r\n                .setState('error', true);\r\n        });\r\n\r\n        translator.on('progress', function (progress) {\r\n            switch (progress) {\r\n                case 0:\r\n                    self.setState('busy', true)\r\n                        .setState('active', true);\r\n                    break;\r\n\r\n                case 100:\r\n                    self.setState('done', true)\r\n                        .setState('busy', false);\r\n                    break;\r\n            }\r\n        });\r\n\r\n\r\n        leftButton.onClick = function () {\r\n            select.setHidden(true);\r\n            self.translate(select.getValue());\r\n            SaveTranslationHandler(translateStatus);\r\n        };\r\n\r\n        rightButton.onClick = function () {\r\n            if (self.hasState('active')) {\r\n                translator.undo();\r\n                self.setState('busy', false)\r\n                    .setState('done', false)\r\n                    .setState('error', false)\r\n                    .setState('active', false);\r\n            } else {\r\n                select.setHidden(!select.isHidden());\r\n            }\r\n        };\r\n\r\n        closeButton.onClick = function () {\r\n            select.setHidden(true);\r\n        };\r\n\r\n        if (targetLang != undefined) {\r\n            var defaultcode = targetLang;\r\n        }\r\n        switch (defaultcode) {\r\n            case 'nb':\r\n                defaultLang = 'no';\r\n                break;\r\n\r\n            case 'nn':\r\n                defaultLang = 'no';\r\n                break;\r\n            default:\r\n                defaultLang = defaultcode;\r\n                break;\r\n        }\r\n        if (defaultLang) {\r\n            select.setValue(defaultLang);\r\n            active = storage.getValue('active');\r\n        }\r\n    };\r\n    Widget.prototype.hasState = function (name) {\r\n        return util.hasStyleName(this._element, 'yt-state_' + name);\r\n    };\r\n\r\n    Widget.prototype.setState = function (name, enable) {\r\n        var hasState = this.hasState(name);\r\n        enable = !!enable;\r\n        if (enable === hasState) {\r\n            return this;\r\n        }\r\n        util[(enable ? 'add' : 'remove') + 'StyleName'](\r\n            this._element, 'yt-state_' + name\r\n        );\r\n        this.onStateChange(name, enable);\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.translate = function (targetLang) {\r\n        if (targetLang && !this.hasState('active')) {\r\n            this._translator.translate(this._pageLang, targetLang);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.onStateChange = function () { };\r\n\r\n    // Storage\r\n    var Storage = function Storage(name) {\r\n        this._name = name;\r\n        try {\r\n            this._data = win.JSON.parse(win.localStorage[name]);\r\n        } catch (error) {\r\n            this._data = {};\r\n        }\r\n    };\r\n\r\n    Storage.prototype.getValue = function (prop) {\r\n        return this._data[prop];\r\n    };\r\n\r\n    Storage.prototype.setValue = function (prop, value) {\r\n        this._data[prop] = value;\r\n        try {\r\n            win.localStorage[this._name] = win.JSON.stringify(this._data);\r\n        } catch (error) { }\r\n    };\r\n\r\n    var wrapper = doc.getElementById(params.widgetId);\r\n\r\n    if (!wrapper || !util.isSupportedBrowser()) {\r\n        return;\r\n    }\r\n    var initWidget = function () {\r\n        util.loadScript('https://yastatic.net/s3/translate/v21.4.7/js/tr_page.js', wrapper, function () {\r\n            util.loadResource('https://translate.yandex.net/website-widget/v1/widget.html',\r\n                function (responseText) {\r\n                    var element;\r\n                    if (!responseText) {\r\n                        return;\r\n                    }\r\n                    wrapper.innerHTML = responseText;\r\n                    element = wrapper.querySelector('.yt-widget');\r\n                    if (params.widgetTheme) {\r\n                        element.setAttribute('data-theme', params.widgetTheme);\r\n                    }\r\n                    new Widget({\r\n                        select: new Select(element.querySelector('.yt-listbox'), 'yt-lang'),\r\n                        element: element,\r\n                        storage: new Storage('yt-widget'),\r\n                        autoMode: params.autoMode === 'true',\r\n                        pageLang: params.pageLang,\r\n                        userLang: (nav.language || nav.userLanguage || '').split('-')[0],\r\n                        translator: new namespace.PageTranslator({\r\n                            srv: 'tr-url-widget',\r\n                            url: 'https://translate.yandex.net/api/v1/tr.json/translate',\r\n                            autoSync: true,\r\n                            maxPortionLength: 600\r\n                        }),\r\n                        leftButton: new Button(element.querySelector('.yt-button_type_left')),\r\n                        rightButton: new Button(\r\n                            element.querySelector('.yt-button_type_right'),\r\n                            element.querySelector('.yt-button_type_right > .yt-button__text')\r\n                        ),\r\n                        closeButton: new Button(element.querySelector('.yt-button_type_close'))\r\n                    });\r\n                }\r\n            );\r\n        });\r\n    };\r\n    if (doc.readyState === 'complete' || doc.readyState === 'interactive') {\r\n        initWidget();\r\n    } else {\r\n        doc.addEventListener('DOMContentLoaded', initWidget, false);\r\n    }\r\n};\r\n\r\nconst YandexTranslater = (props) => {\r\n    const globalObj = window;\r\n    yandexWidget(globalObj, globalObj.document, globalObj.navigator, { \"pageLang\": props.sourceLang, \"autoMode\": \"false\", \"widgetId\": \"atfp_yandex_translate_element\", \"widgetTheme\": \"light\" }, globalObj.yt = globalObj.yt || {}, props.targetLang, props.translateStatus);\r\n}\r\n\r\nexport default YandexTranslater;","export default ()=>{\r\n    const languages = [\r\n        'af', 'am', 'ar', 'az', 'ba', 'be', 'bg', 'bn', 'bs', 'ca', 'ceb', 'cs', \r\n        'cv', 'cy', 'da', 'de', 'el', 'emj', 'en', 'eo', 'es', 'et', 'eu', 'fa', \r\n        'fi', 'fr', 'ga', 'gd', 'gl', 'gu', 'he', 'hi', 'hr', 'ht', 'hu', 'hy', \r\n        'id', 'is', 'it', 'ja', 'jv', 'ka', 'kazlat', 'kk', 'km', 'kn', 'ko', \r\n        'ky', 'la', 'lb', 'lo', 'lt', 'lv', 'mg', 'mhr', 'mi', 'mk', 'ml', 'mn', \r\n        'mr', 'mrj', 'ms', 'mt', 'my', 'ne', 'nl', 'no', 'pa', 'pap', 'pl', 'pt', \r\n        'pt-BR', 'ro', 'ru', 'sah', 'si', 'sk', 'sl', 'sq', 'sr', 'sr-Latn', 'su', \r\n        'sv', 'sw', 'ta', 'te', 'tg', 'th', 'tl', 'tr', 'tt', 'udm', 'uk', 'ur', \r\n        'uz', 'uzbcyr', 'vi', 'xh', 'yi', 'zh', 'zu'\r\n    ];\r\n\r\n    return languages;\r\n}","import FilterBlockNestedAttr from \"../FilterNestedAttr\";\r\nconst { createBlock } = wp.blocks;\r\nconst { dispatch, select } = wp.data;\r\n\r\n/**\r\n * Filters and translates attributes of a block based on provided rules.\r\n * \r\n * @param {Object} block - The block to filter and translate attributes for.\r\n * @param {Object} blockParseRules - The rules for parsing the block.\r\n * @returns {Object} The updated block with translated attributes.\r\n */\r\nconst filterTranslateAttr = (block, blockParseRules) => {\r\n    const filterAttrArr = Object.values(blockParseRules);\r\n    const blockAttr = block.attributes;\r\n    const blockId = block.clientId;\r\n\r\n    // Function to update a nested attribute in the block\r\n    const updateNestedAttribute = (obj, path, value) => {\r\n\r\n        const newObj = { ...obj };\r\n        let current = newObj;\r\n        for (let i = 0; i < path.length - 1; i++) {\r\n            if (Object.getPrototypeOf(current[path[i]]) === Array.prototype) {\r\n                current[path[i]] = [...current[path[i]]];\r\n            } else {\r\n                current[path[i]] = { ...current[path[i]] }; // Create a shallow copy\r\n            }\r\n            current = current[path[i]];\r\n        }\r\n\r\n        if ( current[path[path.length - 1]] instanceof wp.richText.RichTextData ) {\r\n            current[path[path.length - 1]] = value.replace(/(?<!\\\\)\"|\\\\\"/g, \"'\");\r\n        } else {\r\n            current[path[path.length - 1]] = value;\r\n        }\r\n\r\n        return newObj;\r\n    };\r\n\r\n    /**\r\n     * Updates translated attributes based on provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs to update attributes for.\r\n     * @param {Object|Array} filterAttrObj - The filter attribute object to apply.\r\n     */\r\n    const updateTranslatedAttr = (idArr, filterAttrObj) => {\r\n\r\n        if (true === filterAttrObj) {\r\n\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr[key];\r\n            });\r\n\r\n            let blockAttrContent = dynamicBlockAttr;\r\n\r\n            if(blockAttrContent instanceof wp.richText.RichTextData) {\r\n                blockAttrContent=blockAttrContent.originalHTML;\r\n            }\r\n\r\n            if (undefined !== blockAttrContent && blockAttrContent.trim() !== '') {\r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n                let translateContent = '';\r\n\r\n                if (!/[\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    translateContent = blockAttrContent;\r\n                } else {\r\n                    translateContent = select('block-atfp/translate').getTranslatedString('content', blockAttrContent, filterKey);\r\n                }\r\n\r\n                block.attributes = updateNestedAttribute(block.attributes, newIdArr, translateContent);\r\n            }\r\n            \r\n            return;\r\n        }\r\n\r\n        FilterBlockNestedAttr(idArr,filterAttrObj,blockAttr,updateTranslatedAttr);\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            updateTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n\r\n    return block;\r\n}\r\n\r\n/**\r\n * Creates a translated block based on the provided block, child block, translate handler, and block rules.\r\n * If the block name is included in the block rules, it filters and translates the attributes accordingly.\r\n * \r\n * @param {Object} block - The block to create a translated version of.\r\n * @param {Array} childBlock - The child blocks associated with the main block.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @returns {Object} The newly created translated block.\r\n */\r\nconst createTranslatedBlock = (block, childBlock, blockRules) => {\r\n    const { name: blockName, attributes } = block;\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    let attribute = { ...attributes };\r\n    let translatedBlock = block;\r\n    let newBlock = '';\r\n\r\n    if (blockTranslateName.includes(block.name)) {\r\n        translatedBlock = filterTranslateAttr(block, blockRules['AtfpBlockParseRules'][block.name]);\r\n        attribute = translatedBlock.attributes;\r\n    }\r\n\r\n    newBlock = createBlock(blockName, attribute, childBlock);\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates a child block recursively by translating each inner block based on the provided block, translate handler, and block rules.\r\n * \r\n * @param {Object} block - The block to create a child block for.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @returns {Object} The newly created translated child block.\r\n */\r\nconst cretaeChildBlock = (block, blockRules) => {\r\n    let childBlock = block.innerBlocks.map(block => {\r\n        if (block.name) {\r\n            const childBlock = cretaeChildBlock(block, blockRules);\r\n            return childBlock;\r\n        }\r\n    });\r\n\r\n    const newBlock = createTranslatedBlock(block, childBlock, blockRules)\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates the main blocks based on the provided block, translate handler, and block rules.\r\n * If the block name exists, it creates the main block along with its child blocks and inserts it into the block editor.\r\n * \r\n * @param {Object} block - The main block to create.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n */\r\nconst createBlocks = (block, blockRules) => {\r\n    const { name: blockName } = block;\r\n    // Create the main block\r\n    if (blockName) {\r\n        let childBlock = block.innerBlocks.map(block => {\r\n            if (block.name) {\r\n                return cretaeChildBlock(block, blockRules);\r\n            }\r\n        })\r\n        const parentBlock = createTranslatedBlock(block, childBlock, blockRules);\r\n\r\n        dispatch('core/block-editor').insertBlock(parentBlock);\r\n\r\n    }\r\n}\r\n\r\nexport default createBlocks;\r\n","import createBlocks from './createBlock';\r\nimport { dispatch, select } from '@wordpress/data';\r\n/**\r\n * Translates the post content and updates the post title, excerpt, and content.\r\n * \r\n * @param {Object} props - The properties containing post content, translation function, and block rules.\r\n */\r\nconst translatePost = (props) => {\r\n    const { editPost } = dispatch('core/editor');\r\n    const { modalClose, postContent } = props;\r\n\r\n    /**\r\n     * Updates the post title and excerpt text based on translation.\r\n     */\r\n    const postDataUpdate = () => {\r\n        const data = {};\r\n        const editPostData = Object.keys(postContent).filter(key => key !== 'content');\r\n\r\n        editPostData.forEach(key => {\r\n            const sourceData = postContent[key];\r\n            if (sourceData.trim() !== '') {\r\n                const translateContent = select('block-atfp/translate').getTranslatedString(key, sourceData);\r\n                data[key] = translateContent;\r\n            }\r\n        });\r\n\r\n        editPost(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the post content based on translation.\r\n     */\r\n    const postContentUpdate = () => {\r\n        const postContentData = postContent.content;\r\n\r\n        if (postContentData.length <= 0) {\r\n            return;\r\n        }\r\n\r\n        Object.values(postContentData).forEach(block => {\r\n            createBlocks(block, props.blockRules);\r\n        });\r\n    }\r\n\r\n    // Update post title and excerpt text\r\n    postDataUpdate();\r\n    // Update post content\r\n    postContentUpdate();\r\n    // Close string modal box\r\n    modalClose();\r\n}\r\n\r\nexport default translatePost;","import FilterBlockNestedAttr from \"../FilterNestedAttr\";\r\nconst { dispatch } = wp.data;\r\n\r\nlet contentIndex = 0;\r\n/**\r\n * Filters and translates attributes of a block.\r\n * \r\n * @param {string} blockId - The ID of the block.\r\n * @param {Object} blockAttr - The attributes of the block.\r\n * @param {Object} filterAttr - The attributes to filter.\r\n */\r\nconst filterTranslateAttr = (blockId, blockAttr, filterAttr) => {\r\n\r\n    const filterAttrArr = Object.values(filterAttr);\r\n\r\n    /**\r\n     * Saves translated attributes based on the provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterAttrObj - The filter attribute object.\r\n     */\r\n    const saveTranslatedAttr = (idArr, filterAttrObj) => {\r\n\r\n        if (true === filterAttrObj) {\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr[key];\r\n            });\r\n\r\n            let blockAttrContent = dynamicBlockAttr;\r\n\r\n            if(blockAttrContent instanceof wp.richText.RichTextData) {\r\n                blockAttrContent=blockAttrContent.originalHTML;\r\n            }\r\n          \r\n            if (undefined !== blockAttrContent && blockAttrContent.trim() !== '') {\r\n                \r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n\r\n                if (!/[\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    return false;\r\n                }\r\n\r\n\r\n                dispatch('block-atfp/translate').contentSaveSource(filterKey, blockAttrContent, contentIndex);\r\n                contentIndex++;\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        FilterBlockNestedAttr(idArr,filterAttrObj,blockAttr,saveTranslatedAttr);\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            saveTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Retrieves the translation string for a block based on block rules and applies translation.\r\n * \r\n * @param {Object} block - The block to translate.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst getTranslateString = (block, blockRules) => {\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    if (!blockTranslateName.includes(block.name)) {\r\n        return;\r\n    }\r\n\r\n    filterTranslateAttr(block.clientId, block.attributes, blockRules['AtfpBlockParseRules'][block.name]);\r\n}\r\n\r\n/**\r\n * Recursively processes child block attributes for translation.\r\n * \r\n * @param {Array} blocks - The array of blocks to translate.\r\n * @param {Object} blockRules - The rules for translating the blocks.\r\n */\r\nconst childBlockAttributesContent = (blocks, blockRules) => {\r\n    blocks.forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Processes the attributes of a block for translation.\r\n * \r\n * @param {Object} parseBlock - The block to parse for translation.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst blockAttributeContent = (parseBlock, blockRules) => {\r\n    Object.values(parseBlock).forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Saves the translation for a block based on its attributes.\r\n * \r\n * @param {Object} block - The block to save translation for.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst saveTranslation = (block, blockRules) => {\r\n    Object.keys(block).forEach(key => {\r\n        if (key === 'content') {\r\n            blockAttributeContent(block[key], blockRules);\r\n        } else {\r\n            const action = `${key}SaveSource`;\r\n            dispatch('block-atfp/translate')[action](block[key]);\r\n        }\r\n    });\r\n}\r\n\r\nexport default saveTranslation;","const { dispatch } = wp.data;\r\n\r\nconst ScrollAnimation = (props) => {\r\n    const { element, scrollSpeed } = props;\r\n    const scrollHeight = element.scrollHeight - element.offsetHeight + 100;\r\n\r\n    let startTime = null;\r\n    let startScrollTop = element.scrollTop;\r\n    const animateScroll = () => {\r\n        const currentTime = performance.now();\r\n        const duration = scrollSpeed;\r\n        const scrollTarget = scrollHeight + 2000;\r\n        \r\n        if (!startTime) {\r\n            startTime = currentTime;\r\n        }\r\n\r\n        const progress = (currentTime - startTime) / duration;\r\n        const scrollPosition = startScrollTop + (scrollTarget - startScrollTop) * progress;\r\n\r\n        if(scrollPosition > scrollHeight){\r\n            return; // Stop animate scroll\r\n        }\r\n\r\n        element.scrollTop = scrollPosition;\r\n\r\n        if (scrollPosition < scrollHeight) {\r\n            setTimeout(animateScroll, 16);\r\n        }\r\n    }\r\n    animateScroll();\r\n};\r\n\r\n/**\r\n * Saves the translation data by updating the translation content based on the provided translate object and data.\r\n * @param {Object} translateData - The data containing translation information.\r\n */\r\nconst saveTranslation = (translateData) => {\r\n    Object.keys(translateData).map(key => {\r\n        const data = translateData[key];\r\n\r\n        if (data.type !== 'content') {\r\n            const action = `${data.type}SaveTranslate`;\r\n            dispatch('block-atfp/translate')[action](data.translateContent);\r\n        } else {\r\n            dispatch('block-atfp/translate').contentSaveTranslate(key, data.translateContent, data.source);\r\n        }\r\n    });\r\n}\r\n/**\r\n * Updates the translated content based on the provided translation object.\r\n */\r\nconst updateTranslatedContent = () => {\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n    const translatedData = stringContainer.querySelectorAll('td.translate[data-string-type]');\r\n\r\n    const data = {};\r\n\r\n    translatedData.forEach(ele => {\r\n        const translatedText = ele.innerText;\r\n        const key = ele.dataset.key;\r\n        const type = ele.dataset.stringType;\r\n        const sourceText = ele.closest('tr').querySelector('td[data-source=\"source_text\"]').innerText;\r\n\r\n        data[key] = { type: type, translateContent: translatedText, source: sourceText };\r\n    });\r\n\r\n    saveTranslation(data);\r\n}\r\n\r\n/**\r\n * Handles the completion of translation by enabling save button, updating stats, and stopping translation progress.\r\n * @param {HTMLElement} container - The container element for translation.\r\n */\r\nconst onCompleteTranslation = (container) => {\r\n    container.querySelector(\".atfp_translate_progress\").style.display = \"none\";\r\n    container.querySelector(\".atfp_string_container\").style.animation = \"none\";\r\n    document.body.style.top = '0';\r\n\r\n    const saveButton = container.querySelector('button.save_it');\r\n    saveButton.removeAttribute('disabled');\r\n    saveButton.classList.add('translated');\r\n    saveButton.classList.remove('notranslate');\r\n    updateTranslatedContent();\r\n}\r\n\r\n/**\r\n * Automatically scrolls the container and triggers the completion callback when the bottom is reached or certain conditions are met.\r\n * @param {Function} translateStatus - Callback function to execute when translation is deemed complete.\r\n */\r\nconst SaveTranslationHandler = (translateStatus) => {\r\n\r\n    let translateComplete = false;\r\n\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n\r\n    stringContainer.scrollTop = 0;\r\n    const scrollHeight = stringContainer.scrollHeight;\r\n\r\n    if (scrollHeight !== undefined && scrollHeight > 100) {\r\n        container.querySelector(\".atfp_translate_progress\").style.display = \"block\";\r\n\r\n        setTimeout(() => {\r\n            const scrollSpeed = Math.ceil((scrollHeight / stringContainer?.offsetHeight)) * 2000;\r\n\r\n            ScrollAnimation({ element: stringContainer, scrollSpeed: scrollSpeed });\r\n        }, 2000);\r\n\r\n        stringContainer.addEventListener('scroll', () => {\r\n            var isScrolledToBottom = (stringContainer.scrollTop + stringContainer.clientHeight + 50 >= stringContainer.scrollHeight);\r\n\r\n            if (isScrolledToBottom && !translateComplete) {\r\n                translateStatus();\r\n                onCompleteTranslation(container);\r\n                translateComplete = true;\r\n            }\r\n        });\r\n\r\n        if (stringContainer.clientHeight + 10 >= scrollHeight) {\r\n            setTimeout(() => {\r\n                translateStatus();\r\n                onCompleteTranslation(container);\r\n            }, 1500);\r\n        }\r\n    } else {\r\n        setTimeout(() => {\r\n            translateStatus();\r\n            onCompleteTranslation(container);\r\n        }, 2000);\r\n    }\r\n}\r\n\r\nexport default SaveTranslationHandler;","import { useEffect, useState } from \"@wordpress/element\";\r\nimport saveTranslation from \"./component/storeSourceString\";\r\nimport FilterTargetContent from \"./component/FilterTargetContent\";\r\nconst { __ } = wp.i18n;\r\nconst { parse } = wp.blocks;\r\nconst { select } = wp.data;\r\n\r\nconst FetchPost = (props) => {\r\n    const [translateContent, setTranslateContent] = useState([]);\r\n    const [stringAvality, setStringAvality] = useState(true);\r\n    const blockRules = props.blockRules;\r\n    const apiUrl = atfp_ajax_object.ajax_url;\r\n\r\n    /**\r\n     * Prepare data to send in API request.\r\n     */\r\n    const apiSendData = {\r\n        postId: parseInt(props.postId),\r\n        local: props.targetLang,\r\n        current_local: props.sourceLang,\r\n        atfp_nonce: atfp_ajax_object.ajax_nonce,\r\n        action: atfp_ajax_object.action_fetch\r\n    };\r\n\r\n    /**\r\n     * useEffect hook to fetch post data from the specified API endpoint.\r\n     * Parses the response data and updates the state accordingly.\r\n     * Handles errors in fetching post content.\r\n     */\r\n    useEffect(() => {\r\n        fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: new URLSearchParams(apiSendData)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n\r\n                const post_data = data.data;\r\n\r\n                if (post_data.content && post_data.content.trim() !== '') {\r\n                    post_data.content = parse(post_data.content);\r\n                }\r\n                saveTranslation(post_data, blockRules);\r\n                props.setPostData(post_data);\r\n\r\n                const translationEntry = select(\"block-atfp/translate\").getTranslationEntry();\r\n\r\n                const totalString = Object.values(translationEntry).filter(data => data.source !== undefined && /[\\p{L}\\p{N}]/gu.test(data.source));\r\n                if (Object.keys(totalString).length > 0) {\r\n                    setTranslateContent(translationEntry);\r\n                } else {\r\n                    setStringAvality(false);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }, [props.fetchKey]);\r\n\r\n    let sNo = 0;\r\n\r\n    const totalString = translateContent.filter(data => undefined !== data.source && data.source.trim() !== '').length;\r\n\r\n    return (\r\n        <>\r\n            {translateContent.length > 0 || stringAvality ?\r\n                translateContent.map((data, index) => {\r\n                    return (\r\n                        <>\r\n                            {undefined !== data.source && data.source.trim() !== '' &&\r\n                                <>\r\n                                    <tr key={index}>\r\n                                        <td>{++sNo}</td>\r\n                                        <td data-source=\"source_text\">{data.source}</td>\r\n                                        <td class=\"translate\" translate=\"yes\" data-key={data.id} data-string-type={data.type}>\r\n                                            <FilterTargetContent service={props.service} content={data.source} translateContent={props.translateContent} totalString={totalString} currentIndex={sNo} />\r\n                                        </td>\r\n                                    </tr>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    );\r\n                })\r\n                : <p>{__('No strings are available for translation', 'automatic-translations-for-polylang')}</p>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FetchPost;","import AtfpActionTypes from \"./types\";\r\n\r\nexport const titleSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceTitle,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const titleSaveTranslate = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedTitle,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const excerptSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceExcerpt,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const excerptSaveTranslate = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedExcerpt,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const contentSaveSource = (id, data, index) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceContent,\r\n        text: data,\r\n        id: id,\r\n        index: index\r\n    }\r\n};\r\n\r\nexport const contentSaveTranslate = (id, data, source) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedContent,\r\n        text: data,\r\n        id: id,\r\n        source: source\r\n    }\r\n};\r\n","import reducer from \"./reducer\";\r\nimport * as actions from './actions';\r\nimport * as selectors from './selectors';\r\n\r\nconst { createReduxStore, register } = wp.data;\r\n\r\nconst store = createReduxStore('block-atfp/translate', {\r\n    reducer,\r\n    actions,\r\n    selectors\r\n});\r\n\r\nregister(store);","import AtfpActionTypes from \"./types\";\r\n\r\nconst TranslateDefaultState = {\r\n    title: {},\r\n    excerpt: {},\r\n    content: []\r\n};\r\n\r\nconst reducer = (state = TranslateDefaultState, action) => {\r\n    switch (action.type) {\r\n        case AtfpActionTypes.sourceTitle:\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, title: { ...state.title, source: action.text } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedTitle:\r\n            return { ...state, title: { ...state.title, target: action.text } };\r\n        case AtfpActionTypes.sourceExcerpt:\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, excerpt: { ...state.excerpt, source: action.text } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedExcerpt:\r\n            return { ...state, excerpt: { ...state.excerpt, target: action.text } };\r\n        case AtfpActionTypes.sourceContent:\r\n            if (/[\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), source: action.text, index: action.index } } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedContent:\r\n            if (state.content[action.id].source === action.source) {\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), target: action.text } } };\r\n            }\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","export const getTranslationEntry = (state) => {\r\n    const translateEntry = new Array;\r\n\r\n    translateEntry.push({ id: 'title', source: state.title.source, type: 'title', target: (state.title.target || '') });\r\n    translateEntry.push({ id: 'excerpt', source: state.excerpt.source, type: 'excerpt', target: (state.excerpt.target || '') });\r\n\r\n    Object.keys(state.content).map(key => {\r\n        const newIndex = state.content[key].index + 2;\r\n        translateEntry[newIndex] = { type: 'content', id: key, source: state.content[key].source, target: (state.content[key].target || '') };\r\n    });\r\n\r\n    return translateEntry;\r\n};\r\n\r\nexport const getTranslatedString = (state, type, source, id = null) => {\r\n    if (type !== 'content' && state[type].source === source) {\r\n        return state[type].target;\r\n    } else if (state[type] && state[type][id] && state[type][id].source === source) {\r\n        return undefined !== state[type][id].target ? state[type][id].target : state[type][id].source;\r\n    }\r\n    return source;\r\n}","const AtfpActionTypes = {\r\n    sourceTitle: 'SAVE_SOURCE_TITLE',\r\n    traslatedTitle: 'SAVE_TRANSLATE_TITLE',\r\n    sourceExcerpt: 'SAVE_SOURCE_EXCERPT',\r\n    traslatedExcerpt: 'SAVE_TRANSLATE_EXCERPT',\r\n    sourceContent: 'SAVE_SOURCE_CONTENT',\r\n    traslatedContent: 'SAVE_TRANSLATE_CONTENT',\r\n};\r\n\r\nexport default AtfpActionTypes;","import ReactDOM from \"react-dom\";\r\nimport { useEffect, useState } from \"@wordpress/element\";\r\nimport PopStringModal from \"./popupStringModal\";\r\nimport yandexLanguage from \"./component/TranslateProvider/yandex/yandex-language\";\r\nconst { sprintf, __ } = wp.i18n;\r\n\r\nconst PopupModal = (props) => {\r\n    const [fetchStatus, setFetchStatus] = useState(false);\r\n    const [targetBtn, setTargetBtn] = useState({});\r\n    const [blockRules, setBlockRules] = useState({});\r\n    const [modalRender, setModalRender] = useState({});\r\n    const [settingVisibility, setSettingVisibility] = useState(false);\r\n    const sourceLang = atfp_ajax_object.source_lang;\r\n    const targetLang = props.targetLang;\r\n    const sourceLangName = atfp_ajax_object.languageObject[sourceLang];\r\n    const targetLangName = atfp_ajax_object.languageObject[targetLang];\r\n    const apiUrl = atfp_ajax_object.ajax_url;\r\n    const imgFolder = atfp_ajax_object.atfp_url + 'assets/images/';\r\n    const yandexSupport = yandexLanguage().includes(targetLang);\r\n\r\n    /**\r\n     * Prepare data to send in API request.\r\n     */\r\n    const apiSendData = {\r\n        atfp_nonce: atfp_ajax_object.ajax_nonce,\r\n        action: atfp_ajax_object.action_block_rules\r\n    };\r\n\r\n    /**\r\n     * Update the fetch status state.\r\n     * @param {boolean} state - The state to update the fetch status with.\r\n     */\r\n    const updateFetch = (state) => {\r\n        setFetchStatus(state);\r\n    }\r\n\r\n    const openModalOnLoadHandler=(e)=>{\r\n        e.preventDefault();\r\n        const btnElement=e.target;\r\n        const visibility=btnElement.dataset.value;\r\n\r\n        if(visibility === 'yes'){\r\n            setSettingVisibility(true);\r\n        }\r\n\r\n        btnElement.closest('#atfp-modal-open-warning-wrapper').remove();\r\n    }\r\n\r\n    /**\r\n     * useEffect hook to set settingVisibility.\r\n     * Triggers the setSettingVisibility only when user click on meta field Button.\r\n    */\r\n    useEffect(() => {\r\n        const firstRenderBtns=document.querySelectorAll('#atfp-modal-open-warning-wrapper .modal-content button');\r\n        const metaFieldBtn = document.querySelector('input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n\r\n        if (metaFieldBtn) {\r\n            metaFieldBtn.addEventListener('click', () => {\r\n                setSettingVisibility(prev => !prev);\r\n            });\r\n        }\r\n\r\n        firstRenderBtns.forEach(ele=>{\r\n            if(ele){\r\n                ele.addEventListener('click',openModalOnLoadHandler);\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    /**\r\n     * useEffect hook to fetch block rules data from the server.\r\n     * Triggers the fetch only when fetchStatus is true and blockRules is empty.\r\n     */\r\n    useEffect(() => {\r\n        if (Object.keys(blockRules).length > 0 || !fetchStatus) {\r\n            return;\r\n        }\r\n\r\n        fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n                'Accept': 'application/json',\r\n            },\r\n            body: new URLSearchParams(apiSendData)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                const blockRules = JSON.parse(data.data.blockRules);\r\n\r\n                setBlockRules(blockRules);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }, [fetchStatus])\r\n\r\n    /**\r\n     * useEffect hook to handle displaying the modal and rendering the PopStringModal component.\r\n     * Renders the modal only when blockRules is not empty and fetchStatus is true.\r\n     */\r\n    useEffect(() => {\r\n        if (Object.keys(blockRules).length <= 0) {\r\n            return;\r\n        }\r\n\r\n        const btn = targetBtn;\r\n        const service = btn.dataset && btn.dataset.service;\r\n        const serviceLabel = btn.dataset && btn.dataset.serviceLabel;\r\n        const postId = props.postId;\r\n\r\n        const parentWrp = document.getElementById(\"atfp_strings_model\");\r\n\r\n        if (fetchStatus && Object.keys(blockRules).length > 0) {\r\n            ReactDOM.render(<PopStringModal\r\n                blockRules={blockRules}\r\n                visibility={fetchStatus}\r\n                updateFetch={updateFetch}\r\n                postId={postId}\r\n                service={service}\r\n                serviceLabel={serviceLabel}\r\n                sourceLang={sourceLang}\r\n                targetLang={targetLang}\r\n                modalRender={modalRender}\r\n                pageTranslate={props.pageTranslate}\r\n            />, parentWrp);\r\n            setSettingVisibility(prev => !prev);\r\n        }\r\n    }, [fetchStatus, blockRules]);\r\n\r\n    /**\r\n     * Function to handle fetching content based on the target button clicked.\r\n     * Sets the target button and updates the fetch status to true.\r\n     * @param {Event} e - The event object representing the button click.\r\n     */\r\n    const fetchContent = (e) => {\r\n        let targetElement = !e.target.classList.contains('atfp-service-btn') ? e.target.closest('.atfp-service-btn') : e.target;\r\n        setModalRender(prev => prev + 1);\r\n        setTargetBtn(targetElement);\r\n        setFetchStatus(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {settingVisibility &&\r\n                <div className=\"modal-container\" style={{ display: settingVisibility ? 'flex' : 'none' }}>\r\n                    <div className=\"atfp-settings modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h2>{__(\"Step 1 - Select Translation Provider\", 'automatic-translations-for-polylang')}</h2>\r\n                            <h4>{sprintf(__(\"Translate %(postType)s content from %(source)s to %(target)s\", 'automatic-translations-for-polylang'), { postType: props.postType, source: sourceLangName, target: targetLangName })}</h4>\r\n                            <p class=\"atfp-error-message\" style={{marginBottom: '.5rem'}}>{sprintf(__(\"This translation widget replaces the current %(postType)s content with the original %(source)s %(postType)s and translates it into %(target)s\", 'automatic-translations-for-polylang'),{ postType: props.postType, source: sourceLangName, target: targetLangName})}</p>\r\n                            <span className=\"close\" onClick={() => setSettingVisibility(false)}>&times;</span>\r\n                        </div>\r\n                        <hr />\r\n                        <strong className=\"atlt-heading\">{__(\"Translate Using Yandex Page Translate Widget\", 'automatic-translations-for-polylang')}</strong>\r\n                        <div className=\"inputGroup\">\r\n                            {yandexSupport ?\r\n                                <>\r\n                                    <button className=\"atfp-service-btn translate button button-primary\" data-service=\"yandex\" data-service-label=\"Yandex Translate\" onClick={fetchContent}>{__(\"Yandex Translate\", 'automatic-translations-for-polylang')}</button>\r\n                                    <br />\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <button className=\"atfp-service-btn translate button button-primary\" disabled={true}>{__(\"Yandex Translate\", 'automatic-translations-for-polylang')}</button><br />\r\n                                    <span className=\"atfp-error-message\">{targetLangName} {__('language is not supported by Yandex Translate', 'automatic-translations-for-polylang')}.</span>\r\n                                </>\r\n                            }\r\n                            <a href=\"https://translate.yandex.com/\" target=\"_blank\"><img className=\"pro-features-img\" src={`${imgFolder}powered-by-yandex.png`} alt=\"powered by Yandex Translate Widget\" /></a>\r\n                        </div>\r\n                        <hr />\r\n                        <ul style={{ margin: \"0\" }}>\r\n                            <li><span style={{ color: \"green\" }}>✔</span> {__(\"Unlimited Translations with Yandex Translate\", 'automatic-translations-for-polylang')}</li>\r\n                            <li><span style={{ color: \"green\" }}>✔</span> {__(\"No API Key Required for Yandex Translate\", 'automatic-translations-for-polylang')}</li>\r\n                            <li><span style={{ color: \"green\" }}>✔</span> {__(\"Supports Multiple Languages\", 'automatic-translations-for-polylang')} - <a href=\"https://yandex.com/support2/translate-desktop/en/supported-langs\" target=\"_blank\">{__(\"See Supported Languages\", 'automatic-translations-for-polylang')}</a></li>\r\n                        </ul>\r\n                        <hr />\r\n                        <strong className=\"atlt-heading\">{__(\"Translate Using Local AI Translator\", 'automatic-translations-for-polylang')}</strong>\r\n                        <div className=\"inputGroup\">\r\n                            <button id=\"local_ai_translator_btn\" class=\"atfp-service-btn button button-primary\" data-service=\"localAiTranslator\" data-service-label=\"Local AI Translator\" onClick={fetchContent}>{__(\"Local AI Translator\", 'automatic-translations-for-polylang')}</button>\r\n                            <br/><a href=\"https://developer.chrome.com/docs/ai/translator-api\" target=\"_blank\">Powered by  AI Translate API</a>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"modal-footer\">\r\n                            <button className=\"atfp-setting-close\" onClick={() => setSettingVisibility(false)}>{__(\"Close\", 'automatic-translations-for-polylang')}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PopupModal;","import { useState } from \"react\";\r\nimport FetchPost from \"../fetch-post\";\r\nconst { __ } = wp.i18n;\r\nconst { select } = wp.data;\r\n\r\nconst StringPopUpBody = (props) => {\r\n\r\n    const { service: service, serviceLabel: serviceLabel } = props;\r\n    const [stringAvality, setStringAvality] = useState(false);\r\n\r\n    let totalWordCount = 0;\r\n    /**\r\n     * Updates the post content with the provided content.\r\n     * @param {string} content - The content to update the post with.\r\n     */\r\n    const updatePostContent = (content) => {\r\n        props.updatePostContent(content);\r\n        const translationEntry = select(\"block-atfp/translate\").getTranslationEntry();\r\n\r\n        const totalString = Object.values(translationEntry).filter(data => data.source !== undefined && /[\\p{L}\\p{N}]/gu.test(data.source));\r\n\r\n        if (Object.keys(totalString).length > 0) {\r\n            setStringAvality(true);\r\n        } else {\r\n            setStringAvality(false);\r\n        }\r\n    }\r\n\r\n    const updateTranslateContent = (entries) => {\r\n        if (Object.getPrototypeOf(entries) === Object.prototype && entries.stringRenderComplete === true) {\r\n            props.stringCountHandler(totalWordCount);\r\n            return;\r\n        }\r\n        \r\n        let entrie = entries.join(\" \");\r\n\r\n        if (undefined === entrie || entrie.trim() === '') {\r\n            return;\r\n        };\r\n\r\n        entrie = entrie.replace(/#atfp_open_translate_span#(.*?)#atfp_close_translate_span#/g, '');\r\n\r\n        const wordCount = entrie.trim().split(/\\s+/).filter(word => /[^\\p{L}\\p{N}]/.test(word)).length;\r\n\r\n        totalWordCount += wordCount;\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-body\">\r\n            <div className=\"atfp_translate_progress\" key={props.modalRender}>{__(\"Automatic translation is in progress....\", 'automatic-translations-for-polylang')}<br />{__(\"It will take few minutes, enjoy ☕ coffee in this time!\", 'automatic-translations-for-polylang')}<br /><br />{__(\"Please do not leave this window or browser tab while translation is in progress...\", 'automatic-translations-for-polylang')}</div>\r\n            <div className={`translator-widget ${service}`} style={{ display: `${stringAvality ? 'block' : 'none'}` }}>\r\n                <h3 class=\"choose-lang\">{__(\"Choose language\", 'automatic-translations-for-polylang')} <span class=\"dashicons-before dashicons-translation\"></span></h3>\r\n                <div className=\"atfp_translate_element_wrapper\">\r\n                    <div id=\"atfp_yandex_translate_element\" style={{ display: `${service === 'yandex' ? 'block' : 'none'}` }}></div>\r\n                    <div id=\"atfp_localAiTranslator_translate_element\" style={{ display: `${service === 'localAiTranslator' ? 'block' : 'none'}` }}></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={`atfp_string_container${!stringAvality ? ' atfp_empty_string' : ''}`}>\r\n                <table className=\"scrolldown\" id=\"stringTemplate\">\r\n                    {stringAvality &&\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"notranslate\">{__(\"S.No\", 'automatic-translations-for-polylang')}</th>\r\n                                <th className=\"notranslate\">{__(\"Source Text\", 'automatic-translations-for-polylang')}</th>\r\n                                <th className=\"notranslate\">{__(\"Translation\", 'automatic-translations-for-polylang')}</th>\r\n                            </tr>\r\n                        </thead>\r\n                    }\r\n                    <tbody>\r\n                        <FetchPost blockRules={props.blockRules} setPostData={updatePostContent} {...props} translateContent={updateTranslateContent} />\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpBody;\r\n","import translatePost from \"../component/createTranslatedPost\";\r\nimport StringPopUpNotice from \"./notice\";\r\nconst { sprintf, __ } = wp.i18n;\r\n\r\nconst StringPopUpFooter = (props) => {\r\n\r\n    /**\r\n     * Function to close the popup modal.\r\n     */\r\n    const closeModal = () => {\r\n        props.setPopupVisibility(false);\r\n    }\r\n\r\n    /**\r\n     * Function to create a translated post using the provided content, translation, block rules, and modal close function.\r\n     */\r\n    const createTranslatedPost = () => {\r\n        const postContent = props.postContent;\r\n        const blockRules = props.blockRules;\r\n        const modalClose = closeModal;\r\n\r\n        translatePost({ postContent: postContent, modalClose: modalClose, blockRules: blockRules });\r\n        props.pageTranslate(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-footer\" key={props.modalRender}>\r\n            {!props.translateStatus && props.stringCount && <StringPopUpNotice className=\"atfp_string_count\">{sprintf(__(\"Automated translation complete: %s words translated, saving valuable time and resources.\", 'automatic-translations-for-polylang'), props.stringCount)}</StringPopUpNotice>}\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translateStatus} onClick={createTranslatedPost}>{__(\"Update Content\", 'automatic-translations-for-polylang')}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpFooter;","import translatePost from \"../component/createTranslatedPost\";\r\nconst { __ } = wp.i18n;\r\n\r\nconst StringPopUpHeader = (props) => {\r\n\r\n    /**\r\n     * Function to close the popup modal.\r\n     */\r\n    const closeModal = () => {\r\n        props.setPopupVisibility(false);\r\n    }\r\n\r\n    /**\r\n     * Function to create a translated post using the provided content, translation settings, block rules, and modal close function.\r\n     */\r\n    const createTranslatedPost = () => {\r\n        const postContent = props.postContent;\r\n        const blockRules = props.blockRules;\r\n        const modalClose = closeModal;\r\n\r\n        translatePost({ postContent: postContent, modalClose: modalClose, blockRules: blockRules });\r\n\r\n        props.pageTranslate(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-header\" key={props.modalRender}>\r\n            <span className=\"close\" onClick={closeModal}>&times;</span>\r\n            <h2 className=\"notranslate\">{__(\"Step 2 - Start Automatic Translation Process\", 'automatic-translations-for-polylang')}</h2>\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translateStatus} onClick={createTranslatedPost}>{__(\"Update Content\", 'automatic-translations-for-polylang')}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpHeader;","import { useEffect, useState } from \"@wordpress/element\";\r\nimport StringPopUpHeader from \"./header\";\r\nimport StringPopUpBody from \"./body\";\r\nimport StringPopUpFooter from \"./footer\";\r\nimport TranslateService from \"../component/TranslateProvider\";\r\n\r\nconst popStringModal = (props) => {\r\n    const [popupVisibility, setPopupVisibility] = useState(props.visibility);\r\n    const [refPostData, setRefPostData] = useState('');\r\n    const [translatePending, setTranslatePending] = useState(true);\r\n    const [translateObj, setTranslateObj] = useState({});\r\n    const [stringCount, setStringCount] = useState(false);\r\n\r\n    const stringCountHandler = (number) => {\r\n        if (popupVisibility) {\r\n            setStringCount(number);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the post content data.\r\n     * @param {string} data - The data to set as the post content.\r\n     */\r\n    const updatePostContentHandler = (data) => {\r\n        setRefPostData(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the fetch state.\r\n     * @param {boolean} state - The state to update the fetch with.\r\n     */\r\n    const setPopupVisibilityHandler = (state) => {\r\n\r\n        if (props.service === 'yandex') {\r\n            document.querySelector('#atfp_yandex_translate_element #yt-widget .yt-button__icon.yt-button__icon_type_right')?.click();\r\n        }\r\n\r\n        setTranslatePending(true);\r\n        setPopupVisibility(false);\r\n        props.updateFetch(state);\r\n    }\r\n\r\n    const translateStatusHandler = () => {\r\n        setTranslatePending(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('translate', 'no');\r\n        document.body.classList.add('notranslate');\r\n\r\n        /**\r\n         * Calls the translate service provider based on the service type.\r\n         * For example, it can call services like yandex Translate.\r\n        */\r\n        const service = props.service;\r\n        const id = `atfp_${service}_translate_element`;\r\n        if (undefined === translateObj[service] && true !== translateObj[service] && refPostData && stringCount) {\r\n            setTranslateObj(prev => { return { ...prev, [service]: true } });\r\n            TranslateService[service]({ sourceLang: props.sourceLang, targetLang: props.targetLang, translateStatus: translateStatusHandler, ID: id });\r\n        }\r\n    }, [props.service, refPostData, stringCount]);\r\n\r\n    useEffect(() => {\r\n        setPopupVisibility(true);\r\n        setTimeout(() => {\r\n            const stringModal = document.querySelector('.atfp_string_container');\r\n            if (stringModal) {\r\n                stringModal.scrollTop = 0\r\n            };\r\n        })\r\n    }, [props.modalRender])\r\n\r\n    return (\r\n        <>\r\n            <div class=\"modal-container\" style={{ display: popupVisibility ? 'flex' : 'none' }}>\r\n                <div class=\"modal-content\">\r\n                    <StringPopUpHeader modalRender={props.modalRender} setPopupVisibility={setPopupVisibilityHandler} postContent={refPostData} blockRules={props.blockRules} translateStatus={translatePending} pageTranslate={props.pageTranslate} />\r\n                    <StringPopUpBody {...props} updatePostContent={updatePostContentHandler} blockRules={props.blockRules} stringCountHandler={stringCountHandler} />\r\n                    <StringPopUpFooter modalRender={props.modalRender} setPopupVisibility={setPopupVisibilityHandler} postContent={refPostData} blockRules={props.blockRules} translateStatus={translatePending} pageTranslate={props.pageTranslate} stringCount={stringCount} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default popStringModal;","const StringPopUpNotice = (props) => {\r\n    return (\r\n        <div className={`notice inline notice-info is-dismissible ${props.className}`}>\r\n            {Array.isArray(props.children) ? props.children.join(' ') : props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpNotice;","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import PopupModal from './popmodel';\r\nimport './global-store';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst init = () => {\r\n  let atfpModals = new Array();\r\n  const atfpSettingModalWrp = '<!-- The Modal --><div id=\"atfp-setting-modal\"></div>';\r\n  const atfpStringModalWrp = '<div id=\"atfp_strings_model\" class=\"modal atfp_custom_model\"></div>';\r\n\r\n  atfpModals.push(atfpSettingModalWrp, atfpStringModalWrp);\r\n\r\n  atfpModals.forEach(modal => {\r\n    document.body.insertAdjacentHTML('beforeend', modal);\r\n  });\r\n}\r\n\r\nconst App = () => {\r\n  const [pageTranslate, setPageTranslate] = useState(false);\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const targetLang = urlParams.get('new_lang');\r\n  const postId = urlParams.get('from_post');\r\n  const postType = urlParams.get('post_type');\r\n\r\n  const handlePageTranslate = (status) => {\r\n    setPageTranslate(status);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pageTranslate) {\r\n      const metaFieldBtn = document.querySelector('input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n      if (metaFieldBtn) {\r\n        metaFieldBtn.disabled = true;\r\n      }\r\n    }\r\n  }, [pageTranslate]);\r\n\r\n  return (\r\n    <>\r\n      {!pageTranslate && <PopupModal pageTranslate={handlePageTranslate} postId={postId} targetLang={targetLang} postType={postType} />}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n * Creates a message popup based on the post type and target language.\r\n * @returns {HTMLElement} The created message popup element.\r\n */\r\nconst createMessagePopup = () => {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const postType = urlParams.get('post_type');\r\n  const targetLang = urlParams.get('new_lang');\r\n  const targetLangName = atfp_ajax_object.languageObject[targetLang];\r\n\r\n  const messagePopup = document.createElement('div');\r\n  messagePopup.id = 'atfp-modal-open-warning-wrapper';\r\n  messagePopup.innerHTML = `\r\n    <div class=\"modal-container\" style=\"display: flex\">\r\n      <div class=\"modal-content\">\r\n        <p>Would you like to duplicate your original ${postType} content and have it automatically translated into ${targetLangName}?</p>\r\n        <div>\r\n          <button data-value=\"yes\">Yes</button>\r\n          <button data-value=\"no\">No</button>\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n  return messagePopup;\r\n};\r\n\r\n/**\r\n * Inserts the message popup into the DOM.\r\n */\r\nconst insertMessagePopup = () => {\r\n  const targetElement = document.getElementById('atfp-setting-modal');\r\n  const messagePopup = createMessagePopup();\r\n  document.body.insertBefore(messagePopup, targetElement);\r\n};\r\n\r\nwindow.addEventListener('load', () => {\r\n\r\n  // Append app root wrapper in body\r\n  init();\r\n\r\n  insertMessagePopup();\r\n\r\n  wp.element.render(<App />, document.getElementById('atfp-setting-modal'));\r\n});\r\n"],"names":["FilterBlockNestedAttr","idsArr","attrObj","blockAttr","callBack","childAttr","idArr","filterObj","Object","keys","map","key","filterObjType","newIdArr","Array","childAttrArray","attrFilter","dynamicBlockAttr","forEach","getPrototypeOf","prototype","_","index","nestedId","push","typeCheck","FilterTargetContent","props","wrapFirstAndMatchingClosingTag","html","tempElement","document","createElement","innerHTML","firstElement","firstElementChild","childElements","children","length","i","element","filterContent","outerHTML","firstElementOpeningTag","match","openTagName","tagName","toLowerCase","closingTagName","RegExp","closingTagMatch","wrappedFirstTag","firstElementHtml","openTag","closeTag","splitContent","string","pattern","matches","split","filter","Boolean","output","trim","filterSourceData","replaceInnerTextWithSpan","doc","childElementsReplace","textNode","createTextNode","replaceWith","innerText","content","service","translateContent","currentIndex","totalString","stringRenderComplete","notTranslatePattern","replacePlaceholderPattern","updatedContent","replace","React","Fragment","data","notTranslate","test","className","translate","YandexTranslater","localAiTranslator","yandex","ChromeAiTranslator","__","dispatch","wp","console","log","targetLangName","atfp_ajax_object","languageObject","targetLang","startTranslation","stringContainer","jQuery","scrollHeight","fadeIn","completeTranslation","setTimeout","translateStatus","fadeOut","languageError","beforeTranslate","ele","scrollStringContainer","position","scrollTop","stringContainerPosition","getBoundingClientRect","eleTopPosition","closest","offsetTop","containerHeight","height","y","offsetHeight","afterTranslate","translatedText","dataset","type","stringType","sourceText","querySelector","action","contentSaveTranslate","group","groupEnd","TranslateProvider","mainWrapperSelector","btnSelector","ID","btnClass","btnText","stringSelector","progressBarSelector","sourceLanguage","sourceLang","targetLanguage","targetLanguageLabel","onStartTranslationProcess","onComplete","onLanguageError","onBeforeTranslate","onAfterTranslate","hasOwnProperty","init","options","selfObject","extraData","constructor","languageSupported","langStatus","Promise","resolve","message","continueTranslation","stopTranslation","reInit","appendBtn","translationStart","completedTranslateIndex","completedCharacterCount","translateBtnEvents","addProgressBar","translateBtn","append","supportedLanguages","lang","self","translation","includes","defaultLangCode","defaultLang","mapLanguageCode","canTranslate","e","off","prop","on","startTranslationProcess","translateStringEle","stringTranslation","translatedStringsCount","code","languageMap","langCode","totalStringCount","from","reduce","a","b","translator","createTranslator","orignalText","originalString","childNodes","child","nodeType","nodeValue","stringTranslationBatch","updateProgressBar","characterCount","find","show","text","translatedString","progressBar","progress","decimalValue","toString","formattedProgress","parseInt","css","SaveTranslationHandler","yandexWidget","win","nav","params","namespace","util","keycode","ESCAPE","getRequest","XDomainRequest","XMLHttpRequest","loadScript","src","parent","callback","script","addEventListener","onLoad","removeEventListener","appendChild","loadResource","url","request","onload","responseText","open","send","getStyleList","value","getAttribute","hasStyleName","name","list","indexOf","addStyleName","setAttribute","join","removeStyleName","splice","isSupportedBrowser","compatMode","Button","contentElement","event","onClick","_element","_contentElement","setText","textContent","Select","form","itemName","reset","target","onSelect","alert","checked","onChange","_form","_itemName","isHidden","hasAttribute","getItems","getValue","n","items","setValue","setHidden","hidden","onHiddenChange","Widget","active","select","storage","autoMode","pageLang","userLang","leftButton","rightButton","closeButton","_pageLang","_translator","onStateChange","enable","setState","docElem","documentElement","formRect","focus","right","pageXOffset","scrollLeft","Math","max","clientWidth","scrollWidth","bottom","pageYOffset","clientHeight","keyCode","abort","hasState","undo","undefined","defaultcode","Storage","_name","_data","JSON","parse","localStorage","error","stringify","wrapper","getElementById","widgetId","initWidget","widgetTheme","language","userLanguage","PageTranslator","srv","autoSync","maxPortionLength","readyState","globalObj","window","navigator","yt","languages","createBlock","blocks","filterTranslateAttr","block","blockParseRules","filterAttrArr","values","attributes","blockId","clientId","updateNestedAttribute","obj","path","newObj","current","richText","RichTextData","updateTranslatedAttr","filterAttrObj","childIdArr","uniqueId","blockAttrContent","originalHTML","filterKey","getTranslatedString","createTranslatedBlock","childBlock","blockRules","blockName","blockTranslateName","AtfpBlockParseRules","attribute","translatedBlock","newBlock","cretaeChildBlock","innerBlocks","createBlocks","parentBlock","insertBlock","translatePost","editPost","modalClose","postContent","postDataUpdate","editPostData","sourceData","postContentUpdate","postContentData","contentIndex","filterAttr","saveTranslatedAttr","contentSaveSource","getTranslateString","childBlockAttributesContent","blockAttributeContent","parseBlock","saveTranslation","ScrollAnimation","scrollSpeed","startTime","startScrollTop","animateScroll","currentTime","performance","now","duration","scrollTarget","scrollPosition","translateData","source","updateTranslatedContent","container","translatedData","querySelectorAll","onCompleteTranslation","style","display","animation","body","top","saveButton","removeAttribute","classList","add","remove","translateComplete","ceil","isScrolledToBottom","useEffect","useState","i18n","FetchPost","setTranslateContent","stringAvality","setStringAvality","apiUrl","ajax_url","apiSendData","postId","local","current_local","atfp_nonce","ajax_nonce","action_fetch","fetch","method","headers","URLSearchParams","then","response","json","post_data","setPostData","translationEntry","getTranslationEntry","catch","fetchKey","sNo","class","id","AtfpActionTypes","titleSaveSource","sourceTitle","titleSaveTranslate","traslatedTitle","excerptSaveSource","sourceExcerpt","excerptSaveTranslate","traslatedExcerpt","sourceContent","traslatedContent","reducer","actions","selectors","createReduxStore","register","store","TranslateDefaultState","title","excerpt","state","translateEntry","newIndex","ReactDOM","PopStringModal","yandexLanguage","sprintf","PopupModal","fetchStatus","setFetchStatus","targetBtn","setTargetBtn","setBlockRules","modalRender","setModalRender","settingVisibility","setSettingVisibility","source_lang","sourceLangName","imgFolder","atfp_url","yandexSupport","action_block_rules","updateFetch","openModalOnLoadHandler","preventDefault","btnElement","visibility","firstRenderBtns","metaFieldBtn","prev","btn","serviceLabel","parentWrp","render","pageTranslate","fetchContent","targetElement","contains","postType","marginBottom","disabled","href","alt","margin","color","StringPopUpBody","totalWordCount","updatePostContent","updateTranslateContent","entries","stringCountHandler","entrie","wordCount","word","_extends","StringPopUpNotice","StringPopUpFooter","closeModal","setPopupVisibility","createTranslatedPost","stringCount","StringPopUpHeader","TranslateService","popStringModal","popupVisibility","refPostData","setRefPostData","translatePending","setTranslatePending","translateObj","setTranslateObj","setStringCount","number","updatePostContentHandler","setPopupVisibilityHandler","click","translateStatusHandler","stringModal","isArray","atfpModals","atfpSettingModalWrp","atfpStringModalWrp","modal","insertAdjacentHTML","App","setPageTranslate","urlParams","location","search","get","handlePageTranslate","status","createMessagePopup","messagePopup","insertMessagePopup","insertBefore"],"sourceRoot":""}