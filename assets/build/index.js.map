{"version":3,"file":"index.js","mappings":"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","sources":["webpack://automatic-translation-for-polylang/./src/component/FilterTargetContent/index.js","webpack://automatic-translation-for-polylang/./src/component/TranslateProvider/index.js","webpack://automatic-translation-for-polylang/./src/component/TranslateProvider/yandex/index.js","webpack://automatic-translation-for-polylang/./src/component/createTranslatedPost/createBlock.js","webpack://automatic-translation-for-polylang/./src/component/createTranslatedPost/index.js","webpack://automatic-translation-for-polylang/./src/component/storeSourceString/index.js","webpack://automatic-translation-for-polylang/./src/component/storeTranslatedString/index.js","webpack://automatic-translation-for-polylang/./src/fetch-post.js","webpack://automatic-translation-for-polylang/./src/global-store/actions.js","webpack://automatic-translation-for-polylang/./src/global-store/index.js","webpack://automatic-translation-for-polylang/./src/global-store/reducer.js","webpack://automatic-translation-for-polylang/./src/global-store/selectors.js","webpack://automatic-translation-for-polylang/./src/global-store/types.js","webpack://automatic-translation-for-polylang/./src/popmodel.js","webpack://automatic-translation-for-polylang/./src/popupStringModal/body.js","webpack://automatic-translation-for-polylang/./src/popupStringModal/footer.js","webpack://automatic-translation-for-polylang/./src/popupStringModal/header.js","webpack://automatic-translation-for-polylang/./src/popupStringModal/index.js","webpack://automatic-translation-for-polylang/./src/popupStringModal/notice.js","webpack://automatic-translation-for-polylang/external window \"React\"","webpack://automatic-translation-for-polylang/external window \"ReactDOM\"","webpack://automatic-translation-for-polylang/external window [\"wp\",\"data\"]","webpack://automatic-translation-for-polylang/external window [\"wp\",\"element\"]","webpack://automatic-translation-for-polylang/webpack/bootstrap","webpack://automatic-translation-for-polylang/webpack/runtime/compat get default export","webpack://automatic-translation-for-polylang/webpack/runtime/define property getters","webpack://automatic-translation-for-polylang/webpack/runtime/hasOwnProperty shorthand","webpack://automatic-translation-for-polylang/webpack/runtime/make namespace object","webpack://automatic-translation-for-polylang/./src/index.js"],"sourcesContent":["const FilterTargetContent = (props) => {\r\n\r\n    /**\r\n     * Wraps the first element and its matching closing tag with translation spans.\r\n     * If no elements are found, returns the original HTML.\r\n     * @param {string} html - The HTML string to process.\r\n     * @returns {string} The modified HTML string with wrapped translation spans.\r\n     */\r\n    const wrapFirstAndMatchingClosingTag = (html) => {\r\n        // Create a temporary element to parse the HTML string\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = html;\r\n\r\n        // Get the first element\r\n        const firstElement = tempElement.firstElementChild;\r\n\r\n        if (!firstElement) {\r\n            return html; // If no elements, return the original HTML\r\n        }\r\n\r\n        let childElements = firstElement.children;\r\n        const length = childElements.length;\r\n        if (length > 0) {\r\n            for (let i = 0; i < length; i++) {\r\n                let element = childElements[i];\r\n                let filterContent = wrapFirstAndMatchingClosingTag(element.outerHTML);\r\n                element.outerHTML = filterContent;\r\n            }\r\n        }\r\n\r\n        // Get the opening tag of the first element\r\n        // const firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n        const firstElementOpeningTag = firstElement.outerHTML.match(/^<[^>]+>/)[0];\r\n\r\n        // Check if the first element has a corresponding closing tag\r\n        const openTagName = firstElement.tagName.toLowerCase();\r\n        const closingTagName = new RegExp(`<\\/${openTagName}>`, 'i');\r\n\r\n        // Check if the inner HTML contains the corresponding closing tag\r\n        const closingTagMatch = firstElement.outerHTML.match(closingTagName);\r\n\r\n        // Wrap the style element\r\n        if (firstElementOpeningTag === '<style>') {\r\n            let wrappedFirstTag = `#atfp_open_translate_span#${firstElement.outerHTML}#atfp_close_translate_span#`;\r\n            return wrappedFirstTag;\r\n        }\r\n\r\n        const firstElementHtml = firstElement.innerHTML;\r\n        firstElement.innerHTML = '';\r\n\r\n        let openTag = `#atfp_open_translate_span#${firstElementOpeningTag}#atfp_close_translate_span#`;\r\n        let closeTag = '';\r\n        let filterContent = '';\r\n\r\n        if (closingTagMatch) {\r\n            closeTag = `#atfp_open_translate_span#</${openTagName}>#atfp_close_translate_span#`;\r\n        }\r\n\r\n        if ('' !== firstElementHtml) {\r\n            if ('' !== openTag) {\r\n                filterContent = openTag + firstElementHtml;\r\n            }\r\n            if ('' !== closeTag) {\r\n                filterContent += closeTag;\r\n            }\r\n        } else {\r\n            filterContent = openTag + closeTag;\r\n        }\r\n\r\n        firstElement.outerHTML = filterContent;\r\n\r\n        // Return the modified HTML\r\n        return tempElement.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Splits the content string based on a specific pattern.\r\n     * @param {string} string - The content string to split.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const splitContent = (string) => {\r\n        const pattern = /(#atfp_open_translate_span#.*?#atfp_close_translate_span#)|'/;\r\n        const matches = string.split(pattern).filter(Boolean);\r\n\r\n        // Remove empty strings from the result\r\n        const output = matches.filter(match => match.trim() !== '');\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * Replaces the inner text of HTML elements with span elements for translation.\r\n     * @param {string} string - The HTML content string to process.\r\n     * @returns {Array} An array of strings after splitting based on the pattern.\r\n     */\r\n    const filterSourceData = (string) => {\r\n        function replaceInnerTextWithSpan(doc) {\r\n            let childElements = doc.children;\r\n\r\n            const childElementsReplace = () => {\r\n                if (childElements.length > 0) {\r\n                    let element = childElements[0];\r\n                    let filterContent = wrapFirstAndMatchingClosingTag(element.outerHTML);\r\n                    const textNode = document.createTextNode(filterContent);\r\n                    element.replaceWith(textNode);\r\n                    childElementsReplace();\r\n                }\r\n            }\r\n            childElementsReplace();\r\n            return doc;\r\n        }\r\n\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = string;\r\n        replaceInnerTextWithSpan(tempElement);\r\n\r\n        return splitContent(tempElement.innerText);\r\n    }\r\n\r\n    /**\r\n     * The content to be filtered based on the service type.\r\n     * If the service is 'yandex', the content is filtered using filterSourceData function, otherwise, the content remains unchanged.\r\n     */\r\n    const content = 'yandex' === props.service ? filterSourceData(props.content) : props.content;\r\n\r\n    props.translateContent(content);\r\n\r\n    if (props.currentIndex === props.totalString) {\r\n        props.translateContent({ stringRenderComplete: true });\r\n    }\r\n\r\n    /**\r\n     * Regular expression pattern to match the span elements that should not be translated.\r\n     */\r\n    const notTranslatePattern = /#atfp_open_translate_span#[\\s\\S]*?#atfp_close_translate_span#/;\r\n\r\n    /**\r\n     * Regular expression pattern to replace the placeholder span elements.\r\n     */\r\n    const replacePlaceholderPattern = /#atfp_open_translate_span#|#atfp_close_translate_span#/g;\r\n\r\n    const filterContent = content => {\r\n        const updatedContent = content.replace(replacePlaceholderPattern, '');\r\n        return updatedContent;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {'yandex' === props.service ?\r\n                content.map((data, index) => {\r\n                    const notTranslate = notTranslatePattern.test(data);\r\n                    if (notTranslate) {\r\n                        return <span key={index} className=\"notranslate atfp-notraslate-tag\" translate=\"no\">{filterContent(data)}</span>;\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                })\r\n                : content}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FilterTargetContent;","import YandexTranslater from \"./yandex\";\r\n\r\n/**\r\n * Provides translation services using Yandex Translate.\r\n */\r\nexport default { yandex: YandexTranslater };\r\n","import SaveTranslationHandler from \"../../storeTranslatedString\";\r\n\r\nconst yandexWidget = (win, doc, nav, params, namespace, targetLang, translateStatus) => {\r\n    'use strict';\r\n\r\n    var util = {\r\n        keycode: {\r\n            ESCAPE: 27\r\n        },\r\n        getRequest: function () {\r\n            if (win.XDomainRequest) {\r\n                return new win.XDomainRequest();\r\n            }\r\n            if (win.XMLHttpRequest) {\r\n                return new win.XMLHttpRequest();\r\n            }\r\n            return null;\r\n        },\r\n        loadScript: function (src, parent, callback) {\r\n            var script = doc.createElement('script');\r\n            script.src = src;\r\n\r\n            script.addEventListener('load', function onLoad() {\r\n                this.removeEventListener('load', onLoad, false);\r\n                callback();\r\n            }, false);\r\n\r\n            parent.appendChild(script);\r\n        },\r\n        loadResource: function (url, callback) {\r\n            var request = this.getRequest();\r\n\r\n            if (!request) {\r\n                return null;\r\n            }\r\n\r\n            request.onload = function () {\r\n                callback(this.responseText);\r\n            };\r\n            request.open('GET', url, true);\r\n\r\n            win.setTimeout(function () {\r\n                request.send();\r\n            }, 0);\r\n\r\n            return request;\r\n        },\r\n        getStyleList: function (element) {\r\n            var value = element.getAttribute('class');\r\n            if (!value) {\r\n                return [];\r\n            }\r\n            return value.replace(/\\s+/g, ' ').trim().split(' ');\r\n        },\r\n        hasStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            return !!list.length && list.indexOf(name) >= 0;\r\n        },\r\n        addStyleName: function (element, name) {\r\n            var list = this.getStyleList(element);\r\n            list.push(name);\r\n            element.setAttribute('class', list.join(' '));\r\n        },\r\n        removeStyleName: function (element, name) {\r\n            var list = this.getStyleList(element),\r\n                index = list.indexOf(name);\r\n            if (index >= 0) {\r\n                list.splice(index, 1);\r\n                element.setAttribute('class', list.join(' '));\r\n            }\r\n        },\r\n        isSupportedBrowser: function () {\r\n            return 'localStorage' in win &&\r\n                'querySelector' in doc &&\r\n                'addEventListener' in win &&\r\n                'getComputedStyle' in win && doc.compatMode === 'CSS1Compat';\r\n        }\r\n    };\r\n\r\n    // Button\r\n    var Button = function Button(element, contentElement) {\r\n        var self = this;\r\n\r\n        element.addEventListener('click', function (event) {\r\n            self.onClick(event);\r\n        }, false);\r\n\r\n        this._element = element;\r\n        this._contentElement = contentElement || this._element;\r\n    };\r\n\r\n    Button.prototype.onClick = function () { };\r\n\r\n    Button.prototype.setText = function (text) {\r\n        this._contentElement.textContent = text;\r\n        return this;\r\n    };\r\n\r\n    // Select\r\n    var Select = function Select(form, itemName) {\r\n        var self = this;\r\n\r\n        form.reset();\r\n\r\n        form.addEventListener('click', function (event) {\r\n            var target = event.target;\r\n            if ('value' in target) {\r\n                self.onSelect(target.value);\r\n            }\r\n        }, false);\r\n\r\n        form.addEventListener('change', function (event) {\r\n            alert(\"form change state\");\r\n            var target = event.target;\r\n            if (target.checked) {\r\n                self.onChange(target.value);\r\n            }\r\n        }, false);\r\n\r\n        this._form = form;\r\n        this._itemName = itemName;\r\n    };\r\n\r\n    Select.prototype.onSelect = function () { };\r\n\r\n    Select.prototype.onChange = function () { };\r\n\r\n    Select.prototype.isHidden = function () {\r\n        return this._form.hasAttribute('hidden');\r\n    };\r\n\r\n    Select.prototype.getItems = function () {\r\n        return this._form[this._itemName] || [];\r\n    };\r\n\r\n    Select.prototype.getValue = function () {\r\n        var i, n, items = this.getItems();\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].checked) {\r\n                return items[i].value;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    Select.prototype.setValue = function (value) {\r\n        var i, n, items = this.getItems();\r\n        if (value === this.getValue()) {\r\n            return this;\r\n        }\r\n        for (i = 0, n = items.length; i < n; i++) {\r\n            if (items[i].value === value) {\r\n                items[i].checked = true;\r\n                this.onChange(value);\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.setHidden = function (hidden) {\r\n        hidden = !!hidden;\r\n        if (hidden !== this.isHidden()) {\r\n            this._form[(hidden ? 'set' : 'remove') + 'Attribute']('hidden', '');\r\n            this.onHiddenChange(hidden);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Select.prototype.onHiddenChange = function () { };\r\n\r\n    // Widget\r\n    var Widget = function Widget(options) {\r\n        var self = this,\r\n            active,\r\n            select = options.select,\r\n            element = options.element,\r\n            storage = options.storage,\r\n            autoMode = options.autoMode,\r\n            pageLang = options.pageLang,\r\n            userLang = options.userLang,\r\n            translator = options.translator,\r\n            leftButton = options.leftButton,\r\n            rightButton = options.rightButton,\r\n            closeButton = options.closeButton,\r\n            defaultLang;\r\n\r\n        this._element = element;\r\n        this._pageLang = pageLang;\r\n        this._translator = translator;\r\n\r\n        this.onStateChange = function (name, enable) {\r\n            if (name === 'active') {\r\n                storage.setValue('active', enable);\r\n            }\r\n        };\r\n\r\n        select.onSelect = function (lang) {\r\n            this.setHidden(true);\r\n            self.translate(lang);\r\n            SaveTranslationHandler(translateStatus);\r\n        };\r\n\r\n        select.onChange = function (lang) {\r\n            storage.setValue('lang', lang);\r\n            rightButton.setText(lang);\r\n            self.setState('invalid', lang === pageLang);\r\n        };\r\n\r\n        select.onHiddenChange = function (hidden) {\r\n            var docElem = doc.documentElement,\r\n                formRect;\r\n            self.setState('expanded', !hidden);\r\n            if (!hidden) {\r\n                self.setState('right', false)\r\n                    .setState('bottom', false);\r\n                element.focus();\r\n                formRect = this._form.getBoundingClientRect();\r\n\r\n                if (formRect.right + (win.pageXOffset || docElem.scrollLeft) + 1 >= Math.max(docElem.clientWidth, docElem.scrollWidth)) {\r\n                    self.setState('right', true);\r\n                }\r\n\r\n                if (formRect.bottom + (win.pageYOffset || docElem.scrollTop) + 1 >= Math.max(docElem.clientHeight, docElem.scrollHeight)) {\r\n                    self.setState('bottom', true);\r\n                }\r\n            }\r\n        };\r\n\r\n        element.addEventListener('blur', function () {\r\n            select.setHidden(true);\r\n        }, false);\r\n\r\n        element.addEventListener('keydown', function (event) {\r\n            switch (event.keyCode) {\r\n                case util.keycode.ESCAPE:\r\n                    select.setHidden(true);\r\n                    break;\r\n            }\r\n        }, false);\r\n\r\n        translator.on('error', function () {\r\n            this.abort();\r\n            self.setState('busy', false)\r\n                .setState('error', true);\r\n        });\r\n\r\n        translator.on('progress', function (progress) {\r\n            switch (progress) {\r\n                case 0:\r\n                    self.setState('busy', true)\r\n                        .setState('active', true);\r\n                    break;\r\n\r\n                case 100:\r\n                    self.setState('done', true)\r\n                        .setState('busy', false);\r\n                    break;\r\n            }\r\n        });\r\n\r\n\r\n        leftButton.onClick = function () {\r\n            select.setHidden(true);\r\n            self.translate(select.getValue());\r\n            SaveTranslationHandler(translateStatus);\r\n        };\r\n\r\n        rightButton.onClick = function () {\r\n            if (self.hasState('active')) {\r\n                translator.undo();\r\n                self.setState('busy', false)\r\n                    .setState('done', false)\r\n                    .setState('error', false)\r\n                    .setState('active', false);\r\n            } else {\r\n                select.setHidden(!select.isHidden());\r\n            }\r\n        };\r\n\r\n        closeButton.onClick = function () {\r\n            select.setHidden(true);\r\n        };\r\n\r\n        if (targetLang != undefined) {\r\n            var defaultcode = targetLang;\r\n        }\r\n        switch (defaultcode) {\r\n            case 'nb':\r\n                defaultLang = 'no';\r\n                break;\r\n\r\n            case 'nn':\r\n                defaultLang = 'no';\r\n                break;\r\n            default:\r\n                defaultLang = defaultcode;\r\n                break;\r\n        }\r\n        if (defaultLang) {\r\n            select.setValue(defaultLang);\r\n            active = storage.getValue('active');\r\n        }\r\n    };\r\n    Widget.prototype.hasState = function (name) {\r\n        return util.hasStyleName(this._element, 'yt-state_' + name);\r\n    };\r\n\r\n    Widget.prototype.setState = function (name, enable) {\r\n        var hasState = this.hasState(name);\r\n        enable = !!enable;\r\n        if (enable === hasState) {\r\n            return this;\r\n        }\r\n        util[(enable ? 'add' : 'remove') + 'StyleName'](\r\n            this._element, 'yt-state_' + name\r\n        );\r\n        this.onStateChange(name, enable);\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.translate = function (targetLang) {\r\n        if (targetLang && !this.hasState('active')) {\r\n            this._translator.translate(this._pageLang, targetLang);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Widget.prototype.onStateChange = function () { };\r\n\r\n    // Storage\r\n    var Storage = function Storage(name) {\r\n        this._name = name;\r\n        try {\r\n            this._data = win.JSON.parse(win.localStorage[name]);\r\n        } catch (error) {\r\n            this._data = {};\r\n        }\r\n    };\r\n\r\n    Storage.prototype.getValue = function (prop) {\r\n        return this._data[prop];\r\n    };\r\n\r\n    Storage.prototype.setValue = function (prop, value) {\r\n        this._data[prop] = value;\r\n        try {\r\n            win.localStorage[this._name] = win.JSON.stringify(this._data);\r\n        } catch (error) { }\r\n    };\r\n\r\n    var wrapper = doc.getElementById(params.widgetId);\r\n\r\n    if (!wrapper || !util.isSupportedBrowser()) {\r\n        return;\r\n    }\r\n    var initWidget = function () {\r\n        util.loadScript('https://yastatic.net/s3/translate/v21.4.7/js/tr_page.js', wrapper, function () {\r\n            util.loadResource('https://translate.yandex.net/website-widget/v1/widget.html',\r\n                function (responseText) {\r\n                    var element;\r\n                    if (!responseText) {\r\n                        return;\r\n                    }\r\n                    wrapper.innerHTML = responseText;\r\n                    element = wrapper.querySelector('.yt-widget');\r\n                    if (params.widgetTheme) {\r\n                        element.setAttribute('data-theme', params.widgetTheme);\r\n                    }\r\n                    new Widget({\r\n                        select: new Select(element.querySelector('.yt-listbox'), 'yt-lang'),\r\n                        element: element,\r\n                        storage: new Storage('yt-widget'),\r\n                        autoMode: params.autoMode === 'true',\r\n                        pageLang: params.pageLang,\r\n                        userLang: (nav.language || nav.userLanguage || '').split('-')[0],\r\n                        translator: new namespace.PageTranslator({\r\n                            srv: 'tr-url-widget',\r\n                            url: 'https://translate.yandex.net/api/v1/tr.json/translate',\r\n                            autoSync: true,\r\n                            maxPortionLength: 600\r\n                        }),\r\n                        leftButton: new Button(element.querySelector('.yt-button_type_left')),\r\n                        rightButton: new Button(\r\n                            element.querySelector('.yt-button_type_right'),\r\n                            element.querySelector('.yt-button_type_right > .yt-button__text')\r\n                        ),\r\n                        closeButton: new Button(element.querySelector('.yt-button_type_close'))\r\n                    });\r\n                }\r\n            );\r\n        });\r\n    };\r\n    if (doc.readyState === 'complete' || doc.readyState === 'interactive') {\r\n        initWidget();\r\n    } else {\r\n        doc.addEventListener('DOMContentLoaded', initWidget, false);\r\n    }\r\n};\r\n\r\nconst YandexTranslater = (props) => {\r\n    const globalObj = window;\r\n    yandexWidget(globalObj, globalObj.document, globalObj.navigator, { \"pageLang\": props.sourceLang, \"autoMode\": \"false\", \"widgetId\": \"atfp_yandex_translate_element\", \"widgetTheme\": \"light\" }, globalObj.yt = globalObj.yt || {}, props.targetLang, props.translateStatus);\r\n}\r\n\r\nexport default YandexTranslater;","const { createBlock } = wp.blocks;\r\nconst { dispatch, select } = wp.data;\r\n\r\n/**\r\n * Filters and translates attributes of a block based on provided rules.\r\n * \r\n * @param {Object} block - The block to filter and translate attributes for.\r\n * @param {Object} blockParseRules - The rules for parsing the block.\r\n * @param {Object} replaceAttrRules - The rules for replacing attributes.\r\n * @returns {Object} The updated block with translated attributes.\r\n */\r\nconst filterTranslateAttr = (block, blockParseRules, replaceAttrRules) => {\r\n    const filterAttrArr = Object.values(blockParseRules);\r\n    const blockAttr = block.attributes;\r\n    const blockId = block.clientId;\r\n\r\n    // Function to update a nested attribute in the block\r\n    const updateNestedAttribute = (obj, path, value) => {\r\n        const attrReplaceKey = Object.keys(replaceAttrRules);\r\n        const attrKeyJoin = path.slice(-2).join('_');\r\n        let attrReplace = false;\r\n\r\n        if (attrReplaceKey.includes(attrKeyJoin)) {\r\n            const filterReplaceBlockName = replaceAttrRules[attrKeyJoin];\r\n            if (filterReplaceBlockName.includes(block.name)) {\r\n                path.pop()\r\n                attrReplace = true;\r\n            }\r\n        }\r\n        const newObj = { ...obj };\r\n        let current = newObj;\r\n        for (let i = 0; i < path.length - 1; i++) {\r\n            if (Object.getPrototypeOf(current[path[i]]) === Array.prototype) {\r\n                current[path[i]] = [...current[path[i]]];\r\n            } else {\r\n                current[path[i]] = { ...current[path[i]] }; // Create a shallow copy\r\n            }\r\n            current = current[path[i]];\r\n        }\r\n\r\n        if (attrReplace) {\r\n            current[path[path.length - 1]] = value.replace(/(?<!\\\\)\"|\\\\\"/g, \"'\");\r\n        } else {\r\n            current[path[path.length - 1]] = value;\r\n        }\r\n        return newObj;\r\n    };\r\n\r\n    /**\r\n     * Updates translated attributes based on provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs to update attributes for.\r\n     * @param {Object|Array} filterAttrObj - The filter attribute object to apply.\r\n     */\r\n    const updateTranslatedAttr = (idArr, filterAttrObj) => {\r\n\r\n        if (true === filterAttrObj) {\r\n\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr[key];\r\n            });\r\n\r\n            const blockAttrContent = dynamicBlockAttr;\r\n\r\n            if (undefined !== blockAttrContent && blockAttrContent.trim() !== '') {\r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n                let translateContent = '';\r\n\r\n                if (!/[^\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    translateContent = blockAttrContent;\r\n                } else {\r\n                    translateContent = select('block-atfp/translate').getTranslatedString('content', blockAttrContent, filterKey);\r\n                }\r\n\r\n                block.attributes = updateNestedAttribute(block.attributes, newIdArr, translateContent);\r\n            }\r\n        }\r\n\r\n        if (Object.getPrototypeOf(filterAttrObj) === Array.prototype) {\r\n            childAttrArray(idArr, filterAttrObj);\r\n        } else if (Object.getPrototypeOf(filterAttrObj) === Object.prototype) {\r\n            childAttr(idArr, filterAttrObj);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Function to handle updating translated attributes for a single level object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs to update attributes for.\r\n     * @param {Object} filterObj - The filter object containing attributes to update.\r\n     */\r\n    const childAttr = (idArr, filterObj) => {\r\n        Object.keys(filterObj).map(key => {\r\n            let filterObjType = filterObj;\r\n            filterObjType = filterObjType[key];\r\n            const newIdArr = new Array(...idArr, key);\r\n\r\n            updateTranslatedAttr(newIdArr, filterObjType);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Function to handle updating translated attributes for an array of objects.\r\n     * \r\n     * @param {Array} idArr - The array of IDs to update attributes for.\r\n     * @param {Array} attrFilter - The filter array containing attributes to update.\r\n     */\r\n    const childAttrArray = (idArr, attrFilter) => {\r\n        const newIdArr = new Array(...idArr);\r\n        let dynamicBlockAttr = blockAttr;\r\n\r\n        newIdArr.forEach(key => {\r\n            dynamicBlockAttr = dynamicBlockAttr[key];\r\n        });\r\n\r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Object.prototype) {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n\r\n        dynamicBlockAttr.forEach((_, index) => {\r\n            const nestedId = new Array();\r\n            newIdArr.forEach(key => {\r\n                nestedId.push(key);\r\n            });\r\n\r\n            nestedId.push(index);\r\n            updateTranslatedAttr(nestedId, attrFilter[0]);\r\n        });\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            updateTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n\r\n    return block;\r\n}\r\n\r\n/**\r\n * Creates a translated block based on the provided block, child block, translate handler, and block rules.\r\n * If the block name is included in the block rules, it filters and translates the attributes accordingly.\r\n * \r\n * @param {Object} block - The block to create a translated version of.\r\n * @param {Array} childBlock - The child blocks associated with the main block.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @returns {Object} The newly created translated block.\r\n */\r\nconst createTranslatedBlock = (block, childBlock, blockRules) => {\r\n    const { name: blockName, attributes } = block;\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    let attribute = { ...attributes };\r\n    let translatedBlock = block;\r\n    let newBlock = '';\r\n\r\n    if (blockTranslateName.includes(block.name)) {\r\n        translatedBlock = filterTranslateAttr(block, blockRules['AtfpBlockParseRules'][block.name], blockRules.AtfpCoreAttrReplace);\r\n        attribute = translatedBlock.attributes;\r\n    }\r\n\r\n    newBlock = createBlock(blockName, attribute, childBlock);\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates a child block recursively by translating each inner block based on the provided block, translate handler, and block rules.\r\n * \r\n * @param {Object} block - The block to create a child block for.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n * @returns {Object} The newly created translated child block.\r\n */\r\nconst cretaeChildBlock = (block, blockRules) => {\r\n    let childBlock = block.innerBlocks.map(block => {\r\n        if (block.name) {\r\n            const childBlock = cretaeChildBlock(block, blockRules);\r\n            return childBlock;\r\n        }\r\n    });\r\n\r\n    const newBlock = createTranslatedBlock(block, childBlock, blockRules)\r\n\r\n    return newBlock;\r\n}\r\n\r\n/**\r\n * Creates the main blocks based on the provided block, translate handler, and block rules.\r\n * If the block name exists, it creates the main block along with its child blocks and inserts it into the block editor.\r\n * \r\n * @param {Object} block - The main block to create.\r\n * @param {Object} blockRules - The rules for translating blocks.\r\n */\r\nconst createBlocks = (block, blockRules) => {\r\n    const { name: blockName } = block;\r\n    // Create the main block\r\n    if (blockName) {\r\n        let childBlock = block.innerBlocks.map(block => {\r\n            if (block.name) {\r\n                return cretaeChildBlock(block, blockRules);\r\n            }\r\n        })\r\n        const parentBlock = createTranslatedBlock(block, childBlock, blockRules);\r\n\r\n        dispatch('core/block-editor').insertBlock(parentBlock);\r\n\r\n    }\r\n}\r\n\r\nexport default createBlocks;\r\n","import createBlocks from './createBlock';\r\nimport { dispatch, select } from '@wordpress/data';\r\n/**\r\n * Translates the post content and updates the post title, excerpt, and content.\r\n * \r\n * @param {Object} props - The properties containing post content, translation function, and block rules.\r\n */\r\nconst translatePost = (props) => {\r\n    const { editPost } = dispatch('core/editor');\r\n    const { modalClose, postContent } = props;\r\n\r\n    /**\r\n     * Updates the post title and excerpt text based on translation.\r\n     */\r\n    const postDataUpdate = () => {\r\n        const data = {};\r\n        const editPostData = Object.keys(postContent).filter(key => key !== 'content');\r\n\r\n        editPostData.forEach(key => {\r\n            const sourceData = postContent[key];\r\n            if (sourceData.trim() !== '') {\r\n                const translateContent = select('block-atfp/translate').getTranslatedString(key, sourceData);\r\n                data[key] = translateContent;\r\n            }\r\n        });\r\n\r\n        editPost(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the post content based on translation.\r\n     */\r\n    const postContentUpdate = () => {\r\n        const postContentData = postContent.content;\r\n\r\n        if (postContentData.length <= 0) {\r\n            return;\r\n        }\r\n\r\n        Object.values(postContentData).forEach(block => {\r\n            createBlocks(block, props.blockRules);\r\n        });\r\n    }\r\n\r\n    // Update post title and excerpt text\r\n    postDataUpdate();\r\n    // Update post content\r\n    postContentUpdate();\r\n    // Close string modal box\r\n    modalClose();\r\n}\r\n\r\nexport default translatePost;","const { dispatch } = wp.data;\r\n\r\nlet contentIndex = 0;\r\n/**\r\n * Filters and translates attributes of a block.\r\n * \r\n * @param {string} blockId - The ID of the block.\r\n * @param {Object} blockAttr - The attributes of the block.\r\n * @param {Object} filterAttr - The attributes to filter.\r\n */\r\nconst filterTranslateAttr = (blockId, blockAttr, filterAttr) => {\r\n\r\n    const filterAttrArr = Object.values(filterAttr);\r\n\r\n    /**\r\n     * Saves translated attributes based on the provided ID array and filter attribute object.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterAttrObj - The filter attribute object.\r\n     */\r\n    const saveTranslatedAttr = (idArr, filterAttrObj) => {\r\n\r\n        if (true === filterAttrObj) {\r\n            const newIdArr = new Array(...idArr);\r\n            const childIdArr = new Array();\r\n\r\n            let dynamicBlockAttr = blockAttr;\r\n            let uniqueId = blockId;\r\n\r\n            newIdArr.forEach(key => {\r\n                childIdArr.push(key);\r\n                uniqueId += `atfp${key}`;\r\n                dynamicBlockAttr = dynamicBlockAttr[key];\r\n            });\r\n\r\n            const blockAttrContent = dynamicBlockAttr;\r\n\r\n            if (undefined !== blockAttrContent && blockAttrContent.trim() !== '') {\r\n\r\n                let filterKey = uniqueId.replace(/[^\\p{L}\\p{N}]/gu, '');\r\n                if (!/[^\\p{L}\\p{N}]/gu.test(blockAttrContent)) {\r\n                    return false;\r\n                }\r\n                dispatch('block-atfp/translate').contentSaveSource(filterKey, blockAttrContent, contentIndex);\r\n                contentIndex++;\r\n            }\r\n        }\r\n\r\n        if (Object.getPrototypeOf(filterAttrObj) === Array.prototype) {\r\n            childAttrArray(idArr, filterAttrObj);\r\n        } else if (Object.getPrototypeOf(filterAttrObj) === Object.prototype) {\r\n            childAttr(idArr, filterAttrObj);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Iterates over the keys of the filter object and calls saveTranslatedAttr for each key.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Object} filterObj - The filter object to iterate over.\r\n     */\r\n    const childAttr = (idArr, filterObj) => {\r\n        Object.keys(filterObj).map(key => {\r\n            let filterObjType = filterObj;\r\n            filterObjType = filterObjType[key];\r\n            const newIdArr = new Array(...idArr, key);\r\n\r\n            saveTranslatedAttr(newIdArr, filterObjType);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the attributes that are arrays and objects by recursively calling saveTranslatedAttr.\r\n     * \r\n     * @param {Array} idArr - The array of IDs.\r\n     * @param {Array} attrFilter - The filter attribute array.\r\n     */\r\n    const childAttrArray = (idArr, attrFilter) => {\r\n        const newIdArr = new Array(...idArr);\r\n        let dynamicBlockAttr = blockAttr;\r\n\r\n        newIdArr.forEach(key => {\r\n            dynamicBlockAttr = dynamicBlockAttr[key];\r\n        });\r\n\r\n        if (Object.getPrototypeOf(dynamicBlockAttr) === Object.prototype) {\r\n            childAttr(idArr, attrFilter[0]);\r\n            return;\r\n        }\r\n\r\n        dynamicBlockAttr.forEach((_, index) => {\r\n            const nestedId = new Array();\r\n            newIdArr.forEach(key => {\r\n                nestedId.push(key);\r\n            });\r\n\r\n            nestedId.push(index);\r\n            saveTranslatedAttr(nestedId, attrFilter[0]);\r\n        });\r\n    }\r\n\r\n    filterAttrArr.forEach(data => {\r\n        Object.keys(data).forEach(key => {\r\n            const idArr = new Array(key);\r\n            saveTranslatedAttr(idArr, data[key]);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Retrieves the translation string for a block based on block rules and applies translation.\r\n * \r\n * @param {Object} block - The block to translate.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst getTranslateString = (block, blockRules) => {\r\n    const blockTranslateName = Object.keys(blockRules.AtfpBlockParseRules);\r\n\r\n    if (!blockTranslateName.includes(block.name)) {\r\n        return;\r\n    }\r\n\r\n    filterTranslateAttr(block.clientId, block.attributes, blockRules['AtfpBlockParseRules'][block.name]);\r\n}\r\n\r\n/**\r\n * Recursively processes child block attributes for translation.\r\n * \r\n * @param {Array} blocks - The array of blocks to translate.\r\n * @param {Object} blockRules - The rules for translating the blocks.\r\n */\r\nconst childBlockAttributesContent = (blocks, blockRules) => {\r\n    blocks.forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Processes the attributes of a block for translation.\r\n * \r\n * @param {Object} parseBlock - The block to parse for translation.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst blockAttributeContent = (parseBlock, blockRules) => {\r\n    Object.values(parseBlock).forEach(block => {\r\n        getTranslateString(block, blockRules);\r\n        if (block.innerBlocks) {\r\n            childBlockAttributesContent(block.innerBlocks, blockRules);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Saves the translation for a block based on its attributes.\r\n * \r\n * @param {Object} block - The block to save translation for.\r\n * @param {Object} blockRules - The rules for translating the block.\r\n */\r\nconst saveTranslation = (block, blockRules) => {\r\n    Object.keys(block).forEach(key => {\r\n        if (key === 'content') {\r\n            blockAttributeContent(block[key], blockRules);\r\n        } else {\r\n            const action = `${key}SaveSource`;\r\n            dispatch('block-atfp/translate')[action](block[key]);\r\n        }\r\n    });\r\n}\r\n\r\nexport default saveTranslation;","const { dispatch } = wp.data;\r\n\r\nconst ScrollAnimation = (props) => {\r\n    const { element, scrollSpeed } = props;\r\n    const scrollHeight = element.scrollHeight;\r\n\r\n    let startTime = null;\r\n    let startScrollTop = element.scrollTop;\r\n\r\n    const animateScroll = () => {\r\n        const currentTime = performance.now();\r\n        const duration = scrollSpeed; // 10 seconds\r\n        const scrollTarget = scrollHeight + 2000;\r\n\r\n        if (!startTime) {\r\n            startTime = currentTime;\r\n        }\r\n\r\n        const progress = (currentTime - startTime) / duration;\r\n        const scrollPosition = startScrollTop + (scrollTarget - startScrollTop) * progress;\r\n\r\n        element.scrollTop = scrollPosition;\r\n\r\n        if (progress < 1) {\r\n            requestAnimationFrame(animateScroll);\r\n        }\r\n    }\r\n\r\n    animateScroll();\r\n};\r\n\r\n/**\r\n * Saves the translation data by updating the translation content based on the provided translate object and data.\r\n * @param {Object} translateData - The data containing translation information.\r\n */\r\nconst saveTranslation = (translateData) => {\r\n    Object.keys(translateData).map(key => {\r\n        const data = translateData[key];\r\n\r\n        if (data.type !== 'content') {\r\n            const action = `${data.type}SaveTranslate`;\r\n            dispatch('block-atfp/translate')[action](data.translateContent);\r\n        } else {\r\n            dispatch('block-atfp/translate').contentSaveTranslate(key, data.translateContent, data.source);\r\n        }\r\n    });\r\n}\r\n/**\r\n * Updates the translated content based on the provided translation object.\r\n */\r\nconst updateTranslatedContent = () => {\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n    const translatedData = stringContainer.querySelectorAll('td.translate[data-string-type]');\r\n\r\n    const data = {};\r\n\r\n    translatedData.forEach(ele => {\r\n        const translatedText = ele.innerText;\r\n        const key = ele.dataset.key;\r\n        const type = ele.dataset.stringType;\r\n        const sourceText = ele.closest('tr').querySelector('td[data-source=\"source_text\"]').innerText;\r\n\r\n        data[key] = { type: type, translateContent: translatedText, source: sourceText };\r\n    });\r\n\r\n    saveTranslation(data);\r\n}\r\n\r\n/**\r\n * Handles the completion of translation by enabling save button, updating stats, and stopping translation progress.\r\n * @param {HTMLElement} container - The container element for translation.\r\n */\r\nconst onCompleteTranslation = (container) => {\r\n    container.querySelector(\".atfp_translate_progress\").style.display = \"none\";\r\n    container.querySelector(\".atfp_string_container\").style.animation = \"none\";\r\n    document.body.style.top = '0';\r\n\r\n    const saveButton = container.querySelector('button.save_it');\r\n    saveButton.removeAttribute('disabled');\r\n    saveButton.classList.add('translated');\r\n    saveButton.classList.remove('notranslate');\r\n    updateTranslatedContent();\r\n}\r\n\r\n/**\r\n * Automatically scrolls the container and triggers the completion callback when the bottom is reached or certain conditions are met.\r\n * @param {Function} translateStatus - Callback function to execute when translation is deemed complete.\r\n */\r\nconst SaveTranslationHandler = (translateStatus) => {\r\n\r\n    let translateComplete = false;\r\n\r\n    const container = document.getElementById(\"atfp_strings_model\");\r\n    const stringContainer = container.querySelector('.atfp_string_container');\r\n\r\n    stringContainer.scrollTop = 0;\r\n    const scrollHeight = stringContainer.scrollHeight;\r\n\r\n    if (scrollHeight !== undefined && scrollHeight > 100) {\r\n        container.querySelector(\".atfp_translate_progress\").style.display = \"block\";\r\n\r\n        setTimeout(() => {\r\n            const scrollSpeed = Math.floor((scrollHeight / stringContainer?.offsetHeight)) * 2000;\r\n\r\n            ScrollAnimation({ element: stringContainer, scrollSpeed: scrollSpeed });\r\n        }, 2000);\r\n\r\n        stringContainer.addEventListener('scroll', () => {\r\n            var isScrolledToBottom = (stringContainer.scrollTop + stringContainer.clientHeight + 50 >= stringContainer.scrollHeight);\r\n\r\n            if (isScrolledToBottom && !translateComplete) {\r\n                translateStatus();\r\n                onCompleteTranslation(container);\r\n                translateComplete = true;\r\n            }\r\n        });\r\n\r\n        if (stringContainer.clientHeight + 10 >= scrollHeight) {\r\n            setTimeout(() => {\r\n                translateStatus();\r\n                onCompleteTranslation(container);\r\n            }, 1500);\r\n        }\r\n    } else {\r\n        setTimeout(() => {\r\n            translateStatus();\r\n            onCompleteTranslation(container);\r\n        }, 2000);\r\n    }\r\n}\r\n\r\nexport default SaveTranslationHandler;","import { useEffect, useState } from \"@wordpress/element\";\r\nimport saveTranslation from \"./component/storeSourceString\";\r\nimport FilterTargetContent from \"./component/FilterTargetContent\";\r\nconst { __ } = wp.i18n;\r\nconst { parse } = wp.blocks;\r\nconst { select } = wp.data;\r\n\r\nconst FetchPost = (props) => {\r\n    const [translateContent, setTranslateContent] = useState([]);\r\n    const [stringAvality, setStringAvality] = useState(true);\r\n    const blockRules = props.blockRules;\r\n    const apiUrl = atfp_ajax_object.ajax_url;\r\n\r\n    /**\r\n     * Prepare data to send in API request.\r\n     */\r\n    const apiSendData = {\r\n        postId: parseInt(props.postId),\r\n        atfp_nonce: atfp_ajax_object.ajax_nonce,\r\n        action: atfp_ajax_object.action_fetch\r\n    };\r\n\r\n    /**\r\n     * useEffect hook to fetch post data from the specified API endpoint.\r\n     * Parses the response data and updates the state accordingly.\r\n     * Handles errors in fetching post content.\r\n     */\r\n    useEffect(() => {\r\n        fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n            },\r\n            body: new URLSearchParams(apiSendData)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n\r\n                const post_data = data.data;\r\n\r\n                if (post_data.content && post_data.content.trim() !== '') {\r\n                    post_data.content = parse(post_data.content);\r\n                }\r\n                saveTranslation(post_data, blockRules);\r\n                props.setPostData(post_data);\r\n\r\n                const translationEntry = select(\"block-atfp/translate\").getTranslationEntry();\r\n\r\n                const totalString = Object.values(translationEntry).filter(data => data.source !== undefined && /[^\\p{L}\\p{N}]/gu.test(data.source));\r\n                if (Object.keys(totalString).length > 0) {\r\n                    setTranslateContent(translationEntry);\r\n                } else {\r\n                    setStringAvality(false);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }, [props.fetchKey]);\r\n\r\n    let sNo = 0;\r\n\r\n    const totalString = translateContent.filter(data => undefined !== data.source && data.source.trim() !== '').length;\r\n\r\n    return (\r\n        <>\r\n            {translateContent.length > 0 || stringAvality ?\r\n                translateContent.map((data, index) => {\r\n                    return (\r\n                        <>\r\n                            {undefined !== data.source && data.source.trim() !== '' &&\r\n                                <>\r\n                                    <tr key={index}>\r\n                                        <td>{++sNo}</td>\r\n                                        <td data-source=\"source_text\">{data.source}</td>\r\n                                        <td class=\"translate\" translate=\"yes\" data-key={data.id} data-string-type={data.type}>\r\n                                            <FilterTargetContent service={props.service} content={data.source} translateContent={props.translateContent} totalString={totalString} currentIndex={sNo} />\r\n                                        </td>\r\n                                    </tr>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    );\r\n                })\r\n                : <p>{__('No strings are available for translation', 'automatic-translation-for-polylang')}</p>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FetchPost;","import AtfpActionTypes from \"./types\";\r\n\r\nexport const titleSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceTitle,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const titleSaveTranslate = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedTitle,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const excerptSaveSource = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceExcerpt,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const excerptSaveTranslate = (data) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedExcerpt,\r\n        text: data,\r\n    }\r\n};\r\n\r\nexport const contentSaveSource = (id, data, index) => {\r\n    return {\r\n        type: AtfpActionTypes.sourceContent,\r\n        text: data,\r\n        id: id,\r\n        index: index\r\n    }\r\n};\r\n\r\nexport const contentSaveTranslate = (id, data, source) => {\r\n    return {\r\n        type: AtfpActionTypes.traslatedContent,\r\n        text: data,\r\n        id: id,\r\n        source: source\r\n    }\r\n};\r\n","import reducer from \"./reducer\";\r\nimport * as actions from './actions';\r\nimport * as selectors from './selectors';\r\n\r\nconst { createReduxStore, register } = wp.data;\r\n\r\nconst store = createReduxStore('block-atfp/translate', {\r\n    reducer,\r\n    actions,\r\n    selectors\r\n});\r\n\r\nregister(store);","import AtfpActionTypes from \"./types\";\r\n\r\nconst TranslateDefaultState = {\r\n    title: {},\r\n    excerpt: {},\r\n    content: []\r\n};\r\n\r\nconst reducer = (state = TranslateDefaultState, action) => {\r\n    switch (action.type) {\r\n        case AtfpActionTypes.sourceTitle:\r\n            if (/[^\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, title: { ...state.title, source: action.text } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedTitle:\r\n            return { ...state, title: { ...state.title, target: action.text } };\r\n        case AtfpActionTypes.sourceExcerpt:\r\n            if (/[^\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, excerpt: { ...state.excerpt, source: action.text } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedExcerpt:\r\n            return { ...state, excerpt: { ...state.excerpt, target: action.text } };\r\n        case AtfpActionTypes.sourceContent:\r\n            if (/[^\\p{L}\\p{N}]/gu.test(action.text)) {\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), source: action.text, index: action.index } } };\r\n            }\r\n            return state;\r\n        case AtfpActionTypes.traslatedContent:\r\n            if (state.content[action.id].source === action.source) {\r\n                return { ...state, content: { ...state.content, [action.id]: { ...(state.content[action.id] || []), target: action.text } } };\r\n            }\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","export const getTranslationEntry = (state) => {\r\n    const translateEntry = new Array;\r\n\r\n    translateEntry.push({ id: 'title', source: state.title.source, type: 'title', target: (state.title.target || '') });\r\n    translateEntry.push({ id: 'excerpt', source: state.excerpt.source, type: 'excerpt', target: (state.excerpt.target || '') });\r\n\r\n    Object.keys(state.content).map(key => {\r\n        const newIndex = state.content[key].index + 2;\r\n        translateEntry[newIndex] = { type: 'content', id: key, source: state.content[key].source, target: (state.content[key].target || '') };\r\n    });\r\n\r\n    return translateEntry;\r\n};\r\n\r\nexport const getTranslatedString = (state, type, source, id = null) => {\r\n    if (type !== 'content' && state[type].source === source) {\r\n        return state[type].target;\r\n    } else if (state[type] && state[type][id] && state[type][id].source === source) {\r\n        return undefined !== state[type][id].target ? state[type][id].target : state[type][id].source;\r\n    }\r\n    return source;\r\n}","const AtfpActionTypes = {\r\n    sourceTitle: 'SAVE_SOURCE_TITLE',\r\n    traslatedTitle: 'SAVE_TRANSLATE_TITLE',\r\n    sourceExcerpt: 'SAVE_SOURCE_EXCERPT',\r\n    traslatedExcerpt: 'SAVE_TRANSLATE_EXCERPT',\r\n    sourceContent: 'SAVE_SOURCE_CONTENT',\r\n    traslatedContent: 'SAVE_TRANSLATE_CONTENT',\r\n};\r\n\r\nexport default AtfpActionTypes;","import ReactDOM from \"react-dom\";\r\nimport { useEffect, useState } from \"@wordpress/element\";\r\nimport PopStringModal from \"./popupStringModal\";\r\nconst { sprintf, __ } = wp.i18n;\r\n\r\nconst PopupModal = (props) => {\r\n    const [fetchStatus, setFetchStatus] = useState(false);\r\n    const [targetBtn, setTargetBtn] = useState({});\r\n    const [blockRules, setBlockRules] = useState({});\r\n    const [modalRender, setModalRender] = useState({});\r\n    const [settingVisibility, setSettingVisibility] = useState(true);\r\n    const sourceLang = atfp_ajax_object.source_lang;\r\n    const targetLang = props.targetLang;\r\n    const sourceLangName = atfp_ajax_object.languageObject[sourceLang];\r\n    const targetLangName = atfp_ajax_object.languageObject[targetLang];\r\n    const apiUrl = atfp_ajax_object.ajax_url;\r\n    const imgFolder = atfp_ajax_object.atfp_url + 'assets/images/';\r\n\r\n    /**\r\n     * Prepare data to send in API request.\r\n     */\r\n    const apiSendData = {\r\n        atfp_nonce: atfp_ajax_object.ajax_nonce,\r\n        action: atfp_ajax_object.action_block_rules\r\n    };\r\n\r\n    /**\r\n     * Update the fetch status state.\r\n     * @param {boolean} state - The state to update the fetch status with.\r\n     */\r\n    const updateFetch = (state) => {\r\n        setFetchStatus(state);\r\n    }\r\n\r\n    /**\r\n     * useEffect hook to set settingVisibility.\r\n     * Triggers the setSettingVisibility only when user click on meta field Button.\r\n    */\r\n    useEffect(() => {\r\n        const metaFieldBtn = document.querySelector('input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n\r\n        if (metaFieldBtn) {\r\n            metaFieldBtn.addEventListener('click', () => {\r\n                setSettingVisibility(prev => !prev);\r\n            });\r\n        }\r\n    }, [])\r\n\r\n    /**\r\n     * useEffect hook to fetch block rules data from the server.\r\n     * Triggers the fetch only when fetchStatus is true and blockRules is empty.\r\n     */\r\n    useEffect(() => {\r\n        if (Object.keys(blockRules).length > 0 || !fetchStatus) {\r\n            return;\r\n        }\r\n\r\n        fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n            },\r\n            body: new URLSearchParams(apiSendData)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                const blockRules = JSON.parse(data.data.blockRules);\r\n\r\n                setBlockRules(blockRules);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching post content:', error);\r\n            });\r\n    }, [fetchStatus])\r\n\r\n    /**\r\n     * useEffect hook to handle displaying the modal and rendering the PopStringModal component.\r\n     * Renders the modal only when blockRules is not empty and fetchStatus is true.\r\n     */\r\n    useEffect(() => {\r\n\r\n        if (Object.keys(blockRules).length <= 0) {\r\n            return;\r\n        }\r\n\r\n        const btn = targetBtn;\r\n        const service = btn.dataset && btn.dataset.service;\r\n        const serviceLabel = btn.dataset && btn.dataset.serviceLabel;\r\n        // const postId = urlParams.get('from_post');\r\n        const postId = props.postId;\r\n\r\n        console.log(postId);\r\n\r\n        const parentWrp = document.getElementById(\"atfp_strings_model\");\r\n\r\n        if (fetchStatus && Object.keys(blockRules).length > 0) {\r\n            ReactDOM.render(<PopStringModal\r\n                blockRules={blockRules}\r\n                visibility={fetchStatus}\r\n                updateFetch={updateFetch}\r\n                postId={postId}\r\n                service={service}\r\n                serviceLabel={serviceLabel}\r\n                sourceLang={sourceLang}\r\n                targetLang={targetLang}\r\n                modalRender={modalRender}\r\n                pageTranslate={props.pageTranslate}\r\n            />, parentWrp);\r\n            setSettingVisibility(prev => !prev);\r\n        }\r\n    }, [fetchStatus, blockRules]);\r\n\r\n    /**\r\n     * Function to handle fetching content based on the target button clicked.\r\n     * Sets the target button and updates the fetch status to true.\r\n     * @param {Event} e - The event object representing the button click.\r\n     */\r\n    const fetchContent = (e) => {\r\n        let targetElement = !e.target.classList.contains('atfp-service-btn') ? e.target.closest('.atfp-service-btn') : e.target;\r\n        setModalRender(prev => prev + 1);\r\n        setTargetBtn(targetElement);\r\n        setFetchStatus(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {settingVisibility &&\r\n                <div className=\"modal-container\" style={{ display: settingVisibility ? 'flex' : 'none' }}>\r\n                    <div className=\"atfp-settings modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h2>{__(\"Step 1 - Select Translation Provider (Beta)\", 'automatic-translation-for-polylang')}</h2>\r\n                            <h4>{sprintf(__(\"Translate post content from %(source)s to %(target)s\", 'automatic-translation-for-polylang'), { source: sourceLangName, target: targetLangName })}</h4>\r\n                            <span className=\"close\" onClick={() => setSettingVisibility(false)}>&times;</span>\r\n                        </div>\r\n                        <hr />\r\n                        <strong className=\"atlt-heading\">{__(\"Translate Using Yandex Page Translate Widget\", 'automatic-translation-for-polylang')}</strong>\r\n                        <div className=\"inputGroup\">\r\n                            <button className=\"atfp-service-btn translate button button-primary\" data-service=\"yandex\" data-service-label=\"Yandex Translate\" onClick={fetchContent}>{__(\"Yandex Translate (Beta)\", 'automatic-translation-for-polylang')}</button>\r\n                            <br /><a href=\"https://translate.yandex.com/\" target=\"_blank\"><img className=\"pro-features-img\" src={`${imgFolder}powered-by-yandex.png`} alt=\"powered by Yandex Translate Widget\" /></a>\r\n                        </div>\r\n                        <hr />\r\n                        <ul style={{ margin: \"0\" }}>\r\n                            <li><span style={{ color: \"green\" }}></span> {__(\"Unlimited Translations with Yandex Translate\", 'automatic-translation-for-polylang')}</li>\r\n                            <li><span style={{ color: \"green\" }}></span> {__(\"No API Key Required for Yandex Translate\", 'automatic-translation-for-polylang')}</li>\r\n                            <li><span style={{ color: \"green\" }}></span> {__(\"Supports Multiple Languages\", 'automatic-translation-for-polylang')} - <a href=\"https://yandex.com/support2/translate-desktop/en/supported-langs\" target=\"_blank\">{__(\"See Supported Languages\", 'automatic-translation-for-polylang')}</a></li>\r\n                        </ul>\r\n                        <hr />\r\n                        <div className=\"modal-footer\">\r\n                            <button className=\"atfp-setting-close\" onClick={() => setSettingVisibility(false)}>{__(\"Close\", 'automatic-translation-for-polylang')}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PopupModal;","import { useState } from \"react\";\r\nimport FetchPost from \"../fetch-post\";\r\nconst { __ } = wp.i18n;\r\nconst { select } = wp.data;\r\n\r\nconst StringPopUpBody = (props) => {\r\n\r\n    const { service: service, serviceLabel: serviceLabel } = props;\r\n    const [stringAvality, setStringAvality] = useState(false);\r\n\r\n    let totalWordCount = 0;\r\n    /**\r\n     * Updates the post content with the provided content.\r\n     * @param {string} content - The content to update the post with.\r\n     */\r\n    const updatePostContent = (content) => {\r\n        props.updatePostContent(content);\r\n        const translationEntry = select(\"block-atfp/translate\").getTranslationEntry();\r\n\r\n        const totalString = Object.values(translationEntry).filter(data => data.source !== undefined && /[^\\p{L}\\p{N}]/gu.test(data.source));\r\n\r\n        if (Object.keys(totalString).length > 0) {\r\n            setStringAvality(true);\r\n        } else {\r\n            setStringAvality(false);\r\n        }\r\n    }\r\n\r\n    const updateTranslateContent = (entries) => {\r\n        if (Object.getPrototypeOf(entries) === Object.prototype && entries.stringRenderComplete === true) {\r\n            props.stringCountHandler(totalWordCount);\r\n            return;\r\n        }\r\n        let entrie = entries.join(\" \");\r\n\r\n        if (undefined === entrie || entrie.trim() === '') {\r\n            return;\r\n        };\r\n\r\n        entrie = entrie.replace(/#atfp_open_translate_span#(.*?)#atfp_close_translate_span#/g, '');\r\n\r\n        const wordCount = entrie.trim().split(/\\s+/).filter(word => /[^\\p{L}\\p{N}]/.test(word)).length;\r\n\r\n        totalWordCount += wordCount;\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-body\">\r\n            <div className=\"atfp_translate_progress\">{__(\"Automatic translation is in progress....\", 'automatic-translation-for-polylang')}<br />{__(\"It will take few minutes, enjoy  coffee in this time!\", 'automatic-translation-for-polylang')}<br /><br />{__(\"Please do not leave this window or browser tab while translation is in progress...\", 'automatic-translation-for-polylang')}</div>\r\n            <div className={`translator-widget ${service}`} style={{ display: `${stringAvality ? 'block' : 'none'}` }}>\r\n                <h3 class=\"choose-lang\">{__(\"Choose language\", 'automatic-translation-for-polylang')} <span class=\"dashicons-before dashicons-translation\"></span></h3>\r\n                <div id=\"atfp_yandex_translate_element\" style={{ display: `${service === 'yandex' ? 'block' : 'none'}` }}></div>\r\n            </div>\r\n\r\n            <div className={`atfp_string_container ${!stringAvality ? 'atfp_empty_string' : ''}`}>\r\n                <table className=\"scrolldown\" id=\"stringTemplate\">\r\n                    {stringAvality &&\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"notranslate\">{__(\"S.No\", 'automatic-translation-for-polylang')}</th>\r\n                                <th className=\"notranslate\">{__(\"Source Text\", 'automatic-translation-for-polylang')}</th>\r\n                                <th className=\"notranslate\">{__(\"Translation\", 'automatic-translation-for-polylang')}</th>\r\n                            </tr>\r\n                        </thead>\r\n                    }\r\n                    <tbody>\r\n                        <FetchPost blockRules={props.blockRules} setPostData={updatePostContent} {...props} translateContent={updateTranslateContent} />\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpBody;\r\n","import translatePost from \"../component/createTranslatedPost\";\r\nimport StringPopUpNotice from \"./notice\";\r\nconst { sprintf, __ } = wp.i18n;\r\n\r\nconst StringPopUpFooter = (props) => {\r\n\r\n    /**\r\n     * Function to close the popup modal.\r\n     */\r\n    const closeModal = () => {\r\n        props.setPopupVisibility(false);\r\n    }\r\n\r\n    /**\r\n     * Function to create a translated post using the provided content, translation, block rules, and modal close function.\r\n     */\r\n    const createTranslatedPost = () => {\r\n        const postContent = props.postContent;\r\n        const blockRules = props.blockRules;\r\n        const modalClose = closeModal;\r\n\r\n        translatePost({ postContent: postContent, modalClose: modalClose, blockRules: blockRules });\r\n        props.pageTranslate(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-footer\" key={props.modalRender}>\r\n            {!props.translateStatus && props.stringCount && <StringPopUpNotice className=\"atfp_string_count\">{sprintf(__(\"Automated translation complete: %s strings translated, saving valuable time and resources.\", 'automatic-translation-for-polylang'), props.stringCount)}</StringPopUpNotice>}\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translateStatus} onClick={createTranslatedPost}>{__(\"Update Content\", 'automatic-translation-for-polylang')}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpFooter;","import translatePost from \"../component/createTranslatedPost\";\r\nconst { __ } = wp.i18n;\r\n\r\nconst StringPopUpHeader = (props) => {\r\n\r\n    /**\r\n     * Function to close the popup modal.\r\n     */\r\n    const closeModal = () => {\r\n        props.setPopupVisibility(false);\r\n    }\r\n\r\n    /**\r\n     * Function to create a translated post using the provided content, translation settings, block rules, and modal close function.\r\n     */\r\n    const createTranslatedPost = () => {\r\n        const postContent = props.postContent;\r\n        const blockRules = props.blockRules;\r\n        const modalClose = closeModal;\r\n\r\n        translatePost({ postContent: postContent, modalClose: modalClose, blockRules: blockRules });\r\n\r\n        props.pageTranslate(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-header\" key={props.modalRender}>\r\n            <span className=\"close\" onClick={closeModal}>&times;</span>\r\n            <h2 className=\"notranslate\">{__(\"Step 2 - Start Automatic Translation Process (Beta)\", 'automatic-translation-for-polylang')}</h2>\r\n            <div className=\"save_btn_cont\">\r\n                <button className=\"notranslate save_it button button-primary\" disabled={props.translateStatus} onClick={createTranslatedPost}>{__(\"Update Content\", 'automatic-translation-for-polylang')}</button>\r\n            </div>\r\n            <div style={{ display: \"none\" }} className=\"ytstats hidden\">\r\n                {__(\"Wahooo! You have saved your valuable time via auto translating\", 'automatic-translation-for-polylang')}\r\n                <strong className=\"totalChars\"> </strong> {__(\"characters using\", 'automatic-translation-for-polylang')}\r\n                <strong>\r\n                    <a href=\"https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post\" target=\"_new\">\r\n                        {__(\"Loco Automatic Translate Addon\", 'automatic-translation-for-polylang')}\r\n                    </a>\r\n                </strong>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpHeader;","import { useEffect, useState } from \"@wordpress/element\";\r\nimport StringPopUpHeader from \"./header\";\r\nimport StringPopUpBody from \"./body\";\r\nimport StringPopUpFooter from \"./footer\";\r\nimport TranslateService from \"../component/TranslateProvider\";\r\n\r\nconst popStringModal = (props) => {\r\n    const [popupVisibility, setPopupVisibility] = useState(props.visibility);\r\n    const [refPostData, setRefPostData] = useState('');\r\n    const [translatePending, setTranslatePending] = useState(true);\r\n    const [translateObj, setTranslateObj] = useState({});\r\n    const [stringCount, setStringCount] = useState(false);\r\n\r\n    const stringCountHandler = (number) => {\r\n        if (popupVisibility) {\r\n            setStringCount(number);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the post content data.\r\n     * @param {string} data - The data to set as the post content.\r\n     */\r\n    const updatePostContentHandler = (data) => {\r\n        setRefPostData(data);\r\n    }\r\n\r\n    /**\r\n     * Updates the fetch state.\r\n     * @param {boolean} state - The state to update the fetch with.\r\n     */\r\n    const setPopupVisibilityHandler = (state) => {\r\n\r\n        if (props.service === 'yandex') {\r\n            document.querySelector('#atfp_yandex_translate_element #yt-widget .yt-button__icon.yt-button__icon_type_right')?.click();\r\n        }\r\n\r\n        setTranslatePending(true);\r\n        setPopupVisibility(false);\r\n        props.updateFetch(state);\r\n    }\r\n\r\n    const translateStatusHandler = () => {\r\n        setTranslatePending(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        document.documentElement.setAttribute('translate', 'no');\r\n        document.body.classList.add('notranslate');\r\n\r\n        /**\r\n         * Calls the translate service provider based on the service type.\r\n         * For example, it can call services like yandex Translate.\r\n        */\r\n        const service = props.service;\r\n        const id = `atfp_${service}_translate_element`;\r\n        if (undefined === translateObj[service] && true !== translateObj[service]) {\r\n            setTranslateObj(prev => { return { ...prev, [service]: true } });\r\n            TranslateService[service]({ sourceLang: props.sourceLang, targetLang: props.targetLang, translateStatus: translateStatusHandler, ID: id });\r\n        }\r\n    }, [props.service]);\r\n\r\n    useEffect(() => {\r\n        setPopupVisibility(true);\r\n        setTimeout(() => {\r\n            const stringModal = document.querySelector('.atfp_string_container');\r\n            if (stringModal) {\r\n                stringModal.scrollTop = 0\r\n            };\r\n        })\r\n    }, [props.modalRender])\r\n\r\n    return (\r\n        <>\r\n            <div class=\"modal-container\" style={{ display: popupVisibility ? 'flex' : 'none' }}>\r\n                <div class=\"modal-content\">\r\n                    <StringPopUpHeader modalRender={props.modalRender} setPopupVisibility={setPopupVisibilityHandler} postContent={refPostData} blockRules={props.blockRules} translateStatus={translatePending} pageTranslate={props.pageTranslate} />\r\n                    <StringPopUpBody {...props} updatePostContent={updatePostContentHandler} blockRules={props.blockRules} stringCountHandler={stringCountHandler} />\r\n                    <StringPopUpFooter modalRender={props.modalRender} setPopupVisibility={setPopupVisibilityHandler} postContent={refPostData} blockRules={props.blockRules} translateStatus={translatePending} pageTranslate={props.pageTranslate} stringCount={stringCount} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default popStringModal;","const StringPopUpNotice = (props) => {\r\n    return (\r\n        <div className={`notice inline notice-info is-dismissible ${props.className}`}>\r\n            {Array.isArray(props.children) ? props.children.join(' ') : props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StringPopUpNotice;","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import PopupModal from './popmodel';\r\nimport './global-store';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst init = () => {\r\n  let atfpModals = new Array();\r\n  const atfpSettingModalWrp = '<!-- The Modal --><div id=\"atfp-setting-modal\"></div>';\r\n  const atfpStringModalWrp = '<div id=\"atfp_strings_model\" class=\"modal atfp_custom_model\"></div>';\r\n\r\n  atfpModals.push(atfpSettingModalWrp, atfpStringModalWrp);\r\n\r\n  atfpModals.forEach(modal => {\r\n    document.body.insertAdjacentHTML('beforeend', modal);\r\n  });\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [pageTranslate, setPageTranslate] = useState(false);\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const targetLang = urlParams.get('new_lang');\r\n  const postId = urlParams.get('from_post');\r\n\r\n  const pageTranslateHandler = (status) => {\r\n    setPageTranslate(status);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pageTranslate) {\r\n      const metaFieldBtn = document.querySelector('input#atfp-translate-button[name=\"atfp_meta_box_translate\"]');\r\n      if (metaFieldBtn) {\r\n        metaFieldBtn.disabled = true;\r\n      }\r\n    }\r\n  }, [pageTranslate])\r\n\r\n  return (\r\n    <>\r\n      {!pageTranslate &&\r\n        <PopupModal pageTranslate={pageTranslateHandler} postId={postId} targetLang={targetLang} />\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\n// Append app root wrapper in body\r\ninit();\r\n// Render the main App component\r\nwindow.addEventListener('load', () => {\r\n  wp.element.render(<App />, document.getElementById('atfp-setting-modal'));\r\n});\r\n"],"names":["FilterTargetContent","props","wrapFirstAndMatchingClosingTag","html","tempElement","document","createElement","innerHTML","firstElement","firstElementChild","childElements","children","length","i","element","filterContent","outerHTML","firstElementOpeningTag","match","openTagName","tagName","toLowerCase","closingTagName","RegExp","closingTagMatch","wrappedFirstTag","firstElementHtml","openTag","closeTag","splitContent","string","pattern","matches","split","filter","Boolean","output","trim","filterSourceData","replaceInnerTextWithSpan","doc","childElementsReplace","textNode","createTextNode","replaceWith","innerText","content","service","translateContent","currentIndex","totalString","stringRenderComplete","notTranslatePattern","replacePlaceholderPattern","updatedContent","replace","React","Fragment","map","data","index","notTranslate","test","key","className","translate","YandexTranslater","yandex","SaveTranslationHandler","yandexWidget","win","nav","params","namespace","targetLang","translateStatus","util","keycode","ESCAPE","getRequest","XDomainRequest","XMLHttpRequest","loadScript","src","parent","callback","script","addEventListener","onLoad","removeEventListener","appendChild","loadResource","url","request","onload","responseText","open","setTimeout","send","getStyleList","value","getAttribute","hasStyleName","name","list","indexOf","addStyleName","push","setAttribute","join","removeStyleName","splice","isSupportedBrowser","compatMode","Button","contentElement","self","event","onClick","_element","_contentElement","prototype","setText","text","textContent","Select","form","itemName","reset","target","onSelect","alert","checked","onChange","_form","_itemName","isHidden","hasAttribute","getItems","getValue","n","items","setValue","setHidden","hidden","onHiddenChange","Widget","options","active","select","storage","autoMode","pageLang","userLang","translator","leftButton","rightButton","closeButton","defaultLang","_pageLang","_translator","onStateChange","enable","lang","setState","docElem","documentElement","formRect","focus","getBoundingClientRect","right","pageXOffset","scrollLeft","Math","max","clientWidth","scrollWidth","bottom","pageYOffset","scrollTop","clientHeight","scrollHeight","keyCode","on","abort","progress","hasState","undo","undefined","defaultcode","Storage","_name","_data","JSON","parse","localStorage","error","prop","stringify","wrapper","getElementById","widgetId","initWidget","querySelector","widgetTheme","language","userLanguage","PageTranslator","srv","autoSync","maxPortionLength","readyState","globalObj","window","navigator","sourceLang","yt","createBlock","wp","blocks","dispatch","filterTranslateAttr","block","blockParseRules","replaceAttrRules","filterAttrArr","Object","values","blockAttr","attributes","blockId","clientId","updateNestedAttribute","obj","path","attrReplaceKey","keys","attrKeyJoin","slice","attrReplace","includes","filterReplaceBlockName","pop","newObj","current","getPrototypeOf","Array","updateTranslatedAttr","idArr","filterAttrObj","newIdArr","childIdArr","dynamicBlockAttr","uniqueId","forEach","blockAttrContent","filterKey","getTranslatedString","childAttrArray","childAttr","filterObj","filterObjType","attrFilter","_","nestedId","createTranslatedBlock","childBlock","blockRules","blockName","blockTranslateName","AtfpBlockParseRules","attribute","translatedBlock","newBlock","AtfpCoreAttrReplace","cretaeChildBlock","innerBlocks","createBlocks","parentBlock","insertBlock","translatePost","editPost","modalClose","postContent","postDataUpdate","editPostData","sourceData","postContentUpdate","postContentData","contentIndex","filterAttr","saveTranslatedAttr","contentSaveSource","getTranslateString","childBlockAttributesContent","blockAttributeContent","parseBlock","saveTranslation","action","ScrollAnimation","scrollSpeed","startTime","startScrollTop","animateScroll","currentTime","performance","now","duration","scrollTarget","scrollPosition","requestAnimationFrame","translateData","type","contentSaveTranslate","source","updateTranslatedContent","container","stringContainer","translatedData","querySelectorAll","ele","translatedText","dataset","stringType","sourceText","closest","onCompleteTranslation","style","display","animation","body","top","saveButton","removeAttribute","classList","add","remove","translateComplete","floor","offsetHeight","isScrolledToBottom","useEffect","useState","__","i18n","FetchPost","setTranslateContent","stringAvality","setStringAvality","apiUrl","atfp_ajax_object","ajax_url","apiSendData","postId","parseInt","atfp_nonce","ajax_nonce","action_fetch","fetch","method","headers","URLSearchParams","then","response","json","post_data","setPostData","translationEntry","getTranslationEntry","catch","console","fetchKey","sNo","class","id","AtfpActionTypes","titleSaveSource","sourceTitle","titleSaveTranslate","traslatedTitle","excerptSaveSource","sourceExcerpt","excerptSaveTranslate","traslatedExcerpt","sourceContent","traslatedContent","reducer","actions","selectors","createReduxStore","register","store","TranslateDefaultState","title","excerpt","state","translateEntry","newIndex","ReactDOM","PopStringModal","sprintf","PopupModal","fetchStatus","setFetchStatus","targetBtn","setTargetBtn","setBlockRules","modalRender","setModalRender","settingVisibility","setSettingVisibility","source_lang","sourceLangName","languageObject","targetLangName","imgFolder","atfp_url","action_block_rules","updateFetch","metaFieldBtn","prev","btn","serviceLabel","log","parentWrp","render","visibility","pageTranslate","fetchContent","e","targetElement","contains","href","alt","margin","color","StringPopUpBody","totalWordCount","updatePostContent","updateTranslateContent","entries","stringCountHandler","entrie","wordCount","word","_extends","StringPopUpNotice","StringPopUpFooter","closeModal","setPopupVisibility","createTranslatedPost","stringCount","disabled","StringPopUpHeader","TranslateService","popStringModal","popupVisibility","refPostData","setRefPostData","translatePending","setTranslatePending","translateObj","setTranslateObj","setStringCount","number","updatePostContentHandler","setPopupVisibilityHandler","click","translateStatusHandler","ID","stringModal","isArray","init","atfpModals","atfpSettingModalWrp","atfpStringModalWrp","modal","insertAdjacentHTML","App","setPageTranslate","urlParams","location","search","get","pageTranslateHandler","status"],"sourceRoot":""}